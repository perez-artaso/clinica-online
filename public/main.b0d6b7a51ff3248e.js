"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{440:(Ot,Be,L)=>{L.d(Be,{nm:()=>xi});var g=L(5813);L(4650),L(5867);var _e=L(5861),st=L(9681),it=L(4859),yt=L(2090),at=L(1877);const me=new Map,Je={activated:!1,tokenObservers:[]},ae={initialized:!1,enabled:!1};function Ae(Me){return me.get(Me)||Je}function fe(Me,Re){me.set(Me,Re)}function Fe(){return ae}class Mt{constructor(Re,He,ft,xt,Yt){if(this.operation=Re,this.retryPolicy=He,this.getWaitDuration=ft,this.lowerBound=xt,this.upperBound=Yt,this.pending=null,this.nextErrorWaitInterval=xt,xt>Yt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Re){var He=this;return(0,_e.Z)(function*(){He.stop();try{He.pending=new yt.BH,yield function Tt(Me){return new Promise(Re=>{setTimeout(Re,Me)})}(He.getNextRun(Re)),He.pending.resolve(),yield He.pending.promise,He.pending=new yt.BH,yield He.operation(),He.pending.resolve(),yield He.pending.promise,He.process(!0).catch(()=>{})}catch(ft){He.retryPolicy(ft)?He.process(!1).catch(()=>{}):He.stop()}})()}getNextRun(Re){if(Re)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const He=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),He}}}const Dt=new yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ht(Me){if(!Ae(Me).activated)throw Dt.create("use-before-activation",{appName:Me.name})}function Kn(Me,Re){return er.apply(this,arguments)}function er(){return(er=(0,_e.Z)(function*({url:Me,body:Re},He){var ft,xt;const Yt={"Content-Type":"application/json"},xn=He.getImmediate({optional:!0});if(xn){const Ii=yield xn.getHeartbeatsHeader();Ii&&(Yt["X-Firebase-Client"]=Ii)}const $r={method:"POST",body:JSON.stringify(Re),headers:Yt};let cr,ss;try{cr=yield fetch(Me,$r)}catch(Ii){throw Dt.create("fetch-network-error",{originalErrorMessage:null===(ft=Ii)||void 0===ft?void 0:ft.message})}if(200!==cr.status)throw Dt.create("fetch-status-error",{httpStatus:cr.status});try{ss=yield cr.json()}catch(Ii){throw Dt.create("fetch-parse-error",{originalErrorMessage:null===(xt=Ii)||void 0===xt?void 0:xt.message})}const _o=ss.ttl.match(/^([\d.]+)(s)$/);if(!_o||!_o[2]||isNaN(Number(_o[1])))throw Dt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ss.ttl}`});const Js=1e3*Number(_o[1]),wi=Date.now();return{token:ss.token,expireTimeMillis:wi+Js,issuedAtTimeMillis:wi}})).apply(this,arguments)}function Wt(Me,Re){const{projectId:He,appId:ft,apiKey:xt}=Me.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${He}/apps/${ft}:exchangeDebugToken?key=${xt}`,body:{debug_token:Re}}}const mn="firebase-app-check-store";let hr=null;function tr(){return hr||(hr=new Promise((Me,Re)=>{var He;try{const ft=indexedDB.open("firebase-app-check-database",1);ft.onsuccess=xt=>{Me(xt.target.result)},ft.onerror=xt=>{var Yt;Re(Dt.create("storage-open",{originalErrorMessage:null===(Yt=xt.target.error)||void 0===Yt?void 0:Yt.message}))},ft.onupgradeneeded=xt=>{0===xt.oldVersion&&xt.target.result.createObjectStore(mn,{keyPath:"compositeKey"})}}catch(ft){Re(Dt.create("storage-open",{originalErrorMessage:null===(He=ft)||void 0===He?void 0:He.message}))}}),hr)}function Hn(){return(Hn=(0,_e.Z)(function*(Me,Re){const ft=(yield tr()).transaction(mn,"readwrite"),Yt=ft.objectStore(mn).put({compositeKey:Me,value:Re});return new Promise((xn,$r)=>{Yt.onsuccess=cr=>{xn()},ft.onerror=cr=>{var ss;$r(Dt.create("storage-set",{originalErrorMessage:null===(ss=cr.target.error)||void 0===ss?void 0:ss.message}))}})})).apply(this,arguments)}const wr=new at.Yd("@firebase/app-check");function wn(Me,Re){return(0,yt.hl)()?function Jr(Me,Re){return function Pn(Me,Re){return Hn.apply(this,arguments)}(function nr(Me){return`${Me.options.appId}-${Me.name}`}(Me),Re)}(Me,Re).catch(He=>{wr.warn(`Failed to write token to IndexedDB. Error: ${He}`)}):Promise.resolve()}function zi(){return Fe().enabled}function $n(){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,_e.Z)(function*(){const Me=Fe();if(Me.enabled&&Me.token)return Me.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zt={error:"UNKNOWN_ERROR"};function mt(Me){return yt.US.encodeString(JSON.stringify(Me),!1)}function Lt(Me){return yn.apply(this,arguments)}function yn(){return(yn=(0,_e.Z)(function*(Me,Re=!1){const He=Me.app;Ht(He);const ft=Ae(He);let Yt,xt=ft.token;if(xt&&!lt(xt)&&(fe(He,Object.assign(Object.assign({},ft),{token:void 0})),xt=void 0),!xt){const cr=yield ft.cachedTokenPromise;cr&&(lt(cr)?xt=cr:yield wn(He,void 0))}if(!Re&&xt&&lt(xt))return{token:xt.token};let $r,xn=!1;if(zi()){ft.exchangeTokenPromise||(ft.exchangeTokenPromise=Kn(Wt(He,yield $n()),Me.heartbeatServiceProvider).finally(()=>{ft.exchangeTokenPromise=void 0}),xn=!0);const cr=yield ft.exchangeTokenPromise;return yield wn(He,cr),fe(He,Object.assign(Object.assign({},ft),{token:cr})),{token:cr.token}}try{ft.exchangeTokenPromise||(ft.exchangeTokenPromise=ft.provider.getToken().finally(()=>{ft.exchangeTokenPromise=void 0}),xn=!0),xt=yield ft.exchangeTokenPromise}catch(cr){"appCheck/throttled"===cr.code?wr.warn(cr.message):wr.error(cr),Yt=cr}return xt?Yt?$r=lt(xt)?{token:xt.token,internalError:Yt}:ke(Yt):($r={token:xt.token},fe(He,Object.assign(Object.assign({},ft),{token:xt})),yield wn(He,xt)):$r=ke(Yt),xn&&Se(He,$r),$r})).apply(this,arguments)}function _n(Me,Re){const He=Ae(Me),ft=He.tokenObservers.filter(xt=>xt.next!==Re);0===ft.length&&He.tokenRefresher&&He.tokenRefresher.isRunning()&&He.tokenRefresher.stop(),fe(Me,Object.assign(Object.assign({},He),{tokenObservers:ft}))}function Ce(Me){const{app:Re}=Me,He=Ae(Re);let ft=He.tokenRefresher;ft||(ft=function he(Me){const{app:Re}=Me;return new Mt((0,_e.Z)(function*(){let ft;if(ft=Ae(Re).token?yield Lt(Me,!0):yield Lt(Me),ft.error)throw ft.error;if(ft.internalError)throw ft.internalError}),()=>!0,()=>{const He=Ae(Re);if(He.token){let ft=He.token.issuedAtTimeMillis+.5*(He.token.expireTimeMillis-He.token.issuedAtTimeMillis)+3e5;return ft=Math.min(ft,He.token.expireTimeMillis-3e5),Math.max(0,ft-Date.now())}return 0},3e4,96e4)}(Me),fe(Re,Object.assign(Object.assign({},He),{tokenRefresher:ft}))),!ft.isRunning()&&He.isTokenAutoRefreshEnabled&&ft.start()}function Se(Me,Re){const He=Ae(Me).tokenObservers;for(const ft of He)try{"EXTERNAL"===ft.type&&null!=Re.error?ft.error(Re.error):ft.next(Re)}catch{}}function lt(Me){return Me.expireTimeMillis-Date.now()>0}function ke(Me){return{token:mt(zt),error:Me}}class Pt{constructor(Re,He){this.app=Re,this.heartbeatServiceProvider=He}_delete(){const{tokenObservers:Re}=Ae(this.app);for(const He of Re)_n(this.app,He.next);return Promise.resolve()}}const Ds="app-check-internal";!function Mi(){(0,st._registerComponent)(new it.wA("app-check",Me=>function sn(Me,Re){return new Pt(Me,Re)}(Me.getProvider("app").getImmediate(),Me.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Me,Re,He)=>{Me.getProvider(Ds).initialize()})),(0,st._registerComponent)(new it.wA(Ds,Me=>function kn(Me){return{getToken:Re=>Lt(Me,Re),addTokenListener:Re=>function pn(Me,Re,He,ft){const{app:xt}=Me,Yt=Ae(xt),xn={next:He,error:ft,type:Re};if(fe(xt,Object.assign(Object.assign({},Yt),{tokenObservers:[...Yt.tokenObservers,xn]})),Yt.token&&lt(Yt.token)){const $r=Yt.token;Promise.resolve().then(()=>{He({token:$r.token}),Ce(Me)}).catch(()=>{})}Yt.cachedTokenPromise.then(()=>Ce(Me))}(Me,"INTERNAL",Re),removeTokenListener:Re=>_n(Me.app,Re)}}(Me.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,st.registerVersion)("@firebase/app-check","0.5.15")}();class xi{constructor(){return(0,g.vb)("app-check")}}typeof window<"u"&&window},1041:(Ot,Be,L)=>{L.d(Be,{zQ:()=>Fe,ww:()=>$e,rT:()=>Je,f7:()=>Ae,L6:()=>at,_Q:()=>me,lh:()=>ae,Qv:()=>yt,nw:()=>fe});var g=L(4650),p=L(7579),j=L(9646),ce=L(9751),pe=L(8996),ue=L(6451),ye=L(5363),we=L(3900),Ne=L(4004),se=L(4707),le=L(3099);function be(Qe,Pe,qe){let ze,Ve=!1;return Qe&&"object"==typeof Qe?({bufferSize:ze=1/0,windowTime:Pe=1/0,refCount:Ve=!1,scheduler:qe}=Qe):ze=Qe??1/0,(0,le.B)({connector:()=>new se.t(ze,Pe,qe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ve})}var gt=L(590),dt=L(576);function Xe(Qe,Pe){return(0,dt.m)(Pe)?(0,we.w)(()=>Qe,Pe):(0,we.w)(()=>Qe)}var Rt=L(9468),nt=L(9300),Ye=L(5813),Ft=L(2011),Gt=L(6895),_e=L(440),st=L(127);const yt=new g.OlP("angularfire2.auth.use-emulator"),at=new g.OlP("angularfire2.auth.settings"),me=new g.OlP("angularfire2.auth.tenant-id"),Je=new g.OlP("angularfire2.auth.langugage-code"),ae=new g.OlP("angularfire2.auth.use-device-language"),Ae=new g.OlP("angularfire.auth.persistence"),fe=(Qe,Pe,qe,ze,Ve,Mt,Tt,Zt)=>(0,Ft.cc)(`${Qe.name}.auth`,"AngularFireAuth",Qe.name,()=>{const Dt=Pe.runOutsideAngular(()=>Qe.auth());if(qe&&Dt.useEmulator(...qe),ze&&(Dt.tenantId=ze),Dt.languageCode=Ve,Mt&&Dt.useDeviceLanguage(),Tt)for(const[En,Ht]of Object.entries(Tt))Dt.settings[En]=Ht;return Zt&&Dt.setPersistence(Zt),Dt},[qe,ze,Ve,Mt,Tt,Zt]);let Fe=(()=>{class Qe{constructor(qe,ze,Ve,Mt,Tt,Zt,Dt,En,Ht,gn,jn,Kn){const er=new p.x,un=(0,j.of)(void 0).pipe((0,ye.Q)(Tt.outsideAngular),(0,we.w)(()=>Mt.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9545)))),(0,Ne.U)(()=>(0,Ft.on)(qe,Mt,ze)),(0,Ne.U)(br=>fe(br,Mt,Zt,En,Ht,gn,Dt,jn)),be({bufferSize:1,refCount:!1}));if((0,Gt.PM)(Ve))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,j.of)(null);else{un.pipe((0,gt.P)()).subscribe();const Wt=un.pipe((0,we.w)(mn=>mn.getRedirectResult().then(St=>St,()=>null)),Ye.iC,be({bufferSize:1,refCount:!1})),Tr=un.pipe((0,we.w)(mn=>new ce.y(St=>({unsubscribe:Mt.runOutsideAngular(()=>mn.onAuthStateChanged(hr=>St.next(hr),hr=>St.error(hr),()=>St.complete()))})))),Or=un.pipe((0,we.w)(mn=>new ce.y(St=>({unsubscribe:Mt.runOutsideAngular(()=>mn.onIdTokenChanged(hr=>St.next(hr),hr=>St.error(hr),()=>St.complete()))}))));this.authState=Wt.pipe(Xe(Tr),(0,Rt.R)(Tt.outsideAngular),(0,ye.Q)(Tt.insideAngular)),this.user=Wt.pipe(Xe(Or),(0,Rt.R)(Tt.outsideAngular),(0,ye.Q)(Tt.insideAngular)),this.idToken=this.user.pipe((0,we.w)(mn=>mn?(0,pe.D)(mn.getIdToken()):(0,j.of)(null))),this.idTokenResult=this.user.pipe((0,we.w)(mn=>mn?(0,pe.D)(mn.getIdTokenResult()):(0,j.of)(null))),this.credential=(0,ue.T)(Wt,er,this.authState.pipe((0,nt.h)(mn=>!mn))).pipe((0,Ne.U)(mn=>mn?.user?mn:null),(0,Rt.R)(Tt.outsideAngular),(0,ye.Q)(Tt.insideAngular))}return(0,Ft.pX)(this,un,Mt,{spy:{apply:(br,Wt,Tr)=>{(br.startsWith("signIn")||br.startsWith("createUser"))&&Tr.then(Or=>er.next(Or))}}})}}return Qe.\u0275fac=function(qe){return new(qe||Qe)(g.LFG(Ft.Dh),g.LFG(Ft.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Ye.HU),g.LFG(yt,8),g.LFG(at,8),g.LFG(me,8),g.LFG(Je,8),g.LFG(ae,8),g.LFG(Ae,8),g.LFG(_e.nm,8))},Qe.\u0275prov=g.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"any"}),Qe})(),$e=(()=>{class Qe{constructor(){st.Z.registerVersion("angularfire",Ye.q4.full,"auth-compat")}}return Qe.\u0275fac=function(qe){return new(qe||Qe)},Qe.\u0275mod=g.oAB({type:Qe}),Qe.\u0275inj=g.cJS({providers:[Fe]}),Qe})()},7566:(Ot,Be,L)=>{L.d(Be,{ST:()=>Uy,yb:()=>Vy});var g=L(4650),p=L(4986),j=L(9751),ce=L(8996),pe=L(9646),ue=L(5813),ye=L(8675),we=L(4482),Ne=L(5403);function se(){return(0,we.e)((i,e)=>{let t,o=!1;i.subscribe((0,Ne.x)(e,u=>{const d=t;t=u,o&&e.next([d,u]),o=!0}))})}var le=L(4004),be=L(5026),gt=L(4671);function Xe(i,e){return i===e}var ae,Rt=L(9300),nt=L(2011),Ye=L(6895),Gt=(L(9545),L(3942)),_e=L(5861),st=L(9681),it=L(4859),yt=L(1877),at=L(2090),me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Je={},Ae=Ae||{},fe=me||self;function Fe(){}function $e(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Qe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var qe="closure_uid_"+(1e9*Math.random()>>>0),ze=0;function Ve(i,e,t){return i.call.apply(i.bind,arguments)}function Mt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Tt(i,e,t){return(Tt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ve:Mt).apply(null,arguments)}function Zt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Dt(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,d){for(var _=Array(arguments.length-2),T=2;T<arguments.length;T++)_[T-2]=arguments[T];return e.prototype[u].apply(o,_)}}function En(){this.s=this.s,this.o=this.o}var gn={};En.prototype.s=!1,En.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Pe(i){return Object.prototype.hasOwnProperty.call(i,qe)&&i[qe]||(i[qe]=++ze)}(this);delete gn[i]}},En.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Kn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function er(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if($e(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let _=0;_<d;_++)i[u+_]=o[_]}else i.push(o)}}function un(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}un.prototype.h=function(){this.defaultPrevented=!0};var br=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{fe.addEventListener("test",Fe,e),fe.removeEventListener("test",Fe,e)}catch{}return i}();function Wt(i){return/^[\s\xa0]*$/.test(i)}var Tr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Or(i,e){return i<e?-1:i>e?1:0}function mn(){var i=fe.navigator;return i&&(i=i.userAgent)?i:""}function St(i){return-1!=mn().indexOf(i)}function hr(i){return hr[" "](i),i}hr[" "]=Fe;var qt,i,Sr=St("Opera"),Jr=St("Trident")||St("MSIE"),ts=St("Edge"),yr=ts||Jr,Pn=St("Gecko")&&!(-1!=mn().toLowerCase().indexOf("webkit")&&!St("Edge"))&&!(St("Trident")||St("MSIE"))&&!St("Edge"),Hn=-1!=mn().toLowerCase().indexOf("webkit")&&!St("Edge");function Xt(){var i=fe.document;return i?i.documentMode:void 0}e:{var nr="",wr=(i=mn(),Pn?/rv:([^\);]+)(\)|;)/.exec(i):ts?/Edge\/([\d\.]+)/.exec(i):Jr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Hn?/WebKit\/(\S+)/.exec(i):Sr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(wr&&(nr=wr?wr[1]:""),Jr){var fr=Xt();if(null!=fr&&fr>parseFloat(nr)){qt=String(fr);break e}}qt=nr}var fi={};var zi=fe.document&&Jr&&(Xt()||parseInt(qt,10))||void 0;function $n(i,e){if(un.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Pn){e:{try{hr(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ar[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&$n.X.h.call(this)}}Dt($n,un);var Ar={2:"touch",3:"pen",4:"mouse"};$n.prototype.h=function(){$n.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var dn="closure_listenable_"+(1e6*Math.random()|0),zt=0;function mt(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++zt,this.ba=this.ea=!1}function Lt(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function yn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function pn(i){const e={};for(const t in i)e[t]=i[t];return e}const _n="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ce(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let d=0;d<_n.length;d++)t=_n[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function he(i){this.src=i,this.g={},this.h=0}function Se(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],u=jn(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(Lt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function lt(i,e,t,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==o)return u}return-1}he.prototype.add=function(i,e,t,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var _=lt(i,e,o,u);return-1<_?(e=i[_],t||(e.ea=!1)):((e=new mt(e,this.src,d,!!o,u)).ea=t,i.push(e)),e};var ke="closure_lm_"+(1e6*Math.random()|0),Pt={};function sn(i,e,t,o,u){if(o&&o.once)return qn(i,e,t,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)sn(i,e[d],t,o,u);return null}return t=Dn(t),i&&i[dn]?i.N(e,t,Qe(o)?!!o.capture:!!o,u):kn(i,e,t,!1,o,u)}function kn(i,e,t,o,u,d){if(!e)throw Error("Invalid event type");var _=Qe(u)?!!u.capture:!!u,T=ht(i);if(T||(i[ke]=T=new he(i)),(t=T.add(e,t,o,_,d)).proxy)return t;if(o=function lr(){const e=Le;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)br||(u=_),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(re(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function qn(i,e,t,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)qn(i,e[d],t,o,u);return null}return t=Dn(t),i&&i[dn]?i.O(e,t,Qe(o)?!!o.capture:!!o,u):kn(i,e,t,!0,o,u)}function ge(i,e,t,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)ge(i,e[d],t,o,u);else o=Qe(o)?!!o.capture:!!o,t=Dn(t),i&&i[dn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=lt(d=i.g[e],t,o,u))&&(Lt(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=ht(i))&&(e=i.g[e.toString()],i=-1,e&&(i=lt(e,t,o,u)),(t=-1<i?e[i]:null)&&oe(t))}function oe(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[dn])Se(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(re(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=ht(e))?(Se(t,i),0==t.h&&(t.src=null,e[ke]=null)):Lt(i)}}}function re(i){return i in Pt?Pt[i]:Pt[i]="on"+i}function Le(i,e){if(i.ba)i=!0;else{e=new $n(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&oe(i),i=t.call(o,e)}return i}function ht(i){return(i=i[ke])instanceof he?i:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dn(i){return"function"==typeof i?i:(i[Kt]||(i[Kt]=function(e){return i.handleEvent(e)}),i[Kt])}function on(){En.call(this),this.i=new he(this),this.P=this,this.I=null}function Fn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new un(e,i);else if(e instanceof un)e.target=e.target||i;else{var u=e;Ce(e=new un(o,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var _=e.g=t[d];u=pi(_,o,!0,e)&&u}if(u=pi(_=e.g=i,o,!0,e)&&u,u=pi(_,o,!1,e)&&u,t)for(d=0;d<t.length;d++)u=pi(_=e.g=t[d],o,!1,e)&&u}function pi(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var _=e[d];if(_&&!_.ba&&_.capture==t){var T=_.listener,B=_.ha||_.src;_.ea&&Se(i.i,_),u=!1!==T.call(B,o)&&u}}return u&&!o.defaultPrevented}Dt(on,En),on.prototype[dn]=!0,on.prototype.removeEventListener=function(i,e,t,o){ge(this,i,e,t,o)},on.prototype.M=function(){if(on.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Lt(t[o]);delete i.g[e],i.h--}}this.I=null},on.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},on.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var bn=fe.JSON.stringify;function Mr(){var i=Wi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ns,ks=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new fs,i=>i.reset());class fs{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qr(i){fe.setTimeout(()=>{throw i},0)}function Fs(i,e){ns||function ii(){var i=fe.Promise.resolve(void 0);ns=function(){i.then(_r)}}(),Lr||(ns(),Lr=!0),Wi.add(i,e)}var Lr=!1,Wi=new class di{constructor(){this.h=this.g=null}add(e,t){const o=ks.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function _r(){for(var i;i=Mr();){try{i.h.call(i.g)}catch(t){qr(t)}var e=ks;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Lr=!1}function Ys(i,e){on.call(this),this.h=i||1,this.g=e||fe,this.j=Tt(this.lb,this),this.l=Date.now()}function Ds(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Mi(i,e,t){if("function"==typeof i)t&&(i=Tt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Tt(i.handleEvent,i)}return 2147483647<Number(e)?-1:fe.setTimeout(i,e||0)}function Ls(i){i.g=Mi(()=>{i.g=null,i.i&&(i.i=!1,Ls(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Dt(Ys,on),(ae=Ys.prototype).ca=!1,ae.R=null,ae.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Fn(this,"tick"),this.ca&&(Ds(this),this.start()))}},ae.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ae.M=function(){Ys.X.M.call(this),Ds(this),delete this.g};class rs extends En{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ls(this)}M(){super.M(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(i){En.call(this),this.h=i,this.g={}}Dt(xi,En);var ps=[];function Hr(i,e,t,o){Array.isArray(t)||(t&&(ps[0]=t.toString()),t=ps);for(var u=0;u<t.length;u++){var d=sn(e,t[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function is(i){yn(i.g,function(e,t){this.g.hasOwnProperty(t)&&oe(e)},i),i.g={}}function Ur(){this.g=!0}function Ui(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Pr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var _=1;_<u.length;_++)u[_]=""}}}return bn(t)}catch{return e}}(i,t)+(o?" "+o:"")})}xi.prototype.M=function(){xi.X.M.call(this),is(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ur.prototype.Aa=function(){this.g=!1},Ur.prototype.info=function(){};var ui={},bs=null;function Gs(){return bs=bs||new on}function co(i){un.call(this,ui.Pa,i)}function zs(i){const e=Gs();Fn(e,new co(e,i))}function mr(i,e){un.call(this,ui.STAT_EVENT,i),this.stat=e}function Me(i){const e=Gs();Fn(e,new mr(e,i))}function Re(i,e){un.call(this,ui.Qa,i),this.size=e}function He(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){i()},e)}ui.Pa="serverreachability",Dt(co,un),ui.STAT_EVENT="statevent",Dt(mr,un),ui.Qa="timingevent",Dt(Re,un);var ft={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},xt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Yt(){}function $r(){}Yt.prototype.h=null;var Js,cr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ss(){un.call(this,"d")}function _o(){un.call(this,"c")}function wi(){}function Ii(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new xi(this),this.O=Us,this.T=new Ys(i=yr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new gs}function gs(){this.i=null,this.g="",this.h=!1}Dt(ss,un),Dt(_o,un),Dt(wi,Yt),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},Js=new wi;var Us=45e3,ho={},qi={};function Vi(i,e,t){i.K=1,i.v=Ts(Ri(e)),i.s=t,i.P=!0,Ci(i,null)}function Ci(i,e){i.F=Date.now(),ys(i),i.A=Ri(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),As(t.i,"t",o),i.C=0,t=i.l.H,i.h=new gs,i.g=Ks(i.l,t?e:null,!i.s),0<i.N&&(i.L=new rs(Tt(i.La,i,i.g),i.N)),Hr(i.S,i.g,"readystatechange",i.ib),e=i.H?pn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),zs(1),function Ei(i,e,t,o,u,d){i.info(function(){if(i.g)if(d)for(var _="",T=d.split("&"),B=0;B<T.length;B++){var q=T[B].split("=");if(1<q.length){var te=q[0];q=q[1];var Ie=te.split("_");_=2<=Ie.length&&"type"==Ie[1]?_+(te+"=")+q+"&":_+(te+"=redacted&")}}else _=null;else _=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+_})}(i.j,i.u,i.A,i.m,i.U,i.s)}function os(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Ws(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=ms(i,t),u==qi){4==e&&(i.o=4,Me(14),o=!1),Ui(i.j,i.m,null,"[Incomplete Response]");break}if(u==ho){i.o=4,Me(15),Ui(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Ui(i.j,i.m,u,null),gi(i,u)}os(i)&&u!=qi&&u!=ho&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Me(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),li(e),e.K=!0,Me(11))):(Ui(i.j,i.m,t,"[Invalid Chunked Response]"),Kr(i),Zr(i))}function ms(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?qi:(t=Number(e.substring(t,o)),isNaN(t)?ho:(o+=1)+t>e.length?qi:(e=e.substr(o,t),i.C=o+t,e))}function ys(i){i.V=Date.now()+i.O,Po(i,i.O)}function Po(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=He(Tt(i.gb,i),e)}function as(i){i.B&&(fe.clearTimeout(i.B),i.B=null)}function Zr(i){0==i.l.G||i.I||ro(i.l,i)}function Kr(i){as(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ds(i.T),is(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function gi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Io(t.h,i)))if(!i.J&&Io(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Nr(t),K(t)}Jn(t),Me(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=He(Tt(t.cb,t),6e3));if(1>=eo(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Bi(t,11)}else if((i.J||t.g==i)&&Nr(t),!Wt(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let q=u[e];if(t.T=q[0],q=q[1],2==t.G)if("c"==q[0]){t.I=q[1],t.ka=q[2];const te=q[3];null!=te&&(t.ma=te,t.j.info("VER="+t.ma));const Ie=q[4];null!=Ie&&(t.Ca=Ie,t.j.info("SVER="+t.Ca));const Ke=q[5];null!=Ke&&"number"==typeof Ke&&0<Ke&&(t.J=o=1.5*Ke,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const pt=i.g;if(pt){const It=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(It){var d=o.h;d.g||-1==It.indexOf("spdy")&&-1==It.indexOf("quic")&&-1==It.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Yr(d,d.h),d.h=null))}if(o.D){const Jt=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jt&&(o.za=Jt,Gn(o.F,o.D,Jt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var _=i;if((o=t).sa=Zs(o,o.H?o.ka:null,o.V),_.J){Es(o.h,_);var T=_,B=o.J;B&&T.setTimeout(B),T.B&&(as(T),ys(T)),o.g=_}else Ir(o);0<t.i.length&&Ze(t)}else"stop"!=q[0]&&"close"!=q[0]||Bi(t,7);else 3==t.G&&("stop"==q[0]||"close"==q[0]?"stop"==q[0]?Bi(t,7):O(t):"noop"!=q[0]&&t.l&&t.l.wa(q),t.A=0)}zs(4)}catch{}}function Di(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if($e(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function vo(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if($e(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function _s(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if($e(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],t&&t[d],i)}(ae=Ii.prototype).setTimeout=function(i){this.O=i},ae.ib=function(i){i=i.target;const e=this.L;e&&3==cs(i)?e.l():this.La(i)},ae.La=function(i){try{if(i==this.g)e:{const te=cs(this.g);var e=this.g.Ea();const Ie=this.g.aa();if(!(3>te)&&(3!=te||yr||this.g&&(this.h.h||this.g.fa()||Yo(this.g)))){this.I||4!=te||7==e||zs(8==e||0>=Ie?3:2),as(this);var t=this.g.aa();this.Y=t;t:if(os(this)){var o=Yo(this.g);i="";var u=o.length,d=4==cs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),Zr(this);var _="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.fa();if(this.i=200==t,function lo(i,e,t,o,u,d,_){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+_})}(this.j,this.u,this.A,this.m,this.U,te,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var T,B=this.g;if((T=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wt(T)){var q=T;break t}}q=null}if(!(t=q)){this.i=!1,this.o=3,Me(12),Kr(this),Zr(this);break e}Ui(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gi(this,t)}this.P?(Ws(this,te,_),yr&&this.i&&3==te&&(Hr(this.S,this.T,"tick",this.hb),this.T.start())):(Ui(this.j,this.m,_,null),gi(this,_)),4==te&&Kr(this),this.i&&!this.I&&(4==te?ro(this.l,this):(this.i=!1,ys(this)))}else 400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Me(12)):(this.o=0,Me(13)),Kr(this),Zr(this)}}}catch{}},ae.hb=function(){if(this.g){var i=cs(this.g),e=this.g.fa();this.C<e.length&&(as(this),Ws(this,i,e),this.i&&4!=i&&ys(this))}},ae.cancel=function(){this.I=!0,Kr(this)},ae.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Wo(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zs(3),Me(17)),Kr(this),this.o=2,Zr(this)):Po(this,this.V-i)};var ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dr(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof dr){this.h=void 0!==e?e:i.h,Eo(this,i.j),this.s=i.s,this.g=i.g,Vr(this,i.m),this.l=i.l,e=i.i;var t=new vn;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Rr(this,t),this.o=i.o}else i&&(t=String(i).match(ko))?(this.h=!!e,Eo(this,t[1]||"",!0),this.s=Ni(t[2]||""),this.g=Ni(t[3]||"",!0),Vr(this,t[4]),this.l=Ni(t[5]||"",!0),Rr(this,t[6]||"",!0),this.o=Ni(t[7]||"")):(this.h=!!e,this.i=new vn(null,this.h))}function Ri(i){return new dr(i)}function Eo(i,e,t){i.j=t?Ni(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Vr(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Rr(i,e,t){e instanceof vn?(i.i=e,function Ms(i,e){e&&!i.j&&(Qr(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Zo(this,o),As(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Yn(e,qo)),i.i=new vn(e,i.h))}function Gn(i,e,t){i.i.set(e,t)}function Ts(i){return Gn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ni(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Yn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Ss),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ss(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}dr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Yn(e,vs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Yn(e,vs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Yn(t,"/"==t.charAt(0)?Zi:ca,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Yn(t,si)),i.join("")};var vs=/[#\/\?@]/g,ca=/[#\?:]/g,Zi=/[#\?]/g,qo=/[#\?@]/g,si=/#/g;function vn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Qr(i){i.g||(i.g=new Map,i.h=0,i.i&&function la(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var d=i[t].substring(0,o);u=i[t].substring(o+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Zo(i,e){Qr(i),e=hi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Xs(i,e){return Qr(i),e=hi(i,e),i.g.has(e)}function As(i,e,t){Zo(i,e),0<t.length&&(i.i=null,i.g.set(hi(i,e),Kn(t)),i.h+=t.length)}function hi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ko(i){this.l=i||vt,i=fe.PerformanceNavigationTiming?0<(i=fe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(fe.g&&fe.g.Ga&&fe.g.Ga()&&fe.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ae=vn.prototype).add=function(i,e){Qr(this),this.i=null,i=hi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ae.forEach=function(i,e){Qr(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},ae.oa=function(){Qr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)t.push(e[o])}return t},ae.W=function(i){Qr(this);let e=[];if("string"==typeof i)Xs(this,i)&&(e=e.concat(this.g.get(hi(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ae.set=function(i,e){return Qr(this),this.i=null,Xs(this,i=hi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ae.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const d=encodeURIComponent(String(o)),_=this.W(o);for(o=0;o<_.length;o++){var u=d;""!==_[o]&&(u+="="+encodeURIComponent(String(_[o]))),i.push(u)}}return this.i=i.join("&")};var vt=10;function Ln(i){return!!i.h||!!i.g&&i.g.size>=i.j}function eo(i){return i.h?1:i.g?i.g.size:0}function Io(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Yr(i,e){i.g?i.g.add(e):i.h=e}function Es(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function us(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Kn(i.i)}function Ki(){}function Fo(){this.g=new Ki}function to(i,e,t){const o=t||"";try{Di(i,function(u,d){let _=u;Qe(u)&&(_=bn(u)),e.push(o+d+"="+encodeURIComponent(_))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Co(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function V(i){this.l=i.ac||null,this.j=i.jb||!1}function k(i,e){on.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=R,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ko.prototype.cancel=function(){if(this.i=us(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Ki.prototype.stringify=function(i){return fe.JSON.stringify(i,void 0)},Ki.prototype.parse=function(i){return fe.JSON.parse(i,void 0)},Dt(V,Yt),V.prototype.g=function(){return new k(this.l,this.j)},V.prototype.i=function(i){return function(){return i}}({}),Dt(k,on);var R=0;function Y(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function rt(i){i.readyState=4,i.l=null,i.j=null,i.A=null,en(i)}function en(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ae=k.prototype).open=function(i,e){if(this.readyState!=R)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,en(this)},ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||fe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rt(this)),this.readyState=R},ae.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,en(this)),this.g&&(this.readyState=3,en(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Y(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},ae.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?rt(this):en(this),3==this.readyState&&Y(this)}},ae.Va=function(i){this.g&&(this.response=this.responseText=i,rt(this))},ae.Ua=function(i){this.g&&(this.response=i,rt(this))},ae.ga=function(){this.g&&rt(this)},ae.setRequestHeader=function(i,e){this.v.append(i,e)},ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ae.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(k.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var rr=fe.JSON.parse;function or(i){on.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bi,this.K=this.L=!1}Dt(or,on);var bi="",ls=/^https?$/i,Do=["POST","PUT"];function To(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ea(i),So(i)}function Ea(i){i.D||(i.D=!0,Fn(i,"complete"),Fn(i,"error"))}function Qo(i){if(i.h&&typeof Ae<"u"&&(!i.C[1]||4!=cs(i)||2!=i.aa()))if(i.v&&4==cs(i))Mi(i.Ha,0,i);else if(Fn(i,"readystatechange"),4==cs(i)){i.h=!1;try{const T=i.aa();e:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===T){var u=String(i.H).match(ko)[1]||null;if(!u&&fe.self&&fe.self.location){var d=fe.self.location.protocol;u=d.substr(0,d.length-1)}o=!ls.test(u?u.toLowerCase():"")}t=o}if(t)Fn(i,"complete"),Fn(i,"success");else{i.m=6;try{var _=2<cs(i)?i.g.statusText:""}catch{_=""}i.j=_+" ["+i.aa()+"]",Ea(i)}}finally{So(i)}}}function So(i,e){if(i.g){da(i);const t=i.g,o=i.C[0]?Fe:null;i.g=null,i.C=null,e||Fn(i,"ready");try{t.onreadystatechange=o}catch{}}}function da(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(fe.clearTimeout(i.A),i.A=null)}function cs(i){return i.g?i.g.readyState:0}function Yo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case bi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Ao(i){let e="";return yn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function ha(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Ao(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Gn(i,e,t))}function A(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function z(i){this.Ca=0,this.i=[],this.j=new Ur,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=A("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=A("baseRetryDelayMs",5e3,i),this.bb=A("retryDelaySeedMs",1e4,i),this.$a=A("forwardChannelMaxRetries",2,i),this.ta=A("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Ko(i&&i.concurrentRequestLimit),this.Fa=new Fo,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function O(i){if(Ee(i),3==i.G){var e=i.U++,t=Ri(i.F);Gn(t,"SID",i.I),Gn(t,"RID",e),Gn(t,"TYPE","terminate"),Zn(i,t),(e=new Ii(i,i.j,e,void 0)).K=2,e.v=Ts(Ri(t)),t=!1,fe.navigator&&fe.navigator.sendBeacon&&(t=fe.navigator.sendBeacon(e.v.toString(),"")),!t&&fe.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ks(e.l,null),e.g.da(e.v)),e.F=Date.now(),ys(e)}Mo(i)}function K(i){i.g&&(li(i),i.g.cancel(),i.g=null)}function Ee(i){K(i),i.u&&(fe.clearTimeout(i.u),i.u=null),Nr(i),i.h.cancel(),i.m&&("number"==typeof i.m&&fe.clearTimeout(i.m),i.m=null)}function Ze(i){Ln(i.h)||i.m||(i.m=!0,Fs(i.Ja,i),i.C=0)}function tn(i,e){var t;t=e?e.m:i.U++;const o=Ri(i.F);Gn(o,"SID",i.I),Gn(o,"RID",t),Gn(o,"AID",i.T),Zn(i,o),i.o&&i.s&&ha(o,i.o,i.s),t=new Ii(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=vr(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Yr(i.h,t),Vi(t,o,e)}function Zn(i,e){i.ia&&yn(i.ia,function(t,o){Gn(e,o,t)}),i.l&&Di({},function(t,o){Gn(e,o,t)})}function vr(i,e,t){t=Math.min(i.i.length,t);var o=i.l?Tt(i.l.Ra,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const _=["count="+t];-1==d?0<t?(d=u[0].h,_.push("ofs="+d)):d=0:_.push("ofs="+d);let T=!0;for(let B=0;B<t;B++){let q=u[B].h;const te=u[B].g;if(q-=d,0>q)d=Math.max(0,u[B].h-100),T=!1;else try{to(te,_,"req"+q+"_")}catch{o&&o(te)}}if(T){o=_.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function Ir(i){i.g||i.u||(i.Z=1,Fs(i.Ia,i),i.A=0)}function Jn(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=He(Tt(i.Ia,i),qs(i,i.A)),i.A++,0))}function li(i){null!=i.B&&(fe.clearTimeout(i.B),i.B=null)}function xr(i){i.g=new Ii(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ri(i.sa);Gn(e,"RID","rpc"),Gn(e,"SID",i.I),Gn(e,"CI",i.L?"0":"1"),Gn(e,"AID",i.T),Gn(e,"TYPE","xmlhttp"),Zn(i,e),i.o&&i.s&&ha(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Ts(Ri(e)),t.s=null,t.P=!0,Ci(t,i)}function Nr(i){null!=i.v&&(fe.clearTimeout(i.v),i.v=null)}function ro(i,e){var t=null;if(i.g==e){Nr(i),li(i),i.g=null;var o=2}else{if(!Io(i.h,e))return;t=e.D,Es(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Fn(o=Gs(),new Re(o,t,e,u)),Ze(i)}else Ir(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function ct(i,e){return!(eo(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=He(Tt(i.Ja,i,e),qs(i,i.C)),i.C++,0)))}(i,e)||2==o&&Jn(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:Bi(i,5);break;case 4:Bi(i,10);break;case 3:Bi(i,6);break;default:Bi(i,2)}}function qs(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function Bi(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=Tt(i.kb,i);t||(t=new dr("//www.google.com/images/cleardot.gif"),fe.location&&"http"==fe.location.protocol||Eo(t,"https"),Ts(t)),function no(i,e){const t=new Ur;if(fe.Image){const o=new Image;o.onload=Zt(Co,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Zt(Co,t,o,"TestLoadImage: error",!1,e),o.onabort=Zt(Co,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Zt(Co,t,o,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Me(2);i.G=0,i.l&&i.l.va(e),Mo(i),Ee(i)}function Mo(i){if(i.G=0,i.la=[],i.l){const e=us(i.h);(0!=e.length||0!=i.i.length)&&(er(i.la,e),er(i.la,i.i),i.h.i.length=0,Kn(i.i),i.i.length=0),i.l.ua()}}function Zs(i,e,t){var o=t instanceof dr?Ri(t):new dr(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Vr(o,o.m);else{var u=fe.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new dr(null,void 0);o&&Eo(d,o),e&&(d.g=e),u&&Vr(d,u),t&&(d.l=t),o=d}return e=i.za,(t=i.D)&&e&&Gn(o,t,e),Gn(o,"VER",i.ma),Zn(i,o),o}function Ks(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new or(t&&i.Da&&!i.ra?new V({jb:!0}):i.ra)).Ka(i.H),e}function Vs(){}function Lo(){if(Jr&&!(10<=Number(zi)))throw Error("Environmental error: no available transport.")}function Cr(i,e){on.call(this),this.g=new z(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Wt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wt(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new wa(this)}function Ma(i){ss.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function hu(){_o.call(this),this.status=1}function wa(i){this.g=i}(ae=or.prototype).Ka=function(i){this.L=i},ae.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Js.g(),this.C=function xn(i){return i.h||(i.h=i.i())}(this.u?this.u:Js),this.g.onreadystatechange=Tt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void To(this,d)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())t.set(d,o.get(d))}o=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),u=fe.FormData&&i instanceof fe.FormData,!(0<=jn(Do,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,_]of t)this.g.setRequestHeader(d,_);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{da(this),0<this.B&&((this.K=function bo(i){return Jr&&function wn(){return function tr(i){var e=fi;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Tr(String(qt)).split("."),t=Tr("9").split("."),o=Math.max(e.length,t.length);for(let _=0;0==i&&_<o;_++){var u=e[_]||"",d=t[_]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=Or(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||Or(0==u[2].length,0==d[2].length)||Or(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tt(this.qa,this)):this.A=Mi(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){To(this,d)}},ae.qa=function(){typeof Ae<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fn(this,"timeout"),this.abort(8))},ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Fn(this,"complete"),Fn(this,"abort"),So(this))},ae.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),So(this,!0)),or.X.M.call(this)},ae.Ha=function(){this.s||(this.F||this.v||this.l?Qo(this):this.fb())},ae.fb=function(){Qo(this)},ae.aa=function(){try{return 2<cs(this)?this.g.status:-1}catch{return-1}},ae.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ae.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),rr(e)}},ae.Ea=function(){return this.m},ae.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ae=z.prototype).ma=8,ae.G=1,ae.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new Ii(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=pn(d),Ce(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=vr(this,u,e),Gn(t=Ri(this.F),"RID",i),Gn(t,"CVER",22),this.D&&Gn(t,"X-HTTP-Session-Id",this.D),Zn(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(Ao(d)))+"&"+e:this.o&&ha(t,this.o,d)),Yr(this.h,u),this.Ya&&Gn(t,"TYPE","init"),this.O?(Gn(t,"$req",e),Gn(t,"SID","null"),u.Z=!0,Vi(u,t,null)):Vi(u,t,e),this.G=2}}else 3==this.G&&(i?tn(this,i):0==this.i.length||Ln(this.h)||tn(this))},ae.Ia=function(){if(this.u=null,xr(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=He(Tt(this.eb,this),i)}},ae.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Me(10),K(this),xr(this))},ae.cb=function(){null!=this.v&&(this.v=null,K(this),Jn(this),Me(19))},ae.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))},(ae=Vs.prototype).xa=function(){},ae.wa=function(){},ae.va=function(){},ae.ua=function(){},ae.Ra=function(){},Lo.prototype.g=function(i,e){return new Cr(i,e)},Dt(Cr,on),Cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Me(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Zs(i,null,i.V),Ze(i)},Cr.prototype.close=function(){O(this.g)},Cr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=bn(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Ze(e)},Cr.prototype.M=function(){this.g.l=null,delete this.j,O(this.g),delete this.g,Cr.X.M.call(this)},Dt(Ma,ss),Dt(hu,_o),Dt(wa,Vs),wa.prototype.xa=function(){Fn(this.g,"a")},wa.prototype.wa=function(i){Fn(this.g,new Ma(i))},wa.prototype.va=function(i){Fn(this.g,new hu(i))},wa.prototype.ua=function(){Fn(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,Cr.prototype.send=Cr.prototype.u,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,xt.COMPLETE="complete",$r.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",on.prototype.listen=on.prototype.N,or.prototype.listenOnce=or.prototype.O,or.prototype.getLastError=or.prototype.Oa,or.prototype.getLastErrorCode=or.prototype.Ea,or.prototype.getStatus=or.prototype.aa,or.prototype.getResponseJson=or.prototype.Sa,or.prototype.getResponseText=or.prototype.fa,or.prototype.send=or.prototype.da,or.prototype.setWithCredentials=or.prototype.Ka;var Ja=Je.createWebChannelTransport=function(){return new Lo},ja=Je.getStatEventTarget=function(){return Gs()},Qi=Je.ErrorCode=ft,Uo=Je.EventType=xt,Jo=Je.Event=ui,Xo=Je.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Xa=Je.FetchXmlHttpFactory=V,Ia=Je.WebChannel=$r,Oi=Je.XhrIo=or;const xa="@firebase/firestore";class mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let Yi="9.12.1";const io=new yt.Yd("@firebase/firestore");function eu(){return io.logLevel}function bt(i,...e){if(io.logLevel<=yt.in.DEBUG){const t=e.map(pa);io.debug(`Firestore (${Yi}): ${i}`,...t)}}function An(i,...e){if(io.logLevel<=yt.in.ERROR){const t=e.map(pa);io.error(`Firestore (${Yi}): ${i}`,...t)}}function ci(i,...e){if(io.logLevel<=yt.in.WARN){const t=e.map(pa);io.warn(`Firestore (${Yi}): ${i}`,...t)}}function pa(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function nn(i="Unexpected state"){const e=`FIRESTORE (${Yi}) INTERNAL ASSERTION FAILED: `+i;throw An(e),new Error(e)}function In(i,e){i||nn()}function Bt(i,e){return i}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends at.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ea{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mi.UNAUTHENTICATED))}shutdown(){}}class Ca{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nu{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const d=q=>this.i!==u?(u=this.i,t(q)):Promise.resolve();let _=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new Xr,e.enqueueRetryable(()=>d(this.currentUser))};const T=()=>{const q=_;e.enqueueRetryable((0,_e.Z)(function*(){yield q.promise,yield d(o.currentUser)}))},B=q=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(q=>B(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?B(q):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new Xr)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(In("string"==typeof o.accessToken),new ea(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e),new mi(e)}}class Vo{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(In(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ta{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new Vo(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ha{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ra{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=d=>{null!=d.error&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const _=d.token!==this.A;return this.A=d.token,bt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In("string"==typeof t.token),this.A=t.token,new Ha(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bo(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class $a{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Bo(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<t&&(o+=e.charAt(u[d]%e.length))}return o}}function ln(i,e){return i<e?-1:i>e?1:0}function jo(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function ra(i){return i+"\0"}class Br{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new wt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Br.fromMillis(Date.now())}static fromDate(e){return Br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Br(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ln(this.nanoseconds,e.nanoseconds):ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Cn(e)}static min(){return new Cn(new Br(0,0))}static max(){return new Cn(new Br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ji{constructor(e,t,o){void 0===t?t=0:t>e.length&&nn(),void 0===o?o=e.length-t:o>e.length-t&&nn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Ji.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const d=e.get(u),_=t.get(u);if(d<_)return-1;if(d>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xn extends Ji{construct(e,t,o){return new Xn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new wt(et.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new Xn(t)}static emptyPath(){return new Xn([])}}const Ho=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gr extends Ji{construct(e,t,o){return new Gr(e,t,o)}static isValidIdentifier(e){return Ho.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gr(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const d=()=>{if(0===o.length)throw new wt(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let _=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new wt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const B=e[u+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new wt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=B,u+=2}else"`"===T?(_=!_,u++):"."!==T||_?(o+=T,u++):(d(),u++)}if(d(),_)throw new wt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gr(t)}static emptyPath(){return new Gr([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(Xn.fromString(e))}static fromName(e){return new Ut(Xn.fromString(e).popFirst(5))}static empty(){return new Ut(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new Xn(e.slice()))}}class Ro{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function fo(i){return i.fields.find(e=>2===e.kind)}function so(i){return i.fields.filter(e=>2!==e.kind)}Ro.UNKNOWN_ID=-1;class fu{constructor(e,t){this.fieldPath=e,this.kind=t}}class m{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new m(0,W.min())}}function y(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Cn.fromTimestamp(1e9===o?new Br(t+1,0):new Br(t,o));return new W(u,Ut.empty(),e)}function M(i){return new W(i.readTime,i.key,-1)}class W{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new W(Cn.min(),Ut.empty(),-1)}static max(){return new W(Cn.max(),Ut.empty(),-1)}}function X(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ut.comparator(i.documentKey,e.documentKey),0!==t?t:ln(i.largestBatchId,e.largestBatchId))}const ve="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Te{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ge(i){return ut.apply(this,arguments)}function ut(){return ut=(0,_e.Z)(function*(i){if(i.code!==et.FAILED_PRECONDITION||i.message!==ve)throw i;bt("LocalStore","Unexpectedly lost primary lease")}),ut.apply(this,arguments)}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,o)=>{t(e)})}static reject(e){return new De((t,o)=>{o(e)})}static waitFor(e){return new De((t,o)=>{let u=0,d=0,_=!1;e.forEach(T=>{++u,T.next(()=>{++d,_&&d===u&&t()},B=>o(B))}),_=!0,d===u&&t()})}static or(e){let t=De.resolve(!1);for(const o of e)t=t.next(u=>u?De.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,d)=>{o.push(t.call(this,u,d))}),this.waitFor(o)}static mapArray(e,t){return new De((o,u)=>{const d=e.length,_=new Array(d);let T=0;for(let B=0;B<d;B++){const q=B;t(e[q]).next(te=>{_[q]=te,++T,T===d&&o(_)},te=>u(te))}})}static doWhile(e,t){return new De((o,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):o()};d()})}}class Qt{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Xr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new an(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=Pi(o.target.error);this.P.reject(new an(e,u))}}static open(e,t,o,u){try{return new Qt(t,e.transaction(u,o))}catch(d){throw new an(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(bt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new kr(t)}}class Un{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Un.D((0,at.z$)())&&An("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return bt("SimpleDb","Removing database:",e),pr(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,at.hl)())return!1;if(Un.N())return!0;const e=(0,at.z$)(),t=Un.D(e),o=0<t&&t<10,u=Un.k(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,_e.Z)(function*(){return t.db||(bt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=_=>{o(_.target.result)},d.onblocked=()=>{u(new an(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=_=>{const T=_.target.error;u("VersionError"===T.name?new wt(et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new wt(et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new an(e,T))},d.onupgradeneeded=_=>{bt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',_.oldVersion),t.S.$(_.target.result,d.transaction,_.oldVersion,t.version).next(()=>{bt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var d=this;return(0,_e.Z)(function*(){const _="readonly"===t;let T=0;for(;;){++T;try{d.db=yield d.F(e);const B=Qt.open(d.db,e,_?"readonly":"readwrite",o),q=u(B).next(te=>(B.V(),te)).catch(te=>(B.abort(te),De.reject(te))).toPromise();return q.catch(()=>{}),yield B.v,q}catch(B){const q=B,te="FirebaseError"!==q.name&&T<3;if(bt("SimpleDb","Transaction failed with error:",q.message,"Retrying:",te),d.close(),!te)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Vn{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return pr(this.U.delete())}}class an extends wt{constructor(e,t){super(et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hn(i){return"IndexedDbTransactionError"===i.name}class kr{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(bt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(bt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),pr(o)}add(e){return bt("SimpleDb","ADD",this.store.name,e,e),pr(this.store.add(e))}get(e){return pr(this.store.get(e)).next(t=>(void 0===t&&(t=null),bt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return bt("SimpleDb","DELETE",this.store.name,e),pr(this.store.delete(e))}count(){return bt("SimpleDb","COUNT",this.store.name),pr(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.H(u,(_,T)=>{d.push(T)}).next(()=>d)}{const u=this.store.getAll(o.range);return new De((d,_)=>{u.onerror=T=>{_(T.target.error)},u.onsuccess=T=>{d(T.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new De((u,d)=>{o.onerror=_=>{d(_.target.error)},o.onsuccess=_=>{u(_.target.result)}})}Y(e,t){bt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const u=this.cursor(o);return this.H(u,(d,_,T)=>T.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.H(u,t)}tt(e){const t=this.cursor({});return new De((o,u)=>{t.onerror=d=>{const _=Pi(d.target.error);u(_)},t.onsuccess=d=>{const _=d.target.result;_?e(_.primaryKey,_.value).next(T=>{T?_.continue():o()}):o()}})}H(e,t){const o=[];return new De((u,d)=>{e.onerror=_=>{d(_.target.error)},e.onsuccess=_=>{const T=_.target.result;if(!T)return void u();const B=new Vn(T),q=t(T.primaryKey,T.value,B);if(q instanceof De){const te=q.catch(Ie=>(B.done(),De.reject(Ie)));o.push(te)}B.isDone?u():null===B.G?T.continue():T.continue(B.G)}}).next(()=>De.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function pr(i){return new De((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Pi(o.target.error);t(u)}})}let ei=!1;function Pi(i){const e=Un.D((0,at.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new wt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ei||(ei=!0,setTimeout(()=>{throw o},0)),o}}return i}class ws{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;bt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{bt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){hn(o)?bt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ge(o)}yield t.nt(6e4)}))}}class ia{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let u=t,d=!0;return De.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!o.has(_))return bt("IndexBackiller",`Processing collection: ${_}`),this.rt(e,_,u).next(T=>{u-=T,o.add(_)});d=!1})).next(()=>t-u)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(d=>{const _=d.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.ot(u,d)).next(T=>(bt("IndexBackiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,t,T))).next(()=>_.size)}))}ot(e,t){let o=e;return t.changes.forEach((u,d)=>{const _=M(d);X(_,o)>0&&(o=_)}),new W(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ti{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ti(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ji(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function yi(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}ti.at=-1;class Dr{constructor(e,t){this.comparator=e,this.root=t||C.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,C.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,C.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new I(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new I(this.root,e,this.comparator,!1)}getReverseIterator(){return new I(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new I(this.root,e,this.comparator,!0)}}class I{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class C{constructor(e,t,o,u,d){this.key=e,this.value=t,this.color=o??C.RED,this.left=u??C.EMPTY,this.right=d??C.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,d){return new C(e??this.key,t??this.value,o??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return C.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return C.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,C.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,C.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const e=this.left.check();if(e!==this.right.check())throw nn();return e+(this.isRed()?0:1)}}C.EMPTY=null,C.RED=!0,C.BLACK=!1,C.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(i,e,t,o,u){return this}insert(i,e,t){return new C(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class v{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new S(this.data.getIterator())}getIteratorFrom(e){return new S(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof v)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new v(this.comparator);return t.data=e,t}}class S{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function F(i){return i.hasNext()?i.getNext():void 0}class G{constructor(e){this.fields=e,e.sort(Gr.comparator)}static empty(){return new G([])}unionWith(e){let t=new v(Gr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new G(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class ne{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ne(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new ne(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ne.EMPTY_BYTE_STRING=new ne("");const je=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Et(i){if(In(!!i),"string"==typeof i){let e=0;const t=je.exec(i);if(In(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:$t(i.seconds),nanos:$t(i.nanos)}}function $t(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Nt(i){return"string"==typeof i?ne.fromBase64String(i):ne.fromUint8Array(i)}function Nn(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ar(i){const e=i.mapValue.fields.__previous_value__;return Nn(e)?ar(e):e}function ds(i){const e=Et(i.mapValue.fields.__local_write_time__.timestampValue);return new Br(e.seconds,e.nanos)}class xs{constructor(e,t,o,u,d,_,T,B){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=_,this.autoDetectLongPolling=T,this.useFetchStreams=B}}class Er{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Er("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Er&&e.projectId===this.projectId&&e.database===this.database}}function ki(i){return null==i}function Fi(i){return 0===i&&1/i==-1/0}function No(i){return"number"==typeof i&&Number.isInteger(i)&&!Fi(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Rs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xu={nullValue:"NULL_VALUE"};function _i(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Nn(i)?4:Hi(i)?9007199254740991:10:nn()}function Da(i,e){if(i===e)return!0;const t=_i(i);if(t!==_i(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ds(i).isEqual(ds(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Et(o.timestampValue),_=Et(u.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Nt(i.bytesValue).isEqual(Nt(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return $t(o.geoPointValue.latitude)===$t(u.geoPointValue.latitude)&&$t(o.geoPointValue.longitude)===$t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return $t(o.integerValue)===$t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=$t(o.doubleValue),_=$t(u.doubleValue);return d===_?Fi(d)===Fi(_):isNaN(d)&&isNaN(_)}return!1}(i,e);case 9:return jo(i.arrayValue.values||[],e.arrayValue.values||[],Da);case 10:return function(o,u){const d=o.mapValue.fields||{},_=u.mapValue.fields||{};if(Ti(d)!==Ti(_))return!1;for(const T in d)if(d.hasOwnProperty(T)&&(void 0===_[T]||!Da(d[T],_[T])))return!1;return!0}(i,e);default:return nn()}var u}function N(i,e){return void 0!==(i.values||[]).find(t=>Da(t,e))}function U(i,e){if(i===e)return 0;const t=_i(i),o=_i(e);if(t!==o)return ln(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return ln(i.booleanValue,e.booleanValue);case 2:return function(u,d){const _=$t(u.integerValue||u.doubleValue),T=$t(d.integerValue||d.doubleValue);return _<T?-1:_>T?1:_===T?0:isNaN(_)?isNaN(T)?0:-1:1}(i,e);case 3:return Z(i.timestampValue,e.timestampValue);case 4:return Z(ds(i),ds(e));case 5:return ln(i.stringValue,e.stringValue);case 6:return function(u,d){const _=Nt(u),T=Nt(d);return _.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const _=u.split("/"),T=d.split("/");for(let B=0;B<_.length&&B<T.length;B++){const q=ln(_[B],T[B]);if(0!==q)return q}return ln(_.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const _=ln($t(u.latitude),$t(d.latitude));return 0!==_?_:ln($t(u.longitude),$t(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const _=u.values||[],T=d.values||[];for(let B=0;B<_.length&&B<T.length;++B){const q=U(_[B],T[B]);if(q)return q}return ln(_.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===Rs.mapValue&&d===Rs.mapValue)return 0;if(u===Rs.mapValue)return 1;if(d===Rs.mapValue)return-1;const _=u.fields||{},T=Object.keys(_),B=d.fields||{},q=Object.keys(B);T.sort(),q.sort();for(let te=0;te<T.length&&te<q.length;++te){const Ie=ln(T[te],q[te]);if(0!==Ie)return Ie;const Ke=U(_[T[te]],B[q[te]]);if(0!==Ke)return Ke}return ln(T.length,q.length)}(i.mapValue,e.mapValue);default:throw nn()}}function Z(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return ln(i,e);const t=Et(i),o=Et(e),u=ln(t.seconds,o.seconds);return 0!==u?u:ln(t.nanos,o.nanos)}function de(i){return Ue(i)}function Ue(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Et(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Nt(i.bytesValue).toBase64():"referenceValue"in i?Ut.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const _ of o.values||[])d?d=!1:u+=",",u+=Ue(_);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",_=!0;for(const T of u)_?_=!1:d+=",",d+=`${T}:${Ue(o.fields[T])}`;return d+"}"}(i.mapValue):nn();var e}function tt(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ct(i){return!!i&&"integerValue"in i}function jt(i){return!!i&&"arrayValue"in i}function Mn(i){return!!i&&"nullValue"in i}function Bn(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ir(i){return!!i&&"mapValue"in i}function Sn(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ji(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Sn(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sn(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Hi(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function oo(i){return"nullValue"in i?xu:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?tt(Er.empty(),Ut.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:nn()}function pu(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?tt(Er.empty(),Ut.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Rs:nn()}function ru(i,e){const t=U(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Ga(i,e){const t=U(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!ir(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sn(t)}setAll(e){let t=Gr.emptyPath(),o={},u=[];e.forEach((_,T)=>{if(!t.isImmediateParentOf(T)){const B=this.getFieldsMap(t);this.applyChanges(B,o,u),o={},u=[],t=T.popLast()}_?o[T.lastSegment()]=Sn(_):u.push(T.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,u)}delete(e){const t=this.field(e.popLast());ir(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Da(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];ir(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){ji(t,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new Xi(Sn(this.value))}}function Na(i){const e=[];return ji(i.fields,(t,o)=>{const u=new Gr([t]);if(ir(o)){const d=Na(o.mapValue).fields;if(0===d.length)e.push(u);else for(const _ of d)e.push(u.child(_))}else e.push(u)}),new G(e)}class Wr{constructor(e,t,o,u,d,_){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=d,this.documentState=_}static newInvalidDocument(e){return new Wr(e,0,Cn.min(),Cn.min(),Xi.empty(),0)}static newFoundDocument(e,t,o){return new Wr(e,1,t,Cn.min(),o,0)}static newNoDocument(e,t){return new Wr(e,2,t,Cn.min(),Xi.empty(),0)}static newUnknownDocument(e,t){return new Wr(e,3,t,Cn.min(),Xi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gu{constructor(e,t=null,o=[],u=[],d=null,_=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=_,this.endAt=T,this.ht=null}}function za(i,e=null,t=[],o=[],u=null,d=null,_=null){return new gu(i,e,t,o,u,d,_)}function Wa(i){const e=Bt(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+de(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),ki(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>de(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>de(o)).join(",")),e.ht=t}return e.ht}function vl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Vf(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!Da(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bf(i.startAt,e.startAt)&&Bf(i.endAt,e.endAt)}function ec(i){return Ut.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function El(i,e){return i.filters.filter(t=>t instanceof po&&t.field.isEqual(e))}function wl(i,e,t){let o=xu,u=!0;for(const d of El(i,e)){let _=xu,T=!0;switch(d.op){case"<":case"<=":_=oo(d.value);break;case"==":case"in":case">=":_=d.value;break;case">":_=d.value,T=!1;break;case"!=":case"not-in":_=xu}ru({value:o,inclusive:u},{value:_,inclusive:T})<0&&(o=_,u=T)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const _=t.position[d];ru({value:o,inclusive:u},{value:_,inclusive:t.inclusive})<0&&(o=_,u=t.inclusive);break}return{value:o,inclusive:u}}function Ku(i,e,t){let o=Rs,u=!0;for(const d of El(i,e)){let _=Rs,T=!0;switch(d.op){case">=":case">":_=pu(d.value),T=!1;break;case"==":case"in":case"<=":_=d.value;break;case"<":_=d.value,T=!1;break;case"!=":case"not-in":_=Rs}Ga({value:o,inclusive:u},{value:_,inclusive:T})>0&&(o=_,u=T)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const _=t.position[d];Ga({value:o,inclusive:u},{value:_,inclusive:t.inclusive})>0&&(o=_,u=t.inclusive);break}return{value:o,inclusive:u}}class po extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new sh(e,t,o):"array-contains"===t?new Gc(e,o):"in"===t?new Uf(e,o):"not-in"===t?new ah(e,o):"array-contains-any"===t?new Qu(e,o):new po(e,t,o)}static lt(e,t,o){return"in"===t?new Fg(e,o):new oh(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(U(t,this.value)):null!==t&&_i(this.value)===_i(t)&&this.ft(U(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sh extends po{constructor(e,t,o){super(e,t,o),this.key=Ut.fromName(o.referenceValue)}matches(e){const t=Ut.comparator(e.key,this.key);return this.ft(t)}}class Fg extends po{constructor(e,t){super(e,"in",t),this.keys=Lf(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oh extends po{constructor(e,t){super(e,"not-in",t),this.keys=Lf(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Lf(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Ut.fromName(o.referenceValue))}class Gc extends po{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jt(t)&&N(t.arrayValue,this.value)}}class Uf extends po{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&N(this.value.arrayValue,t)}}class ah extends po{constructor(e,t){super(e,"not-in",t)}matches(e){if(N(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!N(this.value.arrayValue,t)}}class Qu extends po{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>N(this.value.arrayValue,o))}}class qa{constructor(e,t){this.position=e,this.inclusive=t}}class Oa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Vf(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function uh(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],_=i.position[u];if(o=d.field.isKeyField()?Ut.comparator(Ut.fromName(_.referenceValue),t.key):U(_,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Bf(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Da(i.position[t],e.position[t]))return!1;return!0}class ga{constructor(e,t=null,o=[],u=[],d=null,_="F",T=null,B=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=_,this.startAt=T,this.endAt=B,this._t=null,this.wt=null}}function tc(i,e,t,o,u,d,_,T){return new ga(i,e,t,o,u,d,_,T)}function Ru(i){return new ga(i)}function zc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function nc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Pa(i){for(const e of i.filters)if(e.dt())return e.field;return null}function Wc(i){return null!==i.collectionGroup}function mu(i){const e=Bt(i);if(null===e._t){e._t=[];const t=Pa(e),o=nc(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new Oa(t)),e._t.push(new Oa(Gr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Oa(Gr.keyField(),d))}}}return e._t}function $o(i){const e=Bt(i);if(!e.wt)if("F"===e.limitType)e.wt=za(e.path,e.collectionGroup,mu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of mu(e))t.push(new Oa(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new qa(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new qa(e.startAt.position,e.startAt.inclusive):null;e.wt=za(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function Il(i,e,t){return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Cl(i,e){return vl($o(i),$o(e))&&i.limitType===e.limitType}function ba(i){return`${Wa($o(i))}|lt:${i.limitType}`}function yu(i){return`Query(target=${function ih(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${de(o.value)}`;var o}).join(", ")}]`),ki(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>de(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>de(t)).join(",")),`Target(${e})`}($o(i))}; limitType=${i.limitType})`}function rc(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Ut.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,d,_){const T=uh(u,d,_);return u.inclusive?T<=0:T<0}(t.startAt,mu(t),o)||t.endAt&&!function(u,d,_){const T=uh(u,d,_);return u.inclusive?T>=0:T>0}(t.endAt,mu(t),o)));var t,o}function qc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function lh(i){return(e,t)=>{let o=!1;for(const u of mu(i)){const d=jf(u,e,t);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function jf(i,e,t){const o=i.field.isKeyField()?Ut.comparator(e.key,t.key):function(u,d,_){const T=d.data.field(u),B=_.data.field(u);return null!==T&&null!==B?U(T,B):nn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return nn()}}function ch(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fi(e)?"-0":e}}function dh(i){return{integerValue:""+i}}function Zc(i,e){return No(e)?dh(e):ch(i,e)}class Dl{constructor(){this._=void 0}}function Hf(i,e,t){return i instanceof iu?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof Go?vu(i,e):i instanceof Eu?bl(i,e):function(o,u){const d=_u(o,u),_=$f(d)+$f(o.yt);return Ct(d)&&Ct(o.yt)?dh(_):ch(o.It,_)}(i,e)}function Lg(i,e,t){return i instanceof Go?vu(i,e):i instanceof Eu?bl(i,e):t}function _u(i,e){return i instanceof Nu?Ct(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class iu extends Dl{}class Go extends Dl{constructor(e){super(),this.elements=e}}function vu(i,e){const t=Kc(e);for(const o of i.elements)t.some(u=>Da(u,o))||t.push(o);return{arrayValue:{values:t}}}class Eu extends Dl{constructor(e){super(),this.elements=e}}function bl(i,e){let t=Kc(e);for(const o of i.elements)t=t.filter(u=>!Da(u,o));return{arrayValue:{values:t}}}class Nu extends Dl{constructor(e,t){super(),this.It=e,this.yt=t}}function $f(i){return $t(i.integerValue||i.doubleValue)}function Kc(i){return jt(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ic{constructor(e,t){this.field=e,this.transform=t}}class Tl{constructor(e,t){this.version=e,this.transformResults=t}}class hs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Sl{}function hh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ou(i.key,hs.none()):new su(i.key,i.data,hs.none());{const t=i.data,o=Xi.empty();let u=new v(Gr.comparator);for(let d of e.fields)if(!u.has(d)){let _=t.field(d);null===_&&d.length>1&&(d=d.popLast(),_=t.field(d)),null===_?o.delete(d):o.set(d,_),u=u.add(d)}return new Ta(i.key,o,new G(u.toArray()),hs.none())}}function Gf(i,e,t){i instanceof su?function(o,u,d){const _=o.value.clone(),T=fh(o.fieldTransforms,u,d.transformResults);_.setAll(T),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(i,e,t):i instanceof Ta?function(o,u,d){if(!Yc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const _=fh(o.fieldTransforms,u,d.transformResults),T=u.data;T.setAll(Ju(o)),T.setAll(_),u.convertToFoundDocument(d.version,T).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Yu(i,e,t,o){return i instanceof su?function(u,d,_,T){if(!Yc(u.precondition,d))return _;const B=u.value.clone(),q=Is(u.fieldTransforms,T,d);return B.setAll(q),d.convertToFoundDocument(d.version,B).setHasLocalMutations(),null}(i,e,t,o):i instanceof Ta?function(u,d,_,T){if(!Yc(u.precondition,d))return _;const B=Is(u.fieldTransforms,T,d),q=d.data;return q.setAll(Ju(u)),q.setAll(B),d.convertToFoundDocument(d.version,q).setHasLocalMutations(),null===_?null:_.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(te=>te.field))}(i,e,t,o):(_=t,Yc(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_);var d,_}function Jc(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=_u(o.transform,u||null);null!=d&&(null===t&&(t=Xi.empty()),t.set(o.field,d))}return t||null}function Xc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&jo(t,o,(u,d)=>function Qc(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Go&&o instanceof Go||t instanceof Eu&&o instanceof Eu?jo(t.elements,o.elements,Da):t instanceof Nu&&o instanceof Nu?Da(t.yt,o.yt):t instanceof iu&&o instanceof iu);var t,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class su extends Sl{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ta extends Sl{constructor(e,t,o,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Ju(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function fh(i,e,t){const o=new Map;In(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],_=d.transform,T=e.data.field(d.field);o.set(d.field,Lg(_,T,t[u]))}return o}function Is(i,e,t){const o=new Map;for(const u of i){const d=u.transform,_=t.data.field(u.field);o.set(u.field,Hf(d,_,e))}return o}class ou extends Sl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ed extends Sl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class td{constructor(e){this.count=e}}var Ns,jr;function ph(i){switch(i){default:return nn();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0}}function gh(i){if(void 0===i)return An("GRPC error has no .code"),et.UNKNOWN;switch(i){case Ns.OK:return et.OK;case Ns.CANCELLED:return et.CANCELLED;case Ns.UNKNOWN:return et.UNKNOWN;case Ns.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ns.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ns.INTERNAL:return et.INTERNAL;case Ns.UNAVAILABLE:return et.UNAVAILABLE;case Ns.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ns.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ns.NOT_FOUND:return et.NOT_FOUND;case Ns.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ns.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ns.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ns.ABORTED:return et.ABORTED;case Ns.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ns.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ns.DATA_LOSS:return et.DATA_LOSS;default:return nn()}}(jr=Ns||(Ns={}))[jr.OK=0]="OK",jr[jr.CANCELLED=1]="CANCELLED",jr[jr.UNKNOWN=2]="UNKNOWN",jr[jr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jr[jr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jr[jr.NOT_FOUND=5]="NOT_FOUND",jr[jr.ALREADY_EXISTS=6]="ALREADY_EXISTS",jr[jr.PERMISSION_DENIED=7]="PERMISSION_DENIED",jr[jr.UNAUTHENTICATED=16]="UNAUTHENTICATED",jr[jr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jr[jr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jr[jr.ABORTED=10]="ABORTED",jr[jr.OUT_OF_RANGE=11]="OUT_OF_RANGE",jr[jr.UNIMPLEMENTED=12]="UNIMPLEMENTED",jr[jr.INTERNAL=13]="INTERNAL",jr[jr.UNAVAILABLE=14]="UNAVAILABLE",jr[jr.DATA_LOSS=15]="DATA_LOSS";class wu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(t,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return yi(this.inner)}size(){return this.innerSize}}const zf=new Dr(Ut.comparator);function go(){return zf}const Wf=new Dr(Ut.comparator);function Za(...i){let e=Wf;for(const t of i)e=e.insert(t.key,t);return e}function sc(i){let e=Wf;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function ka(){return Xu()}function nd(){return Xu()}function Xu(){return new wu(i=>i.toString(),(i,e)=>i.isEqual(e))}const mh=new Dr(Ut.comparator),oc=new v(Ut.comparator);function ur(...i){let e=oc;for(const t of i)e=e.add(t);return e}const ac=new v(ln);function rd(){return ac}class Ou{constructor(e,t,o,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Ou(Cn.min(),u,rd(),go(),ur())}}class Pu{constructor(e,t,o,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Pu(o,t,ur(),ur(),ur())}}class mo{constructor(e,t,o,u){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=u}}class ku{constructor(e,t){this.targetId=e,this.At=t}}class au{constructor(e,t,o=ne.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class yh{constructor(){this.Rt=0,this.bt=_h(),this.Pt=ne.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ur(),t=ur(),o=ur();return this.bt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:nn()}}),new Pu(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=_h()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Al{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=go(),this.qt=Fu(),this.Kt=new v(ln)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:nn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,u)=>{this.Ht(u)&&t(u)})}Yt(e){const t=e.targetId,o=e.At.count,u=this.Xt(t);if(u){const d=u.target;if(ec(d))if(0===o){const _=new Ut(d.path);this.jt(t,_,Wr.newNoDocument(_,Cn.min()))}else In(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((d,_)=>{const T=this.Xt(_);if(T){if(d.current&&ec(T.target)){const B=new Ut(T.target.path);null!==this.Ut.get(B)||this.ee(_,B)||this.jt(_,B,Wr.newNoDocument(B,e))}d.Dt&&(t.set(_,d.xt()),d.Nt())}});let o=ur();this.qt.forEach((d,_)=>{let T=!0;_.forEachWhile(B=>{const q=this.Xt(B);return!q||2===q.purpose||(T=!1,!1)}),T&&(o=o.add(d))}),this.Ut.forEach((d,_)=>_.setReadTime(e));const u=new Ou(e,t,this.Kt,this.Ut,o);return this.Ut=go(),this.qt=Fu(),this.Kt=new v(ln),u}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,t)?u.kt(t,1):u.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new yh,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new v(ln),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||bt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new yh),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Fu(){return new Dr(Ut.comparator)}function _h(){return new Dr(Ut.comparator)}const uc={asc:"ASCENDING",desc:"DESCENDING"},lc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sa{constructor(e,t){this.databaseId=e,this.gt=t}}function Lu(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cc(i,e){return i.gt?e.toBase64():e.toUint8Array()}function qf(i,e){return Lu(i,e.toTimestamp())}function ao(i){return In(!!i),Cn.fromTimestamp(function(e){const t=Et(e);return new Br(t.seconds,t.nanos)}(i))}function Ml(i,e){return(t=i,new Xn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Bs(i){const e=Xn.fromString(i);return In(js(e)),e}function Uu(i,e){return Ml(i.databaseId,e.path)}function Sa(i,e){const t=Bs(e);if(t.get(1)!==i.databaseId.projectId)throw new wt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new wt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ut(sd(t))}function id(i,e){return Ml(i.databaseId,e)}function Ka(i){const e=Bs(i);return 4===e.length?Xn.emptyPath():sd(e)}function Fa(i){return new Xn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sd(i){return In(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function dc(i,e,t){return{name:Uu(i,e),fields:t.value.mapValue.fields}}function vh(i,e,t){const o=Sa(i,e.name),u=ao(e.updateTime),d=new Xi({mapValue:{fields:e.fields}}),_=Wr.newFoundDocument(o,u,d);return t&&_.setHasCommittedMutations(),t?_.setHasCommittedMutations():_}function xl(i,e){let t;if(e instanceof su)t={update:dc(i,e.key,e.value)};else if(e instanceof ou)t={delete:Uu(i,e.key)};else if(e instanceof Ta)t={update:dc(i,e.key,e.data),updateMask:Rn(e.fieldMask)};else{if(!(e instanceof ed))return nn();t={verify:Uu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const _=d.transform;if(_ instanceof iu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Go)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Nu)return{fieldPath:d.field.canonicalString(),increment:_.yt};throw nn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:qf(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:nn()),t;var u}function Vu(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?hs.updateTime(ao(u.updateTime)):void 0!==u.exists?hs.exists(u.exists):hs.none():hs.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,_){let T=null;"setToServerValue"in _?(In("REQUEST_TIME"===_.setToServerValue),T=new iu):"appendMissingElements"in _?T=new Go(_.appendMissingElements.values||[]):"removeAllFromArray"in _?T=new Eu(_.removeAllFromArray.values||[]):"increment"in _?T=new Nu(d,_.increment):nn();const B=Gr.fromServerFormat(_.fieldPath);return new ic(B,T)}(i,u)):[];var u;if(e.update){const u=Sa(i,e.update.name),d=new Xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new G((e.updateMask.fieldPaths||[]).map(q=>Gr.fromServerFormat(q)));return new Ta(u,d,_,t,o)}return new su(u,d,t,o)}if(e.delete){const u=Sa(i,e.delete);return new ou(u,t)}if(e.verify){const u=Sa(i,e.verify);return new ed(u,t)}return nn()}function E(i,e){return{documents:[id(i,e.path)]}}function c(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=id(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=id(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(B){if(0===B.length)return;const q=B.map(te=>function(Ie){if("=="===Ie.op){if(Bn(Ie.value))return{unaryFilter:{field:ot(Ie.field),op:"IS_NAN"}};if(Mn(Ie.value))return{unaryFilter:{field:ot(Ie.field),op:"IS_NULL"}}}else if("!="===Ie.op){if(Bn(Ie.value))return{unaryFilter:{field:ot(Ie.field),op:"IS_NOT_NAN"}};if(Mn(Ie.value))return{unaryFilter:{field:ot(Ie.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ot(Ie.field),op:Oe(Ie.op),value:Ie.value}}}(te));return 1===q.length?q[0]:{compositeFilter:{op:"AND",filters:q}}}(e.filters);u&&(t.structuredQuery.where=u);const d=function(B){if(0!==B.length)return B.map(q=>{return{field:ot((te=q).field),direction:J(te.dir)};var te})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const _=(q=e.limit,i.gt||ki(q)?q:{value:q});var q,T,B;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(B=e.endAt).inclusive,values:B.position}),t}function f(i){let e=Ka(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){In(1===o);const te=t.from[0];te.allDescendants?u=te.collectionId:e=e.child(te.collectionId)}let d=[];t.where&&(d=$(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(te=>{return new Oa(kt((Ie=te).field),function(Ke){switch(Ke){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let T=null;t.limit&&(T=function(te){let Ie;return Ie="object"==typeof te?te.value:te,ki(Ie)?null:Ie}(t.limit));let B=null;var te;t.startAt&&(B=new qa((te=t.startAt).values||[],!!te.before));let q=null;return t.endAt&&(q=function(te){return new qa(te.values||[],!te.before)}(t.endAt)),tc(e,u,_,d,T,"F",B,q)}function $(i){return i?void 0!==i.unaryFilter?[On(i)]:void 0!==i.fieldFilter?[fn(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>$(e)).reduce((e,t)=>e.concat(t)):nn():[]}function J(i){return uc[i]}function Oe(i){return lc[i]}function ot(i){return{fieldPath:i.canonicalString()}}function kt(i){return Gr.fromServerFormat(i.fieldPath)}function fn(i){return po.create(kt(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(i.fieldFilter.op),i.fieldFilter.value)}function On(i){switch(i.unaryFilter.op){case"IS_NAN":const e=kt(i.unaryFilter.field);return po.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=kt(i.unaryFilter.field);return po.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=kt(i.unaryFilter.field);return po.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=kt(i.unaryFilter.field);return po.create(u,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}function Rn(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function js(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Si(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Eh(e)),e=od(i.get(t),e);return Eh(e)}function od(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Eh(i){return i+"\x01\x01"}function oa(i){const e=i.length;if(In(e>=2),2===e)return In("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Xn.emptyPath();const t=e-2,o=[];let u="";for(let d=0;d<e;){const _=i.indexOf("\x01",d);switch((_<0||_>t)&&nn(),i.charAt(_+1)){case"\x01":const T=i.substring(d,_);let B;0===u.length?B=T:(u+=T,B=u,u=""),o.push(B);break;case"\x10":u+=i.substring(d,_),u+="\0";break;case"\x11":u+=i.substring(d,_+1);break;default:nn()}d=_+2}return new Xn(o)}const wh=["userId","batchId"];function fc(i,e){return[i,Si(e)]}function ad(i,e,t){return[i,Si(e),t]}const Kf={},Qf=["prefixPath","collectionGroup","readTime","documentId"],ud=["prefixPath","collectionGroup","documentId"],ld=["collectionGroup","readTime","prefixPath","documentId"],cd=["canonicalId","targetId"],pc=["targetId","path"],Ih=["path","targetId"],Vg=["collectionId","parent"],Yf=["indexId","uid"],Yy=["uid","sequenceNumber"],Jf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dd=["indexId","uid","orderedDocumentKey"],Jy=["userId","collectionPath","documentId"],Xy=["userId","collectionPath","largestBatchId"],e_=["userId","collectionGroup","largestBatchId"],Xf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],t_=[...Xf,"documentOverlays"],Bg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jg=Bg,n_=[...jg,"indexConfiguration","indexState","indexEntries"];class hd extends Te{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Oo(i,e){const t=Bt(i);return Un.M(t.ie,e)}class ep{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&Gf(d,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Yu(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Yu(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=nd();return this.mutations.forEach(u=>{const d=e.get(u.key),_=d.overlayedDocument;let T=this.applyToLocalView(_,d.mutatedFields);T=t.has(u.key)?null:T;const B=hh(_,T);null!==B&&o.set(u.key,B),_.isValidDocument()||_.convertToNoDocument(Cn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ur())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(t,o)=>Xc(t,o))&&jo(this.baseMutations,e.baseMutations,(t,o)=>Xc(t,o))}}class tp{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){In(e.mutations.length===o.length);let u=mh;const d=e.mutations;for(let _=0;_<d.length;_++)u=u.insert(d[_].key,o[_].version);return new tp(e,t,o,u)}}class Ch{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class el{constructor(e,t,o,u,d=Cn.min(),_=Cn.min(),T=ne.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=T}withSequenceNumber(e){return new el(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Hg{constructor(e){this.re=e}}function Dh(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Uu(u=i.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Lu(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Bu(e.version)};else{if(!e.isUnknownDocument())return nn();o.unknownDocument={path:t.path.toArray(),version:Bu(e.version)}}var u,d;return o}function fd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Bu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hs(i){const e=new Br(i.seconds,i.nanoseconds);return Cn.fromTimestamp(e)}function uu(i,e){const t=(e.baseMutations||[]).map(d=>Vu(i.re,d));for(let d=0;d<e.mutations.length-1;++d){const _=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(_.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>Vu(i.re,d)),u=Br.fromMillis(e.localWriteTimeMs);return new ep(e.batchId,u,t,o)}function gc(i){const e=Hs(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Hs(i.lastLimboFreeSnapshotVersion):Cn.min();let o;var u;return void 0!==i.query.documents?(In(1===(u=i.query).documents.length),o=$o(Ru(Ka(u.documents[0])))):o=$o(f(i.query)),new el(o,i.targetId,0,i.lastListenSequenceNumber,e,t,ne.fromBase64String(i.resumeToken))}function $g(i,e){const t=Bu(e.snapshotVersion),o=Bu(e.lastLimboFreeSnapshotVersion);let u;u=ec(e.target)?E(i.re,e.target):c(i.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wa(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function np(i){const e=f({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Il(e,e.limit,"L"):e}function bh(i,e){return new Ch(e.largestBatchId,Vu(i.re,e.overlayMutation))}function Gg(i,e){const t=e.path.lastSegment();return[i,Si(e.path.popLast()),t]}function rp(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Bu(o.readTime),documentKey:Si(o.documentKey.path),largestBatchId:o.largestBatchId}}class r_{getBundleMetadata(e,t){return ip(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Hs(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return ip(e).put({bundleId:(o=t).id,createTime:Bu(ao(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return zg(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:np(u.bundledQuery),readTime:Hs(u.readTime)};var u})}saveNamedQuery(e,t){return zg(e).put({name:(o=t).name,readTime:Bu(ao(o.readTime)),bundledQuery:o.bundledQuery});var o}}function ip(i){return Oo(i,"bundles")}function zg(i){return Oo(i,"namedQueries")}class Th{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Th(e,t.uid||"")}getOverlay(e,t){return pd(e).get(Gg(this.userId,t)).next(o=>o?bh(this.It,o):null)}getOverlays(e,t){const o=ka();return De.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((d,_)=>{const T=new Ch(t,_);u.push(this.ue(e,T))}),De.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(_=>u.add(Si(_.getCollectionPath())));const d=[];return u.forEach(_=>{const T=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,o+1],!1,!0);d.push(pd(e).Y("collectionPathOverlayIndex",T))}),De.waitFor(d)}getOverlaysForCollection(e,t,o){const u=ka(),d=Si(t),_=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return pd(e).W("collectionPathOverlayIndex",_).next(T=>{for(const B of T){const q=bh(this.It,B);u.set(q.getKey(),q)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const d=ka();let _;const T=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pd(e).Z({index:"collectionGroupOverlayIndex",range:T},(B,q,te)=>{const Ie=bh(this.It,q);d.size()<u||Ie.largestBatchId===_?(d.set(Ie.getKey(),Ie),_=Ie.largestBatchId):te.done()}).next(()=>d)}ue(e,t){return pd(e).put(function(o,u,d){const[_,T,B]=Gg(u,d.mutation.key);return{userId:u,collectionPath:T,documentId:B,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:xl(o.re,d.mutation)}}(this.It,this.userId,t))}}function pd(i){return Oo(i,"documentOverlays")}class Rl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe($t(e.integerValue));else if("doubleValue"in e){const o=$t(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),Fi(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Nt(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?Hi(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):nn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const u of Object.keys(o))this._e(u,t),this.ae(o[u],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const u of o)this.ae(u,t)}ge(e,t){this.le(t,37),Ut.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function i_(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Nl(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const d=i_(255&t[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}Rl.Te=new Rl;class ju{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=t.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const t=this.Ce(e),o=Nl(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ne(e){const t=this.Ce(e),o=Nl(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class s_{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class o_{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Sh{constructor(){this.Be=new ju,this.Le=new s_(this.Be),this.Ue=new o_(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class mc{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new mc(this.indexId,this.documentKey,this.arrayValue,o)}}function tl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=a_(i.arrayValue,e.arrayValue),0!==t?t:(t=a_(i.directionalValue,e.directionalValue),0!==t?t:Ut.comparator(i.documentKey,e.documentKey)))}function a_(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Iu{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=fo(e);if(void 0!==t&&!this.ze(t))return!1;const o=so(e);let u=0,d=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const _=o[u];if(!this.He(this.je,_)||!this.Je(this.Ge[d++],_))return!1;++u}for(;u<o.length;++u){const _=o[u];if(d>=this.Ge.length||!this.Je(this.Ge[d++],_))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class sp{constructor(){this.Ye=new gd}addToCollectionParentIndex(e,t){return this.Ye.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getIndexType(e,t){return De.resolve(0)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,t){return De.resolve(W.min())}getMinOffsetFromCollectionGroup(e,t){return De.resolve(W.min())}updateCollectionGroup(e,t,o){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class gd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new v(Xn.comparator),d=!u.has(o);return this.index[t]=u.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new v(Xn.comparator)).toArray()}}const Ah=new Uint8Array(0);class Wg{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new gd,this.Ze=new wu(o=>Wa(o),(o,u)=>vl(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const d={collectionId:o,parent:Si(u)};return qg(e).put(d)}return De.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[ra(t),""],!1,!0);return qg(e).W(u).next(d=>{for(const _ of d){if(_.collectionId!==t)break;o.push(oa(_.parent))}return o})}addFieldIndex(e,t){const o=Mh(e),u={indexId:(_=t).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(T=>[T.fieldPath.canonicalString(),T.kind])};var _;delete u.indexId;const d=o.add(u);if(t.indexState){const _=md(e);return d.next(T=>{_.put(rp(T,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const o=Mh(e),u=md(e),d=Hu(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Hu(e);let u=!0;const d=new Map;return De.forEach(this.tn(t),_=>this.en(e,_).next(T=>{u&&(u=!!T),d.set(_,T)})).next(()=>{if(u){let _=ur();const T=[];return De.forEach(d,(B,q)=>{var te;bt("IndexedDbIndexManager",`Using index ${te=B,`id=${te.indexId}|cg=${te.collectionGroup}|f=${te.fields.map(ni=>`${ni.fieldPath}:${ni.kind}`).join(",")}`} to execute ${Wa(t)}`);const Ie=function(ni,Ps){const ri=fo(Ps);if(void 0===ri)return null;for(const ai of El(ni,ri.fieldPath))switch(ai.op){case"array-contains-any":return ai.value.arrayValue.values||[];case"array-contains":return[ai.value]}return null}(q,B),Ke=function(ni,Ps){const ri=new Map;for(const ai of so(Ps))for(const yo of El(ni,ai.fieldPath))switch(yo.op){case"==":case"in":ri.set(ai.fieldPath.canonicalString(),yo.value);break;case"not-in":case"!=":return ri.set(ai.fieldPath.canonicalString(),yo.value),Array.from(ri.values())}return null}(q,B),pt=function(ni,Ps){const ri=[];let ai=!0;for(const yo of so(Ps)){const Hc=0===yo.kind?wl(ni,yo.fieldPath,ni.startAt):Ku(ni,yo.fieldPath,ni.startAt);ri.push(Hc.value),ai&&(ai=Hc.inclusive)}return new qa(ri,ai)}(q,B),It=function(ni,Ps){const ri=[];let ai=!0;for(const yo of so(Ps)){const Hc=0===yo.kind?Ku(ni,yo.fieldPath,ni.endAt):wl(ni,yo.fieldPath,ni.endAt);ri.push(Hc.value),ai&&(ai=Hc.inclusive)}return new qa(ri,ai)}(q,B),Jt=this.nn(B,q,pt),cn=this.nn(B,q,It),oi=this.sn(B,q,Ke),Gi=this.rn(B.indexId,Ie,Jt,pt.inclusive,cn,It.inclusive,oi);return De.forEach(Gi,ni=>o.J(ni,t.limit).next(Ps=>{Ps.forEach(ri=>{const ai=Ut.fromSegments(ri.documentKey);_.has(ai)||(_=_.add(ai),T.push(ai))})}))}).next(()=>T)}return De.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,u,d,_,T){const B=(null!=t?t.length:1)*Math.max(o.length,d.length),q=B/(null!=t?t.length:1),te=[];for(let Ie=0;Ie<B;++Ie){const Ke=t?this.on(t[Ie/q]):Ah,pt=this.un(e,Ke,o[Ie%q],u),It=this.cn(e,Ke,d[Ie%q],_),Jt=T.map(cn=>this.un(e,Ke,cn,!0));te.push(...this.createRange(pt,It,Jt))}return te}un(e,t,o,u){const d=new mc(e,Ut.empty(),t,o);return u?d:d.Ke()}cn(e,t,o,u){const d=new mc(e,Ut.empty(),t,o);return u?d.Ke():d}en(e,t){const o=new Iu(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let _=null;for(const T of d)o.We(T)&&(!_||T.fields.length>_.fields.length)&&(_=T);return _})}getIndexType(e,t){let o=2;return De.forEach(this.tn(t),u=>this.en(e,u).next(d=>{d?0!==o&&d.fields.length<function(_){let T=new v(Gr.comparator),B=!1;for(const q of _.filters){const te=q;te.field.isKeyField()||("array-contains"===te.op||"array-contains-any"===te.op?B=!0:T=T.add(te.field))}for(const q of _.orderBy)q.field.isKeyField()||(T=T.add(q.field));return T.size+(B?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new Sh;for(const u of so(e)){const d=t.data.field(u.fieldPath);if(null==d)return null;const _=o.qe(u.kind);Rl.Te.ce(d,_)}return o.$e()}on(e){const t=new Sh;return Rl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new Sh;return Rl.Te.ce(tt(this.databaseId,t),o.qe(function(u){const d=so(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let u=[];u.push(new Sh);let d=0;for(const _ of so(e)){const T=o[d++];for(const B of u)if(this.ln(t,_.fieldPath)&&jt(T))u=this.fn(u,_,T);else{const q=B.qe(_.kind);Rl.Te.ce(T,q)}}return this.dn(u)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const u=[...e],d=[];for(const _ of o.arrayValue.values||[])for(const T of u){const B=new Sh;B.seed(T.$e()),Rl.Te.ce(_,B.qe(t.kind)),d.push(B)}return d}ln(e,t){return!!e.filters.find(o=>o instanceof po&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Mh(e),u=md(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(d=>{const _=[];return De.forEach(d,T=>u.get([T.indexId,this.uid]).next(B=>{_.push(function(q,te){const Ie=te?new m(te.sequenceNumber,new W(Hs(te.readTime),new Ut(oa(te.documentKey)),te.largestBatchId)):m.empty(),Ke=q.fields.map(([pt,It])=>new fu(Gr.fromServerFormat(pt),It));return new Ro(q.indexId,q.collectionGroup,Ke,Ie)}(T,B))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:ln(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=Mh(e),d=md(e);return this._n(e).next(_=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(T=>De.forEach(T,B=>d.put(rp(B.indexId,this.user,_,o)))))}updateIndexEntries(e,t){const o=new Map;return De.forEach(t,(u,d)=>{const _=o.get(u.collectionGroup);return(_?De.resolve(_):this.getFieldIndexes(e,u.collectionGroup)).next(T=>(o.set(u.collectionGroup,T),De.forEach(T,B=>this.wn(e,u,B).next(q=>{const te=this.mn(d,B);return q.isEqual(te)?De.resolve():this.gn(e,d,B,q,te)}))))})}yn(e,t,o,u){return Hu(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,u){return Hu(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const u=Hu(e);let d=new v(tl);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(_,T)=>{d=d.add(new mc(o.indexId,t,T.arrayValue,T.directionalValue))}).next(()=>d)}mn(e,t){let o=new v(tl);const u=this.an(t,e);if(null==u)return o;const d=fo(t);if(null!=d){const _=e.data.field(d.fieldPath);if(jt(_))for(const T of _.arrayValue.values||[])o=o.add(new mc(t.indexId,e.key,this.on(T),u))}else o=o.add(new mc(t.indexId,e.key,Ah,u));return o}gn(e,t,o,u,d){bt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const _=[];return function(T,B,q,te,Ie){const Ke=T.getIterator(),pt=B.getIterator();let It=F(Ke),Jt=F(pt);for(;It||Jt;){let cn=!1,oi=!1;if(It&&Jt){const Gi=q(It,Jt);Gi<0?oi=!0:Gi>0&&(cn=!0)}else null!=It?oi=!0:cn=!0;cn?(te(Jt),Jt=F(pt)):oi?(Ie(It),It=F(Ke)):(It=F(Ke),Jt=F(pt))}}(u,d,tl,T=>{_.push(this.yn(e,t,o,T))},T=>{_.push(this.pn(e,t,o,T))}),De.waitFor(_)}_n(e){let t=1;return md(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((_,T)=>tl(_,T)).filter((_,T,B)=>!T||0!==tl(_,B[T-1]));const u=[];u.push(e);for(const _ of o){const T=tl(_,e),B=tl(_,t);if(0===T)u[0]=e.Ke();else if(T>0&&B<0)u.push(_),u.push(_.Ke());else if(B>0)break}u.push(t);const d=[];for(let _=0;_<u.length;_+=2)d.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,Ah,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,Ah,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(xh)}getMinOffset(e,t){return De.mapArray(this.tn(t),o=>this.en(e,o).next(u=>u||nn())).next(xh)}}function qg(i){return Oo(i,"collectionParents")}function Hu(i){return Oo(i,"indexEntries")}function Mh(i){return Oo(i,"indexConfiguration")}function md(i){return Oo(i,"indexState")}function xh(i){In(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;X(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new W(e.readTime,e.documentKey,t)}const Rh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ya{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ya(e,ya.DEFAULT_COLLECTION_PERCENTILE,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function u_(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],_=IDBKeyRange.only(t.batchId);let T=0;const B=o.Z({range:_},(te,Ie,Ke)=>(T++,Ke.delete()));d.push(B.next(()=>{In(1===T)}));const q=[];for(const te of t.mutations){const Ie=ad(e,te.key.path,t.batchId);d.push(u.delete(Ie)),q.push(te.key)}return De.waitFor(d).next(()=>q)}function $u(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw nn();e=i.noDocument}return JSON.stringify(e).length}ya.DEFAULT_COLLECTION_PERCENTILE=10,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ya.DEFAULT=new ya(41943040,ya.DEFAULT_COLLECTION_PERCENTILE,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ya.DISABLED=new ya(-1,0,0);class yc{constructor(e,t,o,u){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,t,o,u){In(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new yc(d,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).Z({index:"userMutationsIndex",range:o},(u,d,_)=>{t=!1,_.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const d=rl(e),_=nl(e);return _.add({}).next(T=>{In("number"==typeof T);const B=new ep(T,t,o,u),q=function(Ke,pt,It){const Jt=It.baseMutations.map(oi=>xl(Ke.re,oi)),cn=It.mutations.map(oi=>xl(Ke.re,oi));return{userId:pt,batchId:It.batchId,localWriteTimeMs:It.localWriteTime.toMillis(),baseMutations:Jt,mutations:cn}}(this.It,this.userId,B),te=[];let Ie=new v((Ke,pt)=>ln(Ke.canonicalString(),pt.canonicalString()));for(const Ke of u){const pt=ad(this.userId,Ke.key.path,T);Ie=Ie.add(Ke.key.path.popLast()),te.push(_.put(q)),te.push(d.put(pt,Kf))}return Ie.forEach(Ke=>{te.push(this.indexManager.addToCollectionParentIndex(e,Ke))}),e.addOnCommittedListener(()=>{this.In[T]=B.keys()}),De.waitFor(te).next(()=>B)})}lookupMutationBatch(e,t){return nl(e).get(t).next(o=>o?(In(o.userId===this.userId),uu(this.It,o)):null)}Tn(e,t){return this.In[t]?De.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return nl(e).Z({index:"userMutationsIndex",range:u},(_,T,B)=>{T.userId===this.userId&&(In(T.batchId>=o),d=uu(this.It,T)),B.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return nl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,d,_)=>{o=d.batchId,_.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).W("userMutationsIndex",t).next(o=>o.map(u=>uu(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=fc(this.userId,t.path),u=IDBKeyRange.lowerBound(o),d=[];return rl(e).Z({range:u},(_,T,B)=>{const[q,te,Ie]=_,Ke=oa(te);if(q===this.userId&&t.path.isEqual(Ke))return nl(e).get(Ie).next(pt=>{if(!pt)throw nn();In(pt.userId===this.userId),d.push(uu(this.It,pt))});B.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new v(ln);const u=[];return t.forEach(d=>{const _=fc(this.userId,d.path),T=IDBKeyRange.lowerBound(_),B=rl(e).Z({range:T},(q,te,Ie)=>{const[Ke,pt,It]=q,Jt=oa(pt);Ke===this.userId&&d.path.isEqual(Jt)?o=o.add(It):Ie.done()});u.push(B)}),De.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,d=fc(this.userId,o),_=IDBKeyRange.lowerBound(d);let T=new v(ln);return rl(e).Z({range:_},(B,q,te)=>{const[Ie,Ke,pt]=B,It=oa(Ke);Ie===this.userId&&o.isPrefixOf(It)?It.length===u&&(T=T.add(pt)):te.done()}).next(()=>this.En(e,T))}En(e,t){const o=[],u=[];return t.forEach(d=>{u.push(nl(e).get(d).next(_=>{if(null===_)throw nn();In(_.userId===this.userId),o.push(uu(this.It,_))}))}),De.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return u_(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),De.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return De.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return rl(e).Z({range:o},(d,_,T)=>{if(d[0]===this.userId){const B=oa(d[1]);u.push(B)}else T.done()}).next(()=>{In(0===u.length)})})}containsKey(e,t){return op(e,this.userId,t)}Rn(e){return Zg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function op(i,e,t){const o=fc(e,t.path),u=o[1],d=IDBKeyRange.lowerBound(o);let _=!1;return rl(i).Z({range:d,X:!0},(T,B,q)=>{const[te,Ie,Ke]=T;te===e&&Ie===u&&(_=!0),q.done()}).next(()=>_)}function nl(i){return Oo(i,"mutations")}function rl(i){return Oo(i,"documentMutations")}function Zg(i){return Oo(i,"mutationQueues")}class Ol{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ol(0)}static vn(){return new Ol(-1)}}class l_{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new Ol(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Cn.fromTimestamp(new Br(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_c(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(In(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let u=0;const d=[];return _c(e).Z((_,T)=>{const B=gc(T);B.sequenceNumber<=t&&null===o.get(B.targetId)&&(u++,d.push(this.removeTargetData(e,B)))}).next(()=>De.waitFor(d)).next(()=>u)}forEachTarget(e,t){return _c(e).Z((o,u)=>{const d=gc(u);t(d)})}Vn(e){return Kg(e).get("targetGlobalKey").next(t=>(In(null!==t),t))}Sn(e,t){return Kg(e).put("targetGlobalKey",t)}Dn(e,t){return _c(e).put($g(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Wa(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return _c(e).Z({range:u,index:"queryTargetsIndex"},(_,T,B)=>{const q=gc(T);vl(t,q.target)&&(d=q,B.done())}).next(()=>d)}addMatchingKeys(e,t,o){const u=[],d=il(e);return t.forEach(_=>{const T=Si(_.path);u.push(d.put({targetId:o,path:T})),u.push(this.referenceDelegate.addReference(e,o,_))}),De.waitFor(u)}removeMatchingKeys(e,t,o){const u=il(e);return De.forEach(t,d=>{const _=Si(d.path);return De.waitFor([u.delete([o,_]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,t){const o=il(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=il(e);let d=ur();return u.Z({range:o,X:!0},(_,T,B)=>{const q=oa(_[1]),te=new Ut(q);d=d.add(te)}).next(()=>d)}containsKey(e,t){const o=Si(t.path),u=IDBKeyRange.bound([o],[ra(o)],!1,!0);let d=0;return il(e).Z({index:"documentTargetsIndex",X:!0,range:u},([_,T],B,q)=>{0!==_&&(d++,q.done())}).next(()=>d>0)}se(e,t){return _c(e).get(t).next(o=>o?gc(o):null)}}function _c(i){return Oo(i,"targets")}function Kg(i){return Oo(i,"targetGlobal")}function il(i){return Oo(i,"targetDocuments")}function ap([i,e],[t,o]){const u=ln(i,t);return 0===u?ln(e,o):u}class up{constructor(e){this.xn=e,this.buffer=new v(ap),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();ap(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qg{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;bt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){hn(o)?bt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ge(o)}yield t.Fn(3e5)}))}}class lp{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return De.resolve(ti.at);const o=new up(t);return this.$n.forEachTarget(e,u=>o.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.On(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(Rh)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rh):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,u,d,_,T,B,q;const te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ie=>(Ie>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ie}`),u=this.params.maximumSequenceNumbersToCollect):u=Ie,_=Date.now(),this.nthSequenceNumber(e,u))).next(Ie=>(o=Ie,T=Date.now(),this.removeTargets(e,o,t))).next(Ie=>(d=Ie,B=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ie=>(q=Date.now(),eu()<=yt.in.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-te}ms\n\tDetermined least recently used ${u} in `+(T-_)+`ms\n\tRemoved ${d} targets in `+(B-T)+`ms\n\tRemoved ${Ie} documents in `+(q-B)+`ms\nTotal Duration: ${q-te}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Ie})))}}class c_{constructor(e,t){this.db=e,this.garbageCollector=new lp(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,u)=>t(u))}addReference(e,t,o){return Nh(e,o)}removeReference(e,t,o){return Nh(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Nh(e,t)}Gn(e,t){return function(o,u){let d=!1;return Zg(o).tt(_=>op(o,_,u).next(T=>(T&&(d=!0),De.resolve(!T)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Kn(e,(_,T)=>{if(T<=t){const B=this.Gn(e,_).next(q=>{if(!q)return d++,o.getEntry(e,_).next(()=>(o.removeEntry(_,Cn.min()),il(e).delete([0,Si(_.path)])))});u.push(B)}}).next(()=>De.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Nh(e,t)}Kn(e,t){const o=il(e);let u,d=ti.at;return o.Z({index:"documentTargetsIndex"},([_,T],{path:B,sequenceNumber:q})=>{0===_?(d!==ti.at&&t(new Ut(oa(u)),d),d=q,u=B):d=ti.at}).next(()=>{d!==ti.at&&t(new Ut(oa(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nh(i,e){return il(i).put((o=i.currentSequenceNumber,{targetId:0,path:Si(e.path),sequenceNumber:o}));var o}class cp{constructor(){this.changes=new wu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?De.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yg{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Pl(e).put(o)}removeEntry(e,t,o){return Pl(e).delete(function(u,d){const _=u.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],fd(d),_[_.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=Wr.newInvalidDocument(t);return Pl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Oh(t))},(u,d)=>{o=this.jn(t,d)}).next(()=>o)}Wn(e,t){let o={size:0,document:Wr.newInvalidDocument(t)};return Pl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Oh(t))},(u,d)=>{o={document:this.jn(t,d),size:$u(d)}}).next(()=>o)}getEntries(e,t){let o=go();return this.zn(e,t,(u,d)=>{const _=this.jn(u,d);o=o.insert(u,_)}).next(()=>o)}Hn(e,t){let o=go(),u=new Dr(Ut.comparator);return this.zn(e,t,(d,_)=>{const T=this.jn(d,_);o=o.insert(d,T),u=u.insert(d,$u(_))}).next(()=>({documents:o,Jn:u}))}zn(e,t,o){if(t.isEmpty())return De.resolve();let u=new v(Xg);t.forEach(B=>u=u.add(B));const d=IDBKeyRange.bound(Oh(u.first()),Oh(u.last())),_=u.getIterator();let T=_.getNext();return Pl(e).Z({index:"documentKeyIndex",range:d},(B,q,te)=>{const Ie=Ut.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;T&&Xg(T,Ie)<0;)o(T,null),T=_.getNext();T&&T.isEqual(Ie)&&(o(T,q),T=_.hasNext()?_.getNext():null),T?te.j(Oh(T)):te.done()}).next(()=>{for(;T;)o(T,null),T=_.hasNext()?_.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),fd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pl(e).W(IDBKeyRange.bound(u,d,!0)).next(_=>{let T=go();for(const B of _){const q=this.jn(Ut.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);T=T.insert(q.key,q)}return T})}getAllFromCollectionGroup(e,t,o,u){let d=go();const _=yd(t,o),T=yd(t,W.max());return Pl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,T,!0)},(B,q,te)=>{const Ie=this.jn(Ut.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);d=d.insert(Ie.key,Ie),d.size===u&&te.done()}).next(()=>d)}newChangeBuffer(e){return new Jg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return dp(e).get("remoteDocumentGlobalKey").next(t=>(In(!!t),t))}Qn(e,t){return dp(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function ma(i,e){let t;if(e.document)t=vh(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Ut.fromSegments(e.noDocument.path),u=Hs(e.noDocument.readTime);t=Wr.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return nn();{const o=Ut.fromSegments(e.unknownDocument.path),u=Hs(e.unknownDocument.version);t=Wr.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new Br(o[0],o[1]);return Cn.fromTimestamp(u)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(Cn.min()))return o}return Wr.newInvalidDocument(e)}}function sl(i){return new Yg(i)}class Jg extends cp{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new wu(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new v((d,_)=>ln(d.canonicalString(),_.canonicalString()));return this.changes.forEach((d,_)=>{const T=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,T.readTime)),_.isValidDocument()){const B=Dh(this.Yn.It,_);u=u.add(d.path.popLast()),o+=$u(B)-T.size,t.push(this.Yn.addEntry(e,d,B))}else if(o-=T.size,this.trackRemovals){const B=Dh(this.Yn.It,_.convertToNoDocument(Cn.min()));t.push(this.Yn.addEntry(e,d,B))}}),u.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,o)),De.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:u})=>(u.forEach((d,_)=>{this.Xn.set(d,{size:_,readTime:o.get(d).readTime})}),o))}}function dp(i){return Oo(i,"remoteDocumentGlobal")}function Pl(i){return Oo(i,"remoteDocumentsV14")}function Oh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yd(i,e){const t=e.documentKey.path.toArray();return[i,fd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Xg(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<t.length-2&&d<o.length-2;++d)if(u=ln(t[d],o[d]),u)return u;return u=ln(t.length,o.length),u||(u=ln(t[t.length-2],o[o.length-2]),u||ln(t[t.length-1],o[o.length-1]))}class em{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hp{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&Yu(o.mutation,u,G.empty(),Br.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,ur()).next(()=>o))}getLocalViewOfDocuments(e,t,o=ur()){const u=ka();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(d=>{let _=Za();return d.forEach((T,B)=>{_=_.insert(T,B.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const o=ka();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,ur()))}populateOverlays(e,t,o){const u=[];return o.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((_,T)=>{t.set(_,T)})})}computeViews(e,t,o,u){let d=go();const _=Xu(),T=Xu();return t.forEach((B,q)=>{const te=o.get(q.key);u.has(q.key)&&(void 0===te||te.mutation instanceof Ta)?d=d.insert(q.key,q):void 0!==te&&(_.set(q.key,te.mutation.getFieldMask()),Yu(te.mutation,q,te.mutation.getFieldMask(),Br.now()))}),this.recalculateAndSaveOverlays(e,d).next(B=>(B.forEach((q,te)=>_.set(q,te)),t.forEach((q,te)=>{var Ie;return T.set(q,new em(te,null!==(Ie=_.get(q))&&void 0!==Ie?Ie:null))}),T))}recalculateAndSaveOverlays(e,t){const o=Xu();let u=new Dr((_,T)=>_-T),d=ur();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const T of _)T.keys().forEach(B=>{const q=t.get(B);if(null===q)return;let te=o.get(B)||G.empty();te=T.applyToLocalView(q,te),o.set(B,te);const Ie=(u.get(T.batchId)||ur()).add(B);u=u.insert(T.batchId,Ie)})}).next(()=>{const _=[],T=u.getReverseIterator();for(;T.hasNext();){const B=T.getNext(),q=B.key,te=B.value,Ie=nd();te.forEach(Ke=>{if(!d.has(Ke)){const pt=hh(t.get(Ke),o.get(Ke));null!==pt&&Ie.set(Ke,pt),d=d.add(Ke)}}),_.push(this.documentOverlayCache.saveOverlays(e,q,Ie))}return De.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Ut.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Wc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(d=>{const _=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-d.size):De.resolve(ka());let T=-1,B=d;return _.next(q=>De.forEach(q,(te,Ie)=>(T<Ie.largestBatchId&&(T=Ie.largestBatchId),d.get(te)?De.resolve():this.getBaseDocument(e,te,Ie).next(Ke=>{B=B.insert(te,Ke)}))).next(()=>this.populateOverlays(e,q,d)).next(()=>this.computeViews(e,B,q,ur())).next(te=>({batchId:T,changes:sc(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ut(t)).next(o=>{let u=Za();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let d=Za();return this.indexManager.getCollectionParents(e,u).next(_=>De.forEach(_,T=>{const B=(q=t,te=T.child(u),new ga(te,null,q.explicitOrderBy.slice(),q.filters.slice(),q.limit,q.limitType,q.startAt,q.endAt));var q,te;return this.getDocumentsMatchingCollectionQuery(e,B,o).next(q=>{q.forEach((te,Ie)=>{d=d.insert(te,Ie)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(d=>{d.forEach((T,B)=>{const q=B.getKey();null===u.get(q)&&(u=u.insert(q,Wr.newInvalidDocument(q)))});let _=Za();return u.forEach((T,B)=>{const q=d.get(T);void 0!==q&&Yu(q.mutation,B,G.empty(),Br.now()),rc(t,B)&&(_=_.insert(T,B))}),_})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):De.resolve(Wr.newInvalidDocument(t))}}class tm{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return De.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:ao(o.createTime)}),De.resolve()}getNamedQuery(e,t){return De.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:np(o.bundledQuery),readTime:ao(o.readTime)}),De.resolve();var o}}class fp{constructor(){this.overlays=new Dr(Ut.comparator),this.es=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}getOverlays(e,t){const o=ka();return De.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,d)=>{this.ue(e,t,d)}),De.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),De.resolve()}getOverlaysForCollection(e,t,o){const u=ka(),d=t.length+1,_=new Ut(t.child("")),T=this.overlays.getIteratorFrom(_);for(;T.hasNext();){const B=T.getNext().value,q=B.getKey();if(!t.isPrefixOf(q.path))break;q.path.length===d&&B.largestBatchId>o&&u.set(B.getKey(),B)}return De.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let d=new Dr((q,te)=>q-te);const _=this.overlays.getIterator();for(;_.hasNext();){const q=_.getNext().value;if(q.getKey().getCollectionGroup()===t&&q.largestBatchId>o){let te=d.get(q.largestBatchId);null===te&&(te=ka(),d=d.insert(q.largestBatchId,te)),te.set(q.getKey(),q)}}const T=ka(),B=d.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((q,te)=>T.set(q,te)),!(T.size()>=u)););return De.resolve(T)}ue(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const _=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new Ch(t,o));let d=this.es.get(t);void 0===d&&(d=ur(),this.es.set(t,d)),this.es.set(t,d.add(o.key))}}class Ph{constructor(){this.ns=new v(Qs.ss),this.rs=new v(Qs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new Qs(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new Qs(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new Ut(new Xn([])),o=new Qs(t,e),u=new Qs(t,e+1),d=[];return this.rs.forEachInRange([o,u],_=>{this.cs(_),d.push(_.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ut(new Xn([])),o=new Qs(t,e),u=new Qs(t,e+1);let d=ur();return this.rs.forEachInRange([o,u],_=>{d=d.add(_.key)}),d}containsKey(e){const t=new Qs(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Qs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ut.comparator(e.key,t.key)||ln(e._s,t._s)}static os(e,t){return ln(e._s,t._s)||Ut.comparator(e.key,t.key)}}class kh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new v(Qs.ss)}checkEmpty(e){return De.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const d=this.ws;this.ws++;const _=new ep(d,t,o,u);this.mutationQueue.push(_);for(const T of u)this.gs=this.gs.add(new Qs(T.key,d)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return De.resolve(_)}lookupMutationBatch(e,t){return De.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),d=u<0?0:u;return De.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Qs(t,0),u=new Qs(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,u],_=>{const T=this.ys(_._s);d.push(T)}),De.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new v(ln);return t.forEach(u=>{const d=new Qs(u,0),_=new Qs(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,_],T=>{o=o.add(T._s)})}),De.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let d=o;Ut.isDocumentKey(d)||(d=d.child(""));const _=new Qs(new Ut(d),0);let T=new v(ln);return this.gs.forEachWhile(B=>{const q=B.key.path;return!!o.isPrefixOf(q)&&(q.length===u&&(T=T.add(B._s)),!0)},_),De.resolve(this.Is(T))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){In(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return De.forEach(t.mutations,u=>{const d=new Qs(u.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new Qs(t,0),u=this.gs.firstAfterOrEqual(o);return De.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return De.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nm{constructor(e){this.Es=e,this.docs=new Dr(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),d=u?u.size:0,_=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:_}),this.size+=_-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return De.resolve(o?o.document.mutableCopy():Wr.newInvalidDocument(t))}getEntries(e,t){let o=go();return t.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():Wr.newInvalidDocument(u))}),De.resolve(o)}getAllFromCollection(e,t,o){let u=go();const d=new Ut(t.child("")),_=this.docs.getIteratorFrom(d);for(;_.hasNext();){const{key:T,value:{document:B}}=_.getNext();if(!t.isPrefixOf(T.path))break;T.path.length>t.length+1||X(M(B),o)<=0||(u=u.insert(B.key,B.mutableCopy()))}return De.resolve(u)}getAllFromCollectionGroup(e,t,o,u){nn()}As(e,t){return De.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new pp(this)}getSize(e){return De.resolve(this.size)}}class pp extends cp{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),De.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class rm{constructor(e){this.persistence=e,this.Rs=new wu(t=>Wa(t),vl),this.lastRemoteSnapshotVersion=Cn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ph,this.targetCount=0,this.vs=Ol.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),De.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ol(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.Dn(t),De.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,o){let u=0;const d=[];return this.Rs.forEach((_,T)=>{T.sequenceNumber<=t&&null===o.get(T.targetId)&&(this.Rs.delete(_),d.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),De.waitFor(d).next(()=>u)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return De.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),De.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(_=>{d.push(u.markPotentiallyOrphaned(e,_))}),De.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),De.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return De.resolve(o)}containsKey(e,t){return De.resolve(this.Ps.containsKey(t))}}class Fh{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ti(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new rm(this),this.indexManager=new sp,this.remoteDocumentCache=new nm(o=>this.referenceDelegate.xs(o)),this.It=new Hg(t),this.Ns=new tm(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new kh(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){bt("MemoryPersistence","Starting transaction:",e);const u=new _d(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(d=>this.referenceDelegate.Os(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ms(e,t){return De.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class _d extends Te{constructor(e){super(),this.currentSequenceNumber=e}}class Lh{constructor(e){this.persistence=e,this.Fs=new Ph,this.$s=null}static Bs(e){return new Lh(e)}get Ls(){if(this.$s)return this.$s;throw nn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),De.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),De.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Ls,o=>{const u=Ut.fromPath(o);return this.Us(e,u).next(d=>{d||t.removeEntry(u,Cn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return De.or([()=>De.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class im{constructor(e){this.It=e}$(e,t,o,u){const d=new Qt("createOrUpgrade",t);var T;o<1&&u>=1&&(e.createObjectStore("owner"),(T=e).createObjectStore("mutationQueues",{keyPath:"userId"}),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wh,{unique:!0}),T.createObjectStore("documentMutations"),sm(e),function(T){T.createObjectStore("remoteDocuments")}(e));let _=De.resolve();return o<3&&u>=3&&(0!==o&&(function(T){T.deleteObjectStore("targetDocuments"),T.deleteObjectStore("targets"),T.deleteObjectStore("targetGlobal")}(e),sm(e)),_=_.next(()=>function(T){const B=T.store("targetGlobal"),q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Cn.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",q)}(d))),o<4&&u>=4&&(0!==o&&(_=_.next(()=>function(T,B){return B.store("mutations").W().next(q=>{T.deleteObjectStore("mutations"),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wh,{unique:!0});const te=B.store("mutations"),Ie=q.map(Ke=>te.put(Ke));return De.waitFor(Ie)})}(e,d))),_=_.next(()=>{!function(T){T.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(_=_.next(()=>this.qs(d))),o<6&&u>=6&&(_=_.next(()=>(function(T){T.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),o<7&&u>=7&&(_=_.next(()=>this.Gs(d))),o<8&&u>=8&&(_=_.next(()=>this.Qs(e,d))),o<9&&u>=9&&(_=_.next(()=>{!function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(_=_.next(()=>this.js(d))),o<11&&u>=11&&(_=_.next(()=>{(function(T){T.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(T){T.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(_=_.next(()=>{!function(T){const B=T.createObjectStore("documentOverlays",{keyPath:Jy});B.createIndex("collectionPathOverlayIndex",Xy,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",e_,{unique:!1})}(e)})),o<13&&u>=13&&(_=_.next(()=>function(T){const B=T.createObjectStore("remoteDocumentsV14",{keyPath:Qf});B.createIndex("documentKeyIndex",ud),B.createIndex("collectionGroupIndex",ld)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(_=_.next(()=>this.zs(e,d))),o<15&&u>=15&&(_=_.next(()=>function(T){T.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),T.createObjectStore("indexState",{keyPath:Yf}).createIndex("sequenceNumberIndex",Yy,{unique:!1}),T.createObjectStore("indexEntries",{keyPath:Jf}).createIndex("documentKeyIndex",dd,{unique:!1})}(e))),_}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,u)=>{t+=$u(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(u=>De.forEach(u,d=>{const _=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",_).next(T=>De.forEach(T,B=>{In(B.userId===d.userId);const q=uu(this.It,B);return u_(e,d.userId,q).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Z((_,T)=>{const B=new Xn(_),q=[0,Si(B)];d.push(t.get(q).next(te=>te?De.resolve():t.put({targetId:0,path:Si(B),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>De.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Vg});const o=t.store("collectionParents"),u=new gd,d=_=>{if(u.add(_)){const T=_.lastSegment(),B=_.popLast();return o.put({collectionId:T,parent:Si(B)})}};return t.store("remoteDocuments").Z({X:!0},(_,T)=>{const B=new Xn(_);return d(B.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([_,T,B],q)=>{const te=oa(T);return d(te.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,u)=>{const d=gc(u),_=$g(this.It,d);return t.put(_)})}Ws(e,t){const o=t.store("remoteDocuments"),u=[];return o.Z((d,_)=>{const T=t.store("remoteDocumentsV14"),B=(q=_,q.document?new Ut(Xn.fromString(q.document.name).popFirst(5)):q.noDocument?Ut.fromSegments(q.noDocument.path):q.unknownDocument?Ut.fromSegments(q.unknownDocument.path):nn()).path.toArray();var q;const te={prefixPath:B.slice(0,B.length-2),collectionGroup:B[B.length-2],documentId:B[B.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};u.push(T.put(te))}).next(()=>De.waitFor(u))}zs(e,t){const o=t.store("mutations"),u=sl(this.It),d=new Fh(Lh.Bs,this.It.re);return o.W().next(_=>{const T=new Map;return _.forEach(B=>{var q;let te=null!==(q=T.get(B.userId))&&void 0!==q?q:ur();uu(this.It,B).keys().forEach(Ie=>te=te.add(Ie)),T.set(B.userId,te)}),De.forEach(T,(B,q)=>{const te=new mi(q),Ie=Th.oe(this.It,te),Ke=d.getIndexManager(te),pt=yc.oe(te,this.It,Ke,d.referenceDelegate);return new hp(u,pt,Ie,Ke).recalculateAndSaveOverlaysForDocumentKeys(new hd(t,ti.at),B).next()})})}}function sm(i){i.createObjectStore("targetDocuments",{keyPath:pc}).createIndex("documentTargetsIndex",Ih,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cd,{unique:!0}),i.createObjectStore("targetGlobal")}const gp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Uh{constructor(e,t,o,u,d,_,T,B,q,te,Ie=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=d,this.window=_,this.document=T,this.Js=q,this.Ys=te,this.Xs=Ie,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Ke=>Promise.resolve(),!Uh.C())throw new wt(et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new c_(this,u),this.ii=t+"main",this.It=new Hg(B),this.ri=new Un(this.ii,this.Xs,new im(this.It)),this.Cs=new l_(this.referenceDelegate,this.It),this.remoteDocumentCache=sl(this.It),this.Ns=new r_,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===te&&An("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new wt(et.FAILED_PRECONDITION,gp);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ti(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,_e.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,_e.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(hn(e))return bt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return bt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return kl(e).get("owner").next(t=>De.resolve(this.mi(t)))}gi(e){return vd(e).delete(this.clientId)}yi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Oo(o,"clientMetadata");return u.W().next(d=>{const _=e.Ii(d,18e5),T=d.filter(B=>-1===_.indexOf(B));return De.forEach(T,B=>u.delete(B.clientId)).next(()=>T)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?De.resolve(!0):kl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new wt(et.FAILED_PRECONDITION,gp);return!1}}return!(!this.networkEnabled||!this.inForeground)||vd(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const _=!this.inForeground&&u.inForeground,T=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||_&&T)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&bt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new hd(t,ti.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>vd(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return yc.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Wg(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Th.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){bt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",d=15===(_=this.Xs)?n_:14===_?jg:13===_?Bg:12===_?t_:11===_?Xf:void nn();var _;let T;return this.ri.runTransaction(e,u,d,B=>(T=new hd(B,this.Ss?this.Ss.next():ti.at),"readwrite-primary"===t?this.fi(T).next(q=>!!q||this.di(T)).next(q=>{if(!q)throw An(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new wt(et.FAILED_PRECONDITION,ve);return o(T)}).next(q=>this.wi(T).next(()=>q)):this.Vi(T).next(()=>o(T)))).then(B=>(T.raiseOnCommittedEvent(),B))}Vi(e){return kl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new wt(et.FAILED_PRECONDITION,gp)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kl(e).put("owner",t)}static C(){return Un.C()}_i(e){const t=kl(e);return t.get("owner").next(o=>this.mi(o)?(bt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):De.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(An(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,at.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return bt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return An("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){An("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kl(i){return Oo(i,"owner")}function vd(i){return Oo(i,"clientMetadata")}function om(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Vh{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=ur(),u=ur();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Vh(e,t.fromCache,o,u)}}class am{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(d=>d||this.Oi(e,t,u,o)).next(d=>d||this.Mi(e,t))}ki(e,t){if(zc(t))return De.resolve(null);let o=$o(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Il(t,null,"F"),o=$o(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const _=ur(...d);return this.Ni.getDocuments(e,_).next(T=>this.indexManager.getMinOffset(e,o).next(B=>{const q=this.Fi(t,T);return this.$i(t,q,_,B.readTime)?this.ki(e,Il(t,null,"F")):this.Bi(e,q,t,B)}))})))}Oi(e,t,o,u){return zc(t)||u.isEqual(Cn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(d=>{const _=this.Fi(t,d);return this.$i(t,_,o,u)?this.Mi(e,t):(eu()<=yt.in.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),yu(t)),this.Bi(e,_,t,y(u,-1)))})}Fi(e,t){let o=new v(lh(e));return t.forEach((u,d)=>{rc(e,d)&&(o=o.add(d))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Mi(e,t){return eu()<=yt.in.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",yu(t)),this.Ni.getDocumentsMatchingQuery(e,t,W.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(d=>(t.forEach(_=>{d=d.insert(_.key,_)}),d))}}class um{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.It=u,this.Ui=new Dr(ln),this.qi=new wu(d=>Wa(d),vl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function lm(i,e,t,o){return new um(i,e,t,o)}function cm(i,e){return La.apply(this,arguments)}function La(){return La=(0,_e.Z)(function*(i,e){const t=Bt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(d=>{const _=[],T=[];let B=ur();for(const q of u){_.push(q.batchId);for(const te of q.mutations)B=B.add(te.key)}for(const q of d){T.push(q.batchId);for(const te of q.mutations)B=B.add(te.key)}return t.localDocuments.getDocuments(o,B).next(q=>({ji:q,removedBatchIds:_,addedBatchIds:T}))})})}),La.apply(this,arguments)}function d_(i,e){const t=Bt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(_,T,B,q){const te=B.batch,Ie=te.keys();let Ke=De.resolve();return Ie.forEach(pt=>{Ke=Ke.next(()=>q.getEntry(T,pt)).next(It=>{const Jt=B.docVersions.get(pt);In(null!==Jt),It.version.compareTo(Jt)<0&&(te.applyToRemoteDocument(It,B),It.isValidDocument()&&(It.setReadTime(B.commitVersion),q.addEntry(It)))})}),Ke.next(()=>_.mutationQueue.removeMutationBatch(T,te))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(_){let T=ur();for(let B=0;B<_.mutationResults.length;++B)_.mutationResults[B].transformResults.length>0&&(T=T.add(_.batch.mutations[B].key));return T}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function mp(i){const e=Bt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function h_(i,e){const t=Bt(i),o=e.snapshotVersion;let u=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const _=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.Ui;const T=[];e.targetChanges.forEach((te,Ie)=>{const Ke=u.get(Ie);if(!Ke)return;T.push(t.Cs.removeMatchingKeys(d,te.removedDocuments,Ie).next(()=>t.Cs.addMatchingKeys(d,te.addedDocuments,Ie)));let pt=Ke.withSequenceNumber(d.currentSequenceNumber);var It,Jt,cn;e.targetMismatches.has(Ie)?pt=pt.withResumeToken(ne.EMPTY_BYTE_STRING,Cn.min()).withLastLimboFreeSnapshotVersion(Cn.min()):te.resumeToken.approximateByteSize()>0&&(pt=pt.withResumeToken(te.resumeToken,o)),u=u.insert(Ie,pt),Jt=pt,cn=te,(0===(It=Ke).resumeToken.approximateByteSize()||Jt.snapshotVersion.toMicroseconds()-It.snapshotVersion.toMicroseconds()>=3e8||cn.addedDocuments.size+cn.modifiedDocuments.size+cn.removedDocuments.size>0)&&T.push(t.Cs.updateTargetData(d,pt))});let B=go(),q=ur();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(d,te))}),T.push(dm(d,_,e.documentUpdates).next(te=>{B=te.Wi,q=te.zi})),!o.isEqual(Cn.min())){const te=t.Cs.getLastRemoteSnapshotVersion(d).next(Ie=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));T.push(te)}return De.waitFor(T).next(()=>_.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,B,q)).next(()=>B)}).then(d=>(t.Ui=u,d))}function dm(i,e,t){let o=ur(),u=ur();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let _=go();return t.forEach((T,B)=>{const q=d.get(T);B.isFoundDocument()!==q.isFoundDocument()&&(u=u.add(T)),B.isNoDocument()&&B.version.isEqual(Cn.min())?(e.removeEntry(T,B.readTime),_=_.insert(T,B)):!q.isValidDocument()||B.version.compareTo(q.version)>0||0===B.version.compareTo(q.version)&&q.hasPendingWrites?(e.addEntry(B),_=_.insert(T,B)):bt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",q.version," Watch version:",B.version)}),{Wi:_,zi:u}})}function f_(i,e){const t=Bt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function vc(i,e){const t=Bt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(d=>d?(u=d,De.resolve(u)):t.Cs.allocateTargetId(o).next(_=>(u=new el(e,_,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function Fl(i,e,t){return yp.apply(this,arguments)}function yp(){return yp=(0,_e.Z)(function*(i,e,t){const o=Bt(i),u=o.Ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,_=>o.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!hn(_))throw _;bt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),yp.apply(this,arguments)}function Bh(i,e,t){const o=Bt(i);let u=Cn.min(),d=ur();return o.persistence.runTransaction("Execute query","readonly",_=>function(T,B,q){const te=Bt(T),Ie=te.qi.get(q);return void 0!==Ie?De.resolve(te.Ui.get(Ie)):te.Cs.getTargetData(B,q)}(o,_,$o(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(_,T.targetId).next(B=>{d=B})}).next(()=>o.Li.getDocumentsMatchingQuery(_,e,t?u:Cn.min(),t?d:ur())).next(T=>(_p(o,qc(e),T),{documents:T,Hi:d})))}function hm(i,e){const t=Bt(i),o=Bt(t.Cs),u=t.Ui.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",d=>o.se(d,e).next(_=>_?_.target:null))}function gr(i,e){const t=Bt(i),o=t.Ki.get(e)||Cn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,y(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(_p(t,e,u),u))}function _p(i,e,t){let o=i.Ki.get(e)||Cn.min();t.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}function jh(){return jh=(0,_e.Z)(function*(i,e,t,o){const u=Bt(i);let d=ur(),_=go();for(const q of t){const te=e.Ji(q.metadata.name);q.document&&(d=d.add(te));const Ie=e.Yi(q);Ie.setReadTime(e.Xi(q.metadata.readTime)),_=_.insert(te,Ie)}const T=u.Gi.newChangeBuffer({trackRemovals:!0}),B=yield vc(u,(q=o,$o(Ru(Xn.fromString(`__bundle__/docs/${q}`)))));var q;return u.persistence.runTransaction("Apply bundle documents","readwrite",q=>dm(q,T,_).next(te=>(T.apply(q),te)).next(te=>u.Cs.removeMatchingKeysForTargetId(q,B.targetId).next(()=>u.Cs.addMatchingKeys(q,d,B.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(q,te.Wi,te.zi)).next(()=>te.Wi)))}),jh.apply(this,arguments)}function p_(i,e){return vp.apply(this,arguments)}function vp(){return vp=(0,_e.Z)(function*(i,e,t=ur()){const o=yield vc(i,$o(np(e.bundledQuery))),u=Bt(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const _=ao(e.readTime);if(o.snapshotVersion.compareTo(_)>=0)return u.Ns.saveNamedQuery(d,e);const T=o.withResumeToken(ne.EMPTY_BYTE_STRING,_);return u.Ui=u.Ui.insert(T.targetId,T),u.Cs.updateTargetData(d,T).next(()=>u.Cs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.Cs.addMatchingKeys(d,t,o.targetId)).next(()=>u.Ns.saveNamedQuery(d,e))})}),vp.apply(this,arguments)}function Ep(i,e){return`firestore_clients_${i}_${e}`}function pm(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Hh(i,e){return`firestore_targets_${i}_${e}`}class $h{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Zi(e,t,o){const u=JSON.parse(o);let d,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(d=new wt(u.error.code,u.error.message))),_?new $h(e,t,u.state,d):(An("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ed{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new wt(o.error.code,o.error.message))),d?new Ed(e,o.state,u):(An("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=rd();for(let _=0;u&&_<o.activeTargetIds.length;++_)u=No(o.activeTargetIds[_]),d=d.add(o.activeTargetIds[_]);return u?new wp(e,d):(An("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Gh{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Gh(t.clientId,t.onlineState):(An("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zh{constructor(){this.activeTargetIds=rd()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gu{constructor(e,t,o,u,d){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Dr(ln),this.started=!1,this.cr=[];const _=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=Ep(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new zh),this.lr=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(T){return`firestore_bundle_loaded_v2_${T}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const d=e.getItem(Ep(e.persistenceKey,u));if(d){const _=wp.Zi(u,d);_&&(e.ur=e.ur.insert(_.clientId,_))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Hh(this.persistenceKey,e));if(o){const u=Ed.Zi(e,o);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hh(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return bt("SharedClientState","READ",e,t),t}setItem(e,t){bt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){bt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(bt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void An("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const u=t.vr(o.key);return t.Vr(u,null)}{const u=t.Sr(o.key,o.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const u=t.Dr(o.key,o.newValue);if(u)return t.Cr(u)}}else if(t._r.test(o.key)){if(null!==o.newValue){const u=t.Nr(o.key,o.newValue);if(u)return t.kr(u)}}else if(o.key===t.wr){if(null!==o.newValue){const u=t.yr(o.newValue);if(u)return t.pr(u)}}else if(o.key===t.hr){const u=function(d){let _=ti.at;if(null!=d)try{const T=JSON.parse(d);In("number"==typeof T),_=T}catch(T){An("SharedClientState","Failed to read sequence number from WebStorage",T)}return _}(o.newValue);u!==ti.at&&t.sequenceNumberHandler(u)}else if(o.key===t.mr){const u=t.Or(o.newValue);yield Promise.all(u.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const u=new $h(this.currentUser,e,t,o),d=pm(this.persistenceKey,this.currentUser,e);this.setItem(d,u.tr())}Er(e){const t=pm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const u=Hh(this.persistenceKey,e),d=new Ed(e,t,o);this.setItem(u,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return wp.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),u=Number(o[1]);return $h.Zi(new mi(void 0!==o[2]?o[2]:null),u,t)}Nr(e,t){const o=this._r.exec(e),u=Number(o[1]);return Ed.Zi(u,t)}yr(e){return Gh.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);bt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),d=this.Ir(o),_=[],T=[];return d.forEach(B=>{u.has(B)||_.push(B)}),u.forEach(B=>{d.has(B)||T.push(B)}),this.syncEngine.Br(_,T).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=rd();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class gm{constructor(){this.Lr=new zh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new zh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ip{qr(e){}shutdown(){}}class Wh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const g_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zv{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Kv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,d){const _=this.ho(e,t);bt("RestConnection","Sending: ",_,o);const T={};return this.lo(T,u,d),this.fo(e,_,T,o).then(B=>(bt("RestConnection","Received: ",B),B),B=>{throw ci("RestConnection",`${e} failed with error: `,B,"url: ",_,"request:",o),B})}_o(e,t,o,u,d,_){return this.ao(e,t,o,u,d)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ho(e,t){return`${this.oo}/v1/${t}:${g_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((d,_)=>{const T=new Oi;T.setWithCredentials(!0),T.listenOnce(Uo.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case Qi.NO_ERROR:const q=T.getResponseJson();bt("Connection","XHR received:",JSON.stringify(q)),d(q);break;case Qi.TIMEOUT:bt("Connection",'RPC "'+e+'" timed out'),_(new wt(et.DEADLINE_EXCEEDED,"Request time out"));break;case Qi.HTTP_ERROR:const te=T.getStatus();if(bt("Connection",'RPC "'+e+'" failed with status:',te,"response text:",T.getResponseText()),te>0){const Ie=T.getResponseJson().error;if(Ie&&Ie.status&&Ie.message){const Ke=function(pt){const It=pt.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(It)>=0?It:et.UNKNOWN}(Ie.status);_(new wt(Ke,Ie.message))}else _(new wt(et.UNKNOWN,"Server responded with status "+T.getStatus()))}else _(new wt(et.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{bt("Connection",'RPC "'+e+'" completed.')}});const B=JSON.stringify(u);T.send(t,"POST",B,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ja(),_=ja(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(T.xmlHttpFactory=new Xa({})),this.lo(T.initMessageHeaders,t,o),T.encodeInitMessageHeaders=!0;const B=u.join("");bt("Connection","Creating WebChannel: "+B,T);const q=d.createWebChannel(B,T);let te=!1,Ie=!1;const Ke=new Zv({Hr:It=>{Ie?bt("Connection","Not sending because WebChannel is closed:",It):(te||(bt("Connection","Opening WebChannel transport."),q.open(),te=!0),bt("Connection","WebChannel sending:",It),q.send(It))},Jr:()=>q.close()}),pt=(It,Jt,cn)=>{It.listen(Jt,oi=>{try{cn(oi)}catch(Gi){setTimeout(()=>{throw Gi},0)}})};return pt(q,Ia.EventType.OPEN,()=>{Ie||bt("Connection","WebChannel transport opened.")}),pt(q,Ia.EventType.CLOSE,()=>{Ie||(Ie=!0,bt("Connection","WebChannel transport closed"),Ke.io())}),pt(q,Ia.EventType.ERROR,It=>{Ie||(Ie=!0,ci("Connection","WebChannel transport errored:",It),Ke.io(new wt(et.UNAVAILABLE,"The operation could not be completed")))}),pt(q,Ia.EventType.MESSAGE,It=>{var Jt;if(!Ie){const cn=It.data[0];In(!!cn);const oi=cn,Gi=oi.error||(null===(Jt=oi[0])||void 0===Jt?void 0:Jt.error);if(Gi){bt("Connection","WebChannel received error:",Gi);const ni=Gi.status;let Ps=function(ai){const yo=Ns[ai];if(void 0!==yo)return gh(yo)}(ni),ri=Gi.message;void 0===Ps&&(Ps=et.INTERNAL,ri="Unknown error status: "+ni+" with message "+Gi.message),Ie=!0,Ke.io(new wt(Ps,ri)),q.close()}else bt("Connection","WebChannel received:",cn),Ke.ro(cn)}}),pt(_,Jo.STAT_EVENT,It=>{It.stat===Xo.PROXY?bt("Connection","Detected buffering proxy"):It.stat===Xo.NOPROXY&&bt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ke.so()},0),Ke}}function m_(){return typeof window<"u"?window:null}function qh(){return typeof document<"u"?document:null}function Ec(i){return new sa(i,!0)}class mm{constructor(e,t,o=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&bt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ym{constructor(e,t,o,u,d,_,T,B){this.Hs=e,this.vo=o,this.Vo=u,this.So=d,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=T,this.listener=B,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new mm(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,_e.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,_e.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var o=this;return(0,_e.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():t&&t.code===et.RESOURCE_EXHAUSTED?(An(t.toString()),An("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):t&&t.code===et.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===t&&this.Qo(o,u)},o=>{e(()=>{const u=new wt(et.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,t){const o=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.No.Ro((0,_e.Z)(function*(){e.state=0,e.start()}))}jo(e){return bt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wc extends ym{constructor(e,t,o,u,d,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,_),this.It=d}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Ug(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:nn(),u=e.targetChange.targetIds||[],d=function(B,q){return B.gt?(In(void 0===q||"string"==typeof q),ne.fromBase64String(q||"")):(In(void 0===q||q instanceof Uint8Array),ne.fromUint8Array(q||new Uint8Array))}(i,e.targetChange.resumeToken),_=e.targetChange.cause,T=_&&function(B){const q=void 0===B.code?et.UNKNOWN:gh(B.code);return new wt(q,B.message||"")}(_);t=new au(o,u,d,T||null)}else if("documentChange"in e){const o=e.documentChange,u=Sa(i,o.document.name),d=ao(o.document.updateTime),_=new Xi({mapValue:{fields:o.document.fields}}),T=Wr.newFoundDocument(u,d,_);t=new mo(o.targetIds||[],o.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const o=e.documentDelete,u=Sa(i,o.document),d=o.readTime?ao(o.readTime):Cn.min(),_=Wr.newNoDocument(u,d);t=new mo([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,u=Sa(i,o.document);t=new mo([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return nn();{const o=e.filter,d=new td(o.count||0);t=new ku(o.targetId,d)}}var B;return t}(this.It,e),o=function(u){if(!("targetChange"in u))return Cn.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Cn.min():d.readTime?ao(d.readTime):Cn.min()}(e);return this.listener.zo(t,o)}Ho(e){const t={};t.database=Fa(this.It),t.addTarget=function(u,d){let _;const T=d.target;return _=ec(T)?{documents:E(u,T)}:{query:c(u,T)},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?_.resumeToken=cc(u,d.resumeToken):d.snapshotVersion.compareTo(Cn.min())>0&&(_.readTime=Lu(u,d.snapshotVersion.toTimestamp())),_}(this.It,e);const o=function D(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Lo(t)}Jo(e){const t={};t.database=Fa(this.It),t.removeTarget=e,this.Lo(t)}}class y_ extends ym{constructor(e,t,o,u,d,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,_),this.It=d,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(In(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Zf(i,e){return i&&i.length>0?(In(void 0!==e),i.map(t=>function(o,u){let d=ao(o.updateTime?o.updateTime:u);return d.isEqual(Cn.min())&&(d=ao(u)),new Tl(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=ao(e.commitTime);return this.listener.tu(o,t)}return In(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Fa(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>xl(this.It,o))};this.Lo(t)}}class _m extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=o,this.It=u,this.su=!1}iu(){if(this.su)throw new wt(et.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So.ao(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new wt(et.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.So._o(e,t,o,d,_,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new wt(et.UNKNOWN,d.toString())})}terminate(){this.su=!0}}class vm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(An(t),this.uu=!1):bt("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class __{constructor(e,t,o,u,d){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=d,this.gu.qr(T=>{o.enqueueAndForget((0,_e.Z)(function*(){var B;lu(_)&&(bt("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,_e.Z)(function*(q){const te=Bt(q);te.wu.add(4),yield Ic(te),te.yu.set("Unknown"),te.wu.delete(4),yield wd(te)}),function(q){return B.apply(this,arguments)})(_))}))}),this.yu=new vm(o,u)}}function wd(i){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,_e.Z)(function*(i){if(lu(i))for(const e of i.mu)yield e(!0)}),Dp.apply(this,arguments)}function Ic(i){return bp.apply(this,arguments)}function bp(){return bp=(0,_e.Z)(function*(i){for(const e of i.mu)yield e(!1)}),bp.apply(this,arguments)}function Id(i,e){const t=Bt(i);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Em(t)?Dd(t):Md(t).Oo()&&Kh(t,e))}function Cd(i,e){const t=Bt(i),o=Md(t);t._u.delete(e),o.Oo()&&Tp(t,e),0===t._u.size&&(o.Oo()?o.$o():lu(t)&&t.yu.set("Unknown"))}function Kh(i,e){i.pu.Mt(e.targetId),Md(i).Ho(e)}function Tp(i,e){i.pu.Mt(e),Md(i).Jo(e)}function Dd(i){i.pu=new Al({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i._u.get(e)||null}),Md(i).start(),i.yu.cu()}function Em(i){return lu(i)&&!Md(i).ko()&&i._u.size>0}function lu(i){return 0===Bt(i).wu.size}function wm(i){i.pu=void 0}function Qv(i){return ol.apply(this,arguments)}function ol(){return ol=(0,_e.Z)(function*(i){i._u.forEach((e,t)=>{Kh(i,e)})}),ol.apply(this,arguments)}function Im(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,_e.Z)(function*(i,e){wm(i),Em(i)?(i.yu.lu(e),Dd(i)):i.yu.set("Unknown")}),Qh.apply(this,arguments)}function Yh(i,e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,_e.Z)(function*(i,e,t){if(i.yu.set("Online"),e instanceof au&&2===e.state&&e.cause)try{yield(o=(0,_e.Z)(function*(u,d){const _=d.cause;for(const T of d.targetIds)u._u.has(T)&&(yield u.remoteSyncer.rejectListen(T,_),u._u.delete(T),u.pu.removeTarget(T))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){bt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield bd(i,o)}else if(e instanceof mo?i.pu.Gt(e):e instanceof ku?i.pu.Yt(e):i.pu.Wt(e),!t.isEqual(Cn.min()))try{const o=yield mp(i.localStore);t.compareTo(o)>=0&&(yield function(u,d){const _=u.pu.te(d);return _.targetChanges.forEach((T,B)=>{if(T.resumeToken.approximateByteSize()>0){const q=u._u.get(B);q&&u._u.set(B,q.withResumeToken(T.resumeToken,d))}}),_.targetMismatches.forEach(T=>{const B=u._u.get(T);if(!B)return;u._u.set(T,B.withResumeToken(ne.EMPTY_BYTE_STRING,B.snapshotVersion)),Tp(u,T);const q=new el(B.target,T,1,B.sequenceNumber);Kh(u,q)}),u.remoteSyncer.applyRemoteEvent(_)}(i,t))}catch(o){bt("RemoteStore","Failed to raise snapshot:",o),yield bd(i,o)}var o}),Ua.apply(this,arguments)}function bd(i,e,t){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,_e.Z)(function*(i,e,t){if(!hn(e))throw e;i.wu.add(1),yield Ic(i),i.yu.set("Offline"),t||(t=()=>mp(i.localStore)),i.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){bt("RemoteStore","Retrying IndexedDB access"),yield t(),i.wu.delete(1),yield wd(i)}))}),Sp.apply(this,arguments)}function Jh(i,e){return e().catch(t=>bd(i,t,e))}function Aa(i){return Td.apply(this,arguments)}function Td(){return Td=(0,_e.Z)(function*(i){const e=Bt(i),t=al(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Cm(e);)try{const u=yield f_(e.localStore,o);if(null===u){0===e.du.length&&t.$o();break}o=u.batchId,Ap(e,u)}catch(u){yield bd(e,u)}v_(e)&&Mp(e)}),Td.apply(this,arguments)}function Cm(i){return lu(i)&&i.du.length<10}function Ap(i,e){i.du.push(e);const t=al(i);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function v_(i){return lu(i)&&!al(i).ko()&&i.du.length>0}function Mp(i){al(i).start()}function Yv(i){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,_e.Z)(function*(i){al(i).nu()}),Cc.apply(this,arguments)}function Xh(i){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,_e.Z)(function*(i){const e=al(i);for(const t of i.du)e.Zo(t.mutations)}),Sd.apply(this,arguments)}function xp(i,e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,_e.Z)(function*(i,e,t){const o=i.du.shift(),u=tp.from(o,e,t);yield Jh(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Aa(i)}),Ad.apply(this,arguments)}function Jv(i,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,_e.Z)(function*(i,e){var t;e&&al(i).Xo&&(yield(t=(0,_e.Z)(function*(o,u){if(ph(d=u.code)&&d!==et.ABORTED){const _=o.du.shift();al(o).Fo(),yield Jh(o,()=>o.remoteSyncer.rejectFailedWrite(_.batchId,u)),yield Aa(o)}var d}),function(o,u){return t.apply(this,arguments)})(i,e)),v_(i)&&Mp(i)}),Rp.apply(this,arguments)}function Dm(i,e){return Np.apply(this,arguments)}function Np(){return Np=(0,_e.Z)(function*(i,e){const t=Bt(i);t.asyncQueue.verifyOperationInProgress(),bt("RemoteStore","RemoteStore received new credentials");const o=lu(t);t.wu.add(3),yield Ic(t),o&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield wd(t)}),Np.apply(this,arguments)}function Op(i,e){return ef.apply(this,arguments)}function ef(){return ef=(0,_e.Z)(function*(i,e){const t=Bt(i);e?(t.wu.delete(2),yield wd(t)):e||(t.wu.add(2),yield Ic(t),t.yu.set("Unknown"))}),ef.apply(this,arguments)}function Md(i){return i.Iu||(i.Iu=function(e,t,o){const u=Bt(e);return u.iu(),new wc(t,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Qv.bind(null,i),Zr:Im.bind(null,i),zo:Yh.bind(null,i)}),i.mu.push(function(){var e=(0,_e.Z)(function*(t){t?(i.Iu.Fo(),Em(i)?Dd(i):i.yu.set("Unknown")):(yield i.Iu.stop(),wm(i))});return function(t){return e.apply(this,arguments)}}())),i.Iu}function al(i){return i.Tu||(i.Tu=function(e,t,o){const u=Bt(e);return u.iu(),new y_(t,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Yv.bind(null,i),Zr:Jv.bind(null,i),eu:Xh.bind(null,i),tu:xp.bind(null,i)}),i.mu.push(function(){var e=(0,_e.Z)(function*(t){t?(i.Tu.Fo(),yield Aa(i)):(yield i.Tu.stop(),i.du.length>0&&(bt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(t){return e.apply(this,arguments)}}())),i.Tu}class bm{constructor(e,t,o,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,o,u,d){const _=Date.now()+o,T=new bm(e,t,_,u,d);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wt(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ll(i,e){if(An("AsyncQueue",`${e}: ${i}`),hn(i))return new wt(et.UNAVAILABLE,`${e}: ${i}`);throw i}class Ul{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Ut.comparator(t.key,o.key):(t,o)=>Ut.comparator(t.key,o.key),this.keyedMap=Za(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new Ul(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Ul;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Tm{constructor(){this.Eu=new Dr(Ut.comparator)}track(e){const t=e.doc.key,o=this.Eu.get(t);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(t):1===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):nn():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,o)=>{e.push(o)}),e}}class ul{constructor(e,t,o,u,d,_,T,B,q){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=_,this.syncStateChanged=T,this.excludesMetadataChanges=B,this.hasCachedResults=q}static fromInitialDocuments(e,t,o,u,d){const _=[];return t.forEach(T=>{_.push({type:0,doc:T})}),new ul(e,t,Ul.emptySet(t),_,o,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class Xv{constructor(){this.Ru=void 0,this.listeners=[]}}class e0{constructor(){this.queries=new wu(e=>ba(e),Cl),this.onlineState="Unknown",this.bu=new Set}}function Sm(i,e){return Am.apply(this,arguments)}function Am(){return Am=(0,_e.Z)(function*(i,e){const t=Bt(i),o=e.query;let u=!1,d=t.queries.get(o);if(d||(u=!0,d=new Xv),u)try{d.Ru=yield t.onListen(o)}catch(_){const T=Ll(_,`Initialization of query '${yu(e.query)}' failed`);return void e.onError(T)}t.queries.set(o,d),d.listeners.push(e),e.Pu(t.onlineState),d.Ru&&e.vu(d.Ru)&&Rm(t)}),Am.apply(this,arguments)}function Mm(i,e){return xm.apply(this,arguments)}function xm(){return xm=(0,_e.Z)(function*(i,e){const t=Bt(i),o=e.query;let u=!1;const d=t.queries.get(o);if(d){const _=d.listeners.indexOf(e);_>=0&&(d.listeners.splice(_,1),u=0===d.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),xm.apply(this,arguments)}function t0(i,e){const t=Bt(i);let o=!1;for(const u of e){const _=t.queries.get(u.query);if(_){for(const T of _.listeners)T.vu(u)&&(o=!0);_.Ru=u}}o&&Rm(t)}function n0(i,e,t){const o=Bt(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);o.queries.delete(e)}function Rm(i){i.bu.forEach(e=>{e.next()})}class Nm{constructor(e,t,o){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new ul(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class ll{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class tf{constructor(e){this.It=e}Ji(e){return Sa(this.It,e)}Yi(e){return e.metadata.exists?vh(this.It,e.document,!1):Wr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ao(e)}}class E_{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Pp(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=Xn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new tf(this.It);for(const u of e)if(u.metadata.queries){const d=o.Ji(u.metadata.name);for(const _ of u.metadata.queries){const T=(t.get(_)||ur()).add(d);t.set(_,T)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function fm(i,e,t,o){return jh.apply(this,arguments)}(e.localStore,new tf(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const u of e.queries)yield p_(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Pp(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class nf{constructor(e){this.key=e}}class kp{constructor(e){this.key=e}}class rf{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ur(),this.mutatedKeys=ur(),this.Gu=lh(e),this.Qu=new Ul(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new Tm,u=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,_=u,T=!1;const B="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,q="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((te,Ie)=>{const Ke=u.get(te),pt=rc(this.query,Ie)?Ie:null,It=!!Ke&&this.mutatedKeys.has(Ke.key),Jt=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let cn=!1;Ke&&pt?Ke.data.isEqual(pt.data)?It!==Jt&&(o.track({type:3,doc:pt}),cn=!0):this.Hu(Ke,pt)||(o.track({type:2,doc:pt}),cn=!0,(B&&this.Gu(pt,B)>0||q&&this.Gu(pt,q)<0)&&(T=!0)):!Ke&&pt?(o.track({type:0,doc:pt}),cn=!0):Ke&&!pt&&(o.track({type:1,doc:Ke}),cn=!0,(B||q)&&(T=!0)),cn&&(pt?(_=_.add(pt),d=Jt?d.add(te):d.delete(te)):(_=_.delete(te),d=d.delete(te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const te="F"===this.query.limitType?_.last():_.first();_=_.delete(te.key),d=d.delete(te.key),o.track({type:1,doc:te})}return{Qu:_,zu:o,$i:T,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Au();d.sort((q,te)=>function(Ie,Ke){const pt=It=>{switch(It){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return pt(Ie)-pt(Ke)}(q.type,te.type)||this.Gu(q.doc,te.doc)),this.Ju(o);const _=t?this.Yu():[],T=0===this.Ku.size&&this.current?1:0,B=T!==this.qu;return this.qu=T,0!==d.length||B?{snapshot:new ul(this.query,e.Qu,u,d,e.mutatedKeys,0===T,B,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:_}:{Xu:_}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Tm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ur(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new kp(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new nf(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=ur();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return ul.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class w_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class cl{constructor(e){this.key=e,this.nc=!1}}class Om{constructor(e,t,o,u,d,_){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=_,this.sc={},this.ic=new wu(T=>ba(T),Cl),this.rc=new Map,this.oc=new Set,this.uc=new Dr(Ut.comparator),this.cc=new Map,this.ac=new Ph,this.hc={},this.lc=new Map,this.fc=Ol.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function I_(i,e){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,_e.Z)(function*(i,e){const t=jm(i);let o,u;const d=t.ic.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),u=d.view.ec();else{const _=yield vc(t.localStore,$o(e));t.isPrimaryClient&&Id(t.remoteStore,_);const T=t.sharedClientState.addLocalQueryTarget(_.targetId);o=_.targetId,u=yield sf(t,e,o,"current"===T,_.resumeToken)}return u}),Fp.apply(this,arguments)}function sf(i,e,t,o,u){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,_e.Z)(function*(i,e,t,o,u){i._c=(Ie,Ke,pt)=>{return(It=(0,_e.Z)(function*(Jt,cn,oi,Gi){let ni=cn.view.Wu(oi);ni.$i&&(ni=yield Bh(Jt.localStore,cn.query,!1).then(({documents:ai})=>cn.view.Wu(ai,ni)));const Ps=Gi&&Gi.targetChanges.get(cn.targetId),ri=cn.view.applyChanges(ni,Jt.isPrimaryClient,Ps);return lf(Jt,cn.targetId,ri.Xu),ri.snapshot}),function(Jt,cn,oi,Gi){return It.apply(this,arguments)})(i,Ie,Ke,pt);var It};const d=yield Bh(i.localStore,e,!0),_=new rf(e,d.Hi),T=_.Wu(d.documents),B=Pu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),q=_.applyChanges(T,i.isPrimaryClient,B);lf(i,t,q.Xu);const te=new w_(e,t,_);return i.ic.set(e,te),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),q.snapshot}),Lp.apply(this,arguments)}function C_(i,e){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,_e.Z)(function*(i,e){const t=Bt(i),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(d=>!Cl(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Fl(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Cd(t.remoteStore,o.targetId),Tc(t,o.targetId)}).catch(Ge))):(Tc(t,o.targetId),yield Fl(t.localStore,o.targetId,!0))}),Dc.apply(this,arguments)}function xd(){return xd=(0,_e.Z)(function*(i,e,t){const o=df(i);try{const u=yield function(d,_){const T=Bt(d),B=Br.now(),q=_.reduce((Ke,pt)=>Ke.add(pt.key),ur());let te,Ie;return T.persistence.runTransaction("Locally write mutations","readwrite",Ke=>{let pt=go(),It=ur();return T.Gi.getEntries(Ke,q).next(Jt=>{pt=Jt,pt.forEach((cn,oi)=>{oi.isValidDocument()||(It=It.add(cn))})}).next(()=>T.localDocuments.getOverlayedDocuments(Ke,pt)).next(Jt=>{te=Jt;const cn=[];for(const oi of _){const Gi=Jc(oi,te.get(oi.key).overlayedDocument);null!=Gi&&cn.push(new Ta(oi.key,Gi,Na(Gi.value.mapValue),hs.exists(!0)))}return T.mutationQueue.addMutationBatch(Ke,B,cn,_)}).next(Jt=>{Ie=Jt;const cn=Jt.applyToLocalDocumentSet(te,It);return T.documentOverlayCache.saveOverlays(Ke,Jt.batchId,cn)})}).then(()=>({batchId:Ie.batchId,changes:sc(te)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,_,T){let B=d.hc[d.currentUser.toKey()];B||(B=new Dr(ln)),B=B.insert(_,T),d.hc[d.currentUser.toKey()]=B}(o,u.batchId,t),yield Cu(o,u.changes),yield Aa(o.remoteStore)}catch(u){const d=Ll(u,"Failed to persist write");t.reject(d)}}),xd.apply(this,arguments)}function Vl(i,e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,_e.Z)(function*(i,e){const t=Bt(i);try{const o=yield h_(t.localStore,e);e.targetChanges.forEach((u,d)=>{const _=t.cc.get(d);_&&(In(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.nc=!0:u.modifiedDocuments.size>0?In(_.nc):u.removedDocuments.size>0&&(In(_.nc),_.nc=!1))}),yield Cu(t,o,e)}catch(o){yield Ge(o)}}),Rd.apply(this,arguments)}function Nd(i,e,t){const o=Bt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((d,_)=>{const T=_.view.Pu(e);T.snapshot&&u.push(T.snapshot)}),function(d,_){const T=Bt(d);T.onlineState=_;let B=!1;T.queries.forEach((q,te)=>{for(const Ie of te.listeners)Ie.Pu(_)&&(B=!0)}),B&&Rm(T)}(o.eventManager,e),u.length&&o.sc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Pm(i,e,t){return af.apply(this,arguments)}function af(){return af=(0,_e.Z)(function*(i,e,t){const o=Bt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),d=u&&u.key;if(d){let _=new Dr(Ut.comparator);_=_.insert(d,Wr.newNoDocument(d,Cn.min()));const T=ur().add(d),B=new Ou(Cn.min(),new Map,new v(ln),_,T);yield Vl(o,B),o.uc=o.uc.remove(d),o.cc.delete(e),_a(o)}else yield Fl(o.localStore,e,!1).then(()=>Tc(o,e,t)).catch(Ge)}),af.apply(this,arguments)}function Up(i,e){return Od.apply(this,arguments)}function Od(){return Od=(0,_e.Z)(function*(i,e){const t=Bt(i),o=e.batch.batchId;try{const u=yield d_(t.localStore,e);uf(t,o,null),Vp(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Cu(t,u)}catch(u){yield Ge(u)}}),Od.apply(this,arguments)}function km(i,e,t){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,_e.Z)(function*(i,e,t){const o=Bt(i);try{const u=yield function(d,_){const T=Bt(d);return T.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let q;return T.mutationQueue.lookupMutationBatch(B,_).next(te=>(In(null!==te),q=te.keys(),T.mutationQueue.removeMutationBatch(B,te))).next(()=>T.mutationQueue.performConsistencyCheck(B)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(B,q,_)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,q)).next(()=>T.localDocuments.getDocuments(B,q))})}(o.localStore,e);uf(o,e,t),Vp(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Cu(o,u)}catch(u){yield Ge(u)}}),Pd.apply(this,arguments)}function Fm(){return Fm=(0,_e.Z)(function*(i,e){const t=Bt(i);lu(t.remoteStore)||bt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const _=Bt(d);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",T=>_.mutationQueue.getHighestUnacknowledgedBatchId(T))}(t.localStore);if(-1===o)return void e.resolve();const u=t.lc.get(o)||[];u.push(e),t.lc.set(o,u)}catch(o){const u=Ll(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Fm.apply(this,arguments)}function Vp(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function uf(i,e,t){const o=Bt(i);let u=o.hc[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function Tc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Bp(i,o)})}function Bp(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(Cd(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),_a(i))}function lf(i,e,t){for(const o of t)o instanceof nf?(i.ac.addReference(o.key,e),b_(i,o)):o instanceof kp?(bt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Bp(i,o.key)):nn()}function b_(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(bt("SyncEngine","New document in limbo: "+t),i.oc.add(o),_a(i))}function _a(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Ut(Xn.fromString(e)),o=i.fc.next();i.cc.set(o,new cl(t)),i.uc=i.uc.insert(t,o),Id(i.remoteStore,new el($o(Ru(t.path)),o,2,ti.at))}}function Cu(i,e,t){return jp.apply(this,arguments)}function jp(){return jp=(0,_e.Z)(function*(i,e,t){const o=Bt(i),u=[],d=[],_=[];var T;o.ic.isEmpty()||(o.ic.forEach((T,B)=>{_.push(o._c(B,e,t).then(q=>{if((q||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(B.targetId,q?.fromCache?"not-current":"current"),q){u.push(q);const te=Vh.Ci(B.targetId,q);d.push(te)}}))}),yield Promise.all(_),o.sc.zo(u),yield(T=(0,_e.Z)(function*(B,q){const te=Bt(B);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>De.forEach(q,Ke=>De.forEach(Ke.Si,pt=>te.persistence.referenceDelegate.addReference(Ie,Ke.targetId,pt)).next(()=>De.forEach(Ke.Di,pt=>te.persistence.referenceDelegate.removeReference(Ie,Ke.targetId,pt)))))}catch(Ie){if(!hn(Ie))throw Ie;bt("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of q){const Ke=Ie.targetId;if(!Ie.fromCache){const pt=te.Ui.get(Ke),Jt=pt.withLastLimboFreeSnapshotVersion(pt.snapshotVersion);te.Ui=te.Ui.insert(Ke,Jt)}}}),function(B,q){return T.apply(this,arguments)})(o.localStore,d))}),jp.apply(this,arguments)}function r0(i,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,_e.Z)(function*(i,e){const t=Bt(i);if(!t.currentUser.isEqual(e)){bt("SyncEngine","User change. New user:",e.toKey());const o=yield cm(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(_=>{_.forEach(T=>{T.reject(new wt(et.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Cu(t,o.ji)}var u}),Hp.apply(this,arguments)}function $p(i,e){const t=Bt(i),o=t.cc.get(e);if(o&&o.nc)return ur().add(o.key);{let u=ur();const d=t.rc.get(e);if(!d)return u;for(const _ of d){const T=t.ic.get(_);u=u.unionWith(T.view.ju)}return u}}function Lm(i,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,_e.Z)(function*(i,e){const t=Bt(i),o=yield Bh(t.localStore,e.query,!0),u=e.view.tc(o);return t.isPrimaryClient&&lf(t,e.targetId,u.Xu),u}),Gp.apply(this,arguments)}function T_(i,e){return zp.apply(this,arguments)}function zp(){return zp=(0,_e.Z)(function*(i,e){const t=Bt(i);return gr(t.localStore,e).then(o=>Cu(t,o))}),zp.apply(this,arguments)}function Um(i,e,t,o){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,_e.Z)(function*(i,e,t,o){const u=Bt(i),d=yield function(_,T){const B=Bt(_),q=Bt(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",te=>q.Tn(te,T).next(Ie=>Ie?B.localDocuments.getDocuments(te,Ie):De.resolve(null)))}(u.localStore,e);var T;null!==d?("pending"===t?yield Aa(u.remoteStore):"acknowledged"===t||"rejected"===t?(uf(u,e,o||null),Vp(u,e),T=e,Bt(Bt(u.localStore).mutationQueue).An(T)):nn(),yield Cu(u,d)):bt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Wp.apply(this,arguments)}function qp(){return qp=(0,_e.Z)(function*(i,e){const t=Bt(i);if(jm(t),df(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Bm(t,o.toArray());t.dc=!0,yield Op(t.remoteStore,!0);for(const d of u)Id(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const o=[];let u=Promise.resolve();t.rc.forEach((d,_)=>{t.sharedClientState.isLocalQueryTarget(_)?o.push(_):u=u.then(()=>(Tc(t,_),Fl(t.localStore,_,!0))),Cd(t.remoteStore,_)}),yield u,yield Bm(t,o),function(d){const _=Bt(d);_.cc.forEach((T,B)=>{Cd(_.remoteStore,B)}),_.ac.fs(),_.cc=new Map,_.uc=new Dr(Ut.comparator)}(t),t.dc=!1,yield Op(t.remoteStore,!1)}}),qp.apply(this,arguments)}function Bm(i,e,t){return cf.apply(this,arguments)}function cf(){return cf=(0,_e.Z)(function*(i,e,t){const o=Bt(i),u=[],d=[];for(const _ of e){let T;const B=o.rc.get(_);if(B&&0!==B.length){T=yield vc(o.localStore,$o(B[0]));for(const q of B){const te=o.ic.get(q),Ie=yield Lm(o,te);Ie.snapshot&&d.push(Ie.snapshot)}}else{const q=yield hm(o.localStore,_);T=yield vc(o.localStore,q),yield sf(o,Zp(q),_,!1,T.resumeToken)}u.push(T)}return o.sc.zo(d),u}),cf.apply(this,arguments)}function Zp(i){return tc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function S_(i){const e=Bt(i);return Bt(Bt(e.localStore).persistence).vi()}function Du(i,e,t,o){return kd.apply(this,arguments)}function kd(){return kd=(0,_e.Z)(function*(i,e,t,o){const u=Bt(i);if(u.dc)return void bt("SyncEngine","Ignoring unexpected query state notification.");const d=u.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const _=yield gr(u.localStore,qc(d[0])),T=Ou.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ne.EMPTY_BYTE_STRING);yield Cu(u,_,T);break}case"rejected":yield Fl(u.localStore,e,!0),Tc(u,e,o);break;default:nn()}}),kd.apply(this,arguments)}function A_(i,e,t){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,_e.Z)(function*(i,e,t){const o=jm(i);if(o.dc){for(const u of e){if(o.rc.has(u)){bt("SyncEngine","Adding an already active target "+u);continue}const d=yield hm(o.localStore,u),_=yield vc(o.localStore,d);yield sf(o,Zp(d),_.targetId,!1,_.resumeToken),Id(o.remoteStore,_)}for(const u of t)o.rc.has(u)&&(yield Fl(o.localStore,u,!1).then(()=>{Cd(o.remoteStore,u),Tc(o,u)}).catch(Ge))}}),Kp.apply(this,arguments)}function jm(i){const e=Bt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$p.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pm.bind(null,e),e.sc.zo=t0.bind(null,e.eventManager),e.sc.wc=n0.bind(null,e.eventManager),e}function df(i){const e=Bt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Up.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=km.bind(null,e),e}class Hm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.It=Ec(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return lm(this.persistence,new am,e.initialUser,this.It)}yc(e){return new Fh(Lh.Bs,this.It)}gc(e){return new gm}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $m extends Hm{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,_e.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield df(o.Ac.syncEngine),yield Aa(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return lm(this.persistence,new am,e.initialUser,this.It)}Tc(e,t){return new Qg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new ia(t,this.persistence);return new ws(e.asyncQueue,o)}yc(e){const t=om(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ya.withCacheSize(this.cacheSizeBytes):ya.DEFAULT;return new Uh(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,m_(),qh(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new gm}}class Qp extends $m{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,_e.Z)(function*(){yield t().call(o,e);const u=o.Ac.syncEngine;o.sharedClientState instanceof Gu&&(o.sharedClientState.syncEngine={Fr:Um.bind(null,u),$r:Du.bind(null,u),Br:A_.bind(null,u),vi:S_.bind(null,u),Mr:T_.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var d=(0,_e.Z)(function*(_){yield function Vm(i,e){return qp.apply(this,arguments)}(o.Ac.syncEngine,_),o.gcScheduler&&(_&&!o.gcScheduler.started?o.gcScheduler.start():_||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(_&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():_||o.indexBackfillerScheduler.stop())});return function(_){return d.apply(this,arguments)}}())})()}gc(e){const t=m_();if(!Gu.C(t))throw new wt(et.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=om(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gu(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Yp{initialize(e,t){var o=this;return(0,_e.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Nd(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=r0.bind(null,o.syncEngine),yield Op(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new e0}createDatastore(e){const t=Ec(e.databaseInfo.databaseId),o=new Kv(e.databaseInfo);return new _m(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,d=T=>Nd(this.syncEngine,T,0),_=Wh.C()?new Wh:new Ip,new __(t,o,u,d,_);var t,o,u,d,_}createSyncEngine(e,t){return function(o,u,d,_,T,B,q){const te=new Om(o,u,d,_,T,B);return q&&(te.dc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const o=Bt(t);bt("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield Ic(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Jp(i,e,t){if(!t)throw new wt(et.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Fd(i,e,t,o){if(!0===e&&!0===o)throw new wt(et.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function hf(i){if(!Ut.isDocumentKey(i))throw new wt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ld(i){if(Ut.isDocumentKey(i))throw new wt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":nn()}function Fr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new wt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xp(i);throw new wt(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function x_(i,e){if(e<=0)throw new wt(et.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const eg=new Map;class tg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new wt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Fd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sc{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new wt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new xo;switch(t.type){case"gapi":return new ta(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new wt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=eg.get(e);t&&(bt("ComponentProvider","Removing Datastore"),eg.delete(e),t.terminate())}(this),Promise.resolve()}}class $i{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $i(this.firestore,e,this._key)}}class Cs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Va extends Cs{constructor(e,t,o){super(e,t,Ru(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $i(this.firestore,null,new Ut(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function Ud(i,e,...t){if(i=(0,at.m9)(i),Jp("collection","path",e),i instanceof Sc){const o=Xn.fromString(e,...t);return Ld(o),new Va(i,null,o)}{if(!(i instanceof $i||i instanceof Va))throw new wt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xn.fromString(e,...t));return Ld(o),new Va(i.firestore,null,o)}}function ff(i,e,...t){if(i=(0,at.m9)(i),1===arguments.length&&(e=$a.R()),Jp("doc","path",e),i instanceof Sc){const o=Xn.fromString(e,...t);return hf(o),new $i(i,null,new Ut(o))}{if(!(i instanceof $i||i instanceof Va))throw new wt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xn.fromString(e,...t));return hf(o),new $i(i.firestore,i instanceof Va?i.converter:null,new Ut(o))}}function pf(i,e){return i=(0,at.m9)(i),e=(0,at.m9)(e),(i instanceof $i||i instanceof Va)&&(e instanceof $i||e instanceof Va)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function gf(i,e){return i=(0,at.m9)(i),e=(0,at.m9)(e),i instanceof Cs&&e instanceof Cs&&i.firestore===e.firestore&&Cl(i._query,e._query)&&i.converter===e.converter}function Gm(i,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class mf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):An("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Bd{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Xr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),u=Number(o);isNaN(u)&&e.Dc(`length string (${o}) is not valid number`);const d=yield e.Cc(u);return new ll(JSON.parse(d),t.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,_e.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class a0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new wt(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,_e.Z)(function*(d,_){const T=Bt(d),B=Fa(T.It)+"/documents",q={documents:_.map(pt=>Uu(T.It,pt))},te=yield T._o("BatchGetDocuments",B,q,_.length),Ie=new Map;te.forEach(pt=>{const It=function hc(i,e){return"found"in e?function(t,o){In(!!o.found);const u=Sa(t,o.found.name),d=ao(o.found.updateTime),_=new Xi({mapValue:{fields:o.found.fields}});return Wr.newFoundDocument(u,d,_)}(i,e):"missing"in e?function(t,o){In(!!o.missing),In(!!o.readTime);const u=Sa(t,o.missing),d=ao(o.readTime);return Wr.newNoDocument(u,d)}(i,e):nn()}(T.It,pt);Ie.set(It.key.toString(),It)});const Ke=[];return _.forEach(pt=>{const It=Ie.get(pt.toString());In(!!It),Ke.push(It)}),Ke}),function(d,_){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ou(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const d=Ut.fromPath(u);e.mutations.push(new ed(d,e.precondition(d)))}),yield(o=(0,_e.Z)(function*(u,d){const _=Bt(u),T=Fa(_.It)+"/documents",B={writes:d.map(q=>xl(_.It,q))};yield _.ao("Commit",T,B)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nn();t=Cn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new wt(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Cn.min())?hs.exists(!1):hs.updateTime(t):hs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Cn.min()))throw new wt(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hs.updateTime(t)}return hs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class N_{constructor(e,t,o,u,d){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=d,this.kc=o.maxAttempts,this.No=new mm(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,_e.Z)(function*(){const t=new a0(e.datastore),o=e.Mc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Fc(d)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!ki(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ph(t)}return!1}}class O_{constructor(e,t,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=mi.UNAUTHENTICATED,this.clientId=$a.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var _=(0,_e.Z)(function*(T){bt("FirestoreClient","Received user=",T.uid),yield d.authCredentialListener(T),d.user=T});return function(T){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(o,_=>(bt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wt(et.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=Ll(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function zm(i,e){return yf.apply(this,arguments)}function yf(){return yf=(0,_e.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),bt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,_e.Z)(function*(d){o.isEqual(d)||(yield cm(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),yf.apply(this,arguments)}function _f(i,e){return rg.apply(this,arguments)}function rg(){return rg=(0,_e.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield jd(i);bt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Dm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>Dm(e.remoteStore,d)),i.onlineComponents=e}),rg.apply(this,arguments)}function jd(i){return ig.apply(this,arguments)}function ig(){return ig=(0,_e.Z)(function*(i){return i.offlineComponents||(bt("FirestoreClient","Using default OfflineComponentProvider"),yield zm(i,new Hm)),i.offlineComponents}),ig.apply(this,arguments)}function vf(i){return sg.apply(this,arguments)}function sg(){return sg=(0,_e.Z)(function*(i){return i.onlineComponents||(bt("FirestoreClient","Using default OnlineComponentProvider"),yield _f(i,new Yp)),i.onlineComponents}),sg.apply(this,arguments)}function Wm(i){return jd(i).then(e=>e.persistence)}function Ef(i){return jd(i).then(e=>e.localStore)}function og(i){return vf(i).then(e=>e.remoteStore)}function Ac(i){return vf(i).then(e=>e.syncEngine)}function Hd(i){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,_e.Z)(function*(i){const e=yield vf(i),t=e.eventManager;return t.onListen=I_.bind(null,e.syncEngine),t.onUnlisten=C_.bind(null,e.syncEngine),t}),Bl.apply(this,arguments)}function qm(i,e,t={}){const o=new Xr;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(u,d,_,T,B){const q=new mf({next:Ie=>{d.enqueueAndForget(()=>Mm(u,te));const Ke=Ie.docs.has(_);!Ke&&Ie.fromCache?B.reject(new wt(et.UNAVAILABLE,"Failed to get document because the client is offline.")):Ke&&Ie.fromCache&&T&&"server"===T.source?B.reject(new wt(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ie)},error:Ie=>B.reject(Ie)}),te=new Nm(Ru(_.path),q,{includeMetadataChanges:!0,ku:!0});return Sm(u,te)}(yield Hd(i),i.asyncQueue,e,t,o)})),o.promise}function Mc(i,e,t={}){const o=new Xr;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(u,d,_,T,B){const q=new mf({next:Ie=>{d.enqueueAndForget(()=>Mm(u,te)),Ie.fromCache&&"server"===T.source?B.reject(new wt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ie)},error:Ie=>B.reject(Ie)}),te=new Nm(_,q,{includeMetadataChanges:!0,ku:!0});return Sm(u,te)}(yield Hd(i),i.asyncQueue,e,t,o)})),o.promise}class Qa{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new mm(this,"async_queue_retry"),this.Wc=()=>{const t=qh();t&&bt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=qh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=qh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Xr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!hn(t))throw t;bt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,An("INTERNAL UNHANDLED ERROR: ",function(d){let _=d.message||"";return d.stack&&(_=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),_}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=bm.createAndSchedule(this,e,t,o,d=>this.Yc(d));return this.qc.push(u),u}zc(){this.Kc&&nn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function $d(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class xc{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vi extends Sc{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Qa,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hl(this),this._firestoreClient.terminate()}}function es(i){return i._firestoreClient||Hl(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Hl(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new xs(i._databaseId,d,i._persistenceKey,(T=t).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,T.useFetchStreams));var d,T;i._firestoreClient=new O_(i._authCredentials,i._appCheckCredentials,i._queue,o)}function ug(i,e,t){const o=new Xr;return i.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield zm(i,t),yield _f(i,e),o.resolve()}catch(u){const d=u;if(!("FirebaseError"===(_=d).name?_.code===et.FAILED_PRECONDITION||_.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw d;ci("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var _})).then(()=>o.promise)}function lg(i){if(i._initialized||i._terminated)throw new wt(et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tu(ne.fromBase64String(e))}catch(t){throw new wt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tu(ne.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new wt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $l{constructor(e){this._methodName=e}}class Wd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ln(this._lat,e._lat)||ln(this._long,e._long)}}const cg=/^__.*__$/;class dg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new su(e,this.data,t,this.fieldTransforms)}}class ey{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qd(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class Gl{constructor(e,t,o,u,d,_){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=u,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=_||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Gl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Kd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(qd(this.sa)&&cg.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class hg{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||Ec(e)}da(e,t,o,u=!1){return new Gl({sa:e,methodName:t,fa:o,path:Gr.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function zl(i){const e=i._freezeSettings(),t=Ec(i._databaseId);return new hg(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Pc(i,e,t,o,u,d={}){const _=i.da(d.merge||d.mergeFields?2:0,e,t,u);Df("Data must be an object, but it was:",_,o);const T=gg(o,_);let B,q;if(d.merge)B=new G(_.fieldMask),q=_.fieldTransforms;else if(d.mergeFields){const te=[];for(const Ie of d.mergeFields){const Ke=yg(e,Ie,t);if(!_.contains(Ke))throw new wt(et.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);Tf(te,Ke)||te.push(Ke)}B=new G(te),q=_.fieldTransforms.filter(Ie=>B.covers(Ie.field))}else B=null,q=_.fieldTransforms;return new dg(new Xi(T),B,q)}class Wl extends $l{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wl}}function fg(i,e,t){return new Gl({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class If extends $l{_toFieldTransform(e){return new ic(e.path,new iu)}isEqual(e){return e instanceof If}}class pg extends $l{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=fg(this,e,!0),o=this._a.map(d=>hl(d,t)),u=new Go(o);return new ic(e.path,u)}isEqual(e){return this===e}}class ty extends $l{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=fg(this,e,!0),o=this._a.map(d=>hl(d,t)),u=new Eu(o);return new ic(e.path,u)}isEqual(e){return this===e}}class ny extends $l{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Nu(e.It,Zc(e.It,this.wa));return new ic(e.path,t)}isEqual(e){return this===e}}function Zd(i,e,t,o){const u=i.da(1,e,t);Df("Data must be an object, but it was:",u,o);const d=[],_=Xi.empty();ji(o,(B,q)=>{const te=bf(e,B,t);q=(0,at.m9)(q);const Ie=u.ca(te);if(q instanceof Wl)d.push(te);else{const Ke=hl(q,Ie);null!=Ke&&(d.push(te),_.set(te,Ke))}});const T=new G(d);return new ey(_,T,u.fieldTransforms)}function Cf(i,e,t,o,u,d){const _=i.da(1,e,t),T=[yg(e,o,t)],B=[u];if(d.length%2!=0)throw new wt(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<d.length;Ke+=2)T.push(yg(e,d[Ke])),B.push(d[Ke+1]);const q=[],te=Xi.empty();for(let Ke=T.length-1;Ke>=0;--Ke)if(!Tf(q,T[Ke])){const pt=T[Ke];let It=B[Ke];It=(0,at.m9)(It);const Jt=_.ca(pt);if(It instanceof Wl)q.push(pt);else{const cn=hl(It,Jt);null!=cn&&(q.push(pt),te.set(pt,cn))}}const Ie=new G(q);return new ey(te,Ie,_.fieldTransforms)}function ry(i,e,t,o=!1){return hl(t,i.da(o?4:3,e))}function hl(i,e){if(mg(i=(0,at.m9)(i)))return Df("Unsupported field value:",e,i),gg(i,e);if(i instanceof $l)return function(t,o){if(!qd(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let d=0;for(const _ of t){let T=hl(_,o.aa(d));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,at.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zc(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Br.fromDate(t);return{timestampValue:Lu(o.It,u)}}if(t instanceof Br){const u=new Br(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lu(o.It,u)}}if(t instanceof Wd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tu)return{bytesValue:cc(o.It,t._byteString)};if(t instanceof $i){const u=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw o.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ml(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Xp(t)}`)}(i,e)}function gg(i,e){const t={};return yi(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(i,(o,u)=>{const d=hl(u,e.ra(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function mg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Br||i instanceof Wd||i instanceof Tu||i instanceof $i||i instanceof $l)}function Df(i,e,t){if(!mg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Xp(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function yg(i,e,t){if((e=(0,at.m9)(e))instanceof zu)return e._internalPath;if("string"==typeof e)return bf(i,e);throw Kd("Field path arguments must be of type string or ",i,!1,void 0,t)}const U_=new RegExp("[~\\*/\\[\\]]");function bf(i,e,t){if(e.search(U_)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new zu(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Kd(i,e,t,o,u){const d=o&&!o.isEmpty(),_=void 0!==u;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let B="";return(d||_)&&(B+=" (found",d&&(B+=` in field ${o}`),_&&(B+=` in document ${u}`),B+=")"),new wt(et.INVALID_ARGUMENT,T+i+B)}function Tf(i,e){return i.some(t=>t.isEqual(e))}class kc{constructor(e,t,o,u,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new iy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class iy extends kc{data(){return super.data()}}function Qd(i,e){return"string"==typeof e?bf(i,e):e instanceof zu?e._internalPath:e._delegate._internalPath}function _g(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new wt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fc{}function Wu(i,...e){for(const t of e)i=t._apply(i);return i}class sy extends Fc{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=zl(e.firestore),o=function(u,d,_,T,B,q,te){let Ie;if(B.isKeyField()){if("array-contains"===q||"array-contains-any"===q)throw new wt(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${q}' queries on documentId().`);if("in"===q||"not-in"===q){ql(te,q);const pt=[];for(const It of te)pt.push(Eg(T,u,It));Ie={arrayValue:{values:pt}}}else Ie=Eg(T,u,te)}else"in"!==q&&"not-in"!==q&&"array-contains-any"!==q||ql(te,q),Ie=ry(_,"where",te,"in"===q||"not-in"===q);const Ke=po.create(B,q,Ie);return function(pt,It){if(It.dt()){const cn=Pa(pt);if(null!==cn&&!cn.isEqual(It.field))throw new wt(et.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${cn.toString()}' and '${It.field.toString()}'`);const oi=nc(pt);null!==oi&&hy(0,It.field,oi)}const Jt=function(cn,oi){for(const Gi of cn.filters)if(oi.indexOf(Gi.op)>=0)return Gi.op;return null}(pt,function(cn){switch(cn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(It.op));if(null!==Jt)throw new wt(et.INVALID_ARGUMENT,Jt===It.op?`Invalid query. You cannot use more than one '${It.op.toString()}' filter.`:`Invalid query. You cannot use '${It.op.toString()}' filters with '${Jt.toString()}' filters.`)}(u,Ke),Ke}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Cs(e.firestore,e.converter,function(u,d){const _=u.filters.concat([d]);return new ga(u.path,u.collectionGroup,u.explicitOrderBy.slice(),_,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class u0 extends Fc{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,u,d){if(null!==o.startAt)throw new wt(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new wt(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new Oa(u,d);return function(T,B){if(null===nc(T)){const q=Pa(T);null!==q&&hy(0,q,B.field)}}(o,_),_}(e._query,this.ma,this.pa);return new Cs(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new ga(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class ay extends Fc{constructor(e,t,o){super(),this.type=e,this.Ia=t,this.Ta=o}_apply(e){return new Cs(e.firestore,e.converter,Il(e._query,this.Ia,this.Ta))}}class uo extends Fc{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=vg(e,this.type,this.Ea,this.Aa);return new Cs(e.firestore,e.converter,(u=t,new ga((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class cy extends Fc{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=vg(e,this.type,this.Ea,this.Aa);return new Cs(e.firestore,e.converter,(u=t,new ga((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function vg(i,e,t,o){if(t[0]=(0,at.m9)(t[0]),t[0]instanceof kc)return function(u,d,_,T,B){if(!T)throw new wt(et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const q=[];for(const te of mu(u))if(te.field.isKeyField())q.push(tt(d,T.key));else{const Ie=T.data.field(te.field);if(Nn(Ie))throw new wt(et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ie){const Ke=te.field.canonicalString();throw new wt(et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ke}' (used as the orderBy) does not exist.`)}q.push(Ie)}return new qa(q,B)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=zl(i.firestore);return function(d,_,T,B,q,te){const Ie=d.explicitOrderBy;if(q.length>Ie.length)throw new wt(et.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ke=[];for(let pt=0;pt<q.length;pt++){const It=q[pt];if(Ie[pt].field.isKeyField()){if("string"!=typeof It)throw new wt(et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof It}`);if(!Wc(d)&&-1!==It.indexOf("/"))throw new wt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${It}' contains a slash.`);const Jt=d.path.child(Xn.fromString(It));if(!Ut.isDocumentKey(Jt))throw new wt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${Jt}' is not because it contains an odd number of segments.`);const cn=new Ut(Jt);Ke.push(tt(_,cn))}else{const Jt=ry(T,B,It);Ke.push(Jt)}}return new qa(Ke,te)}(i._query,i.firestore._databaseId,u,e,t,o)}}function Eg(i,e,t){if("string"==typeof(t=(0,at.m9)(t))){if(""===t)throw new wt(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wc(e)&&-1!==t.indexOf("/"))throw new wt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Xn.fromString(t));if(!Ut.isDocumentKey(o))throw new wt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return tt(i,new Ut(o))}if(t instanceof $i)return tt(i,t._key);throw new wt(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(t)}.`)}function ql(i,e){if(!Array.isArray(i)||0===i.length)throw new wt(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new wt(et.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function hy(i,e,t){if(!t.isEqual(e))throw new wt(et.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class wg{convertValue(e,t="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nn()}}convertObject(e,t){const o={};return ji(e.fields,(u,d)=>{o[u]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new Wd($t(e.latitude),$t(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ar(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(ds(e));default:return null}}convertTimestamp(e){const t=Et(e);return new Br(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Xn.fromString(e);In(js(o));const u=new Er(o.get(1),o.get(3)),d=new Ut(o.popFirst(5));return u.isEqual(t)||An(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Yd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class $_ extends wg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $i(this.firestore,null,t)}}class fl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pl extends kc{constructor(e,t,o,u,d,_){super(e,t,o,u,_),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Qd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Lc extends pl{data(e={}){return super.data(e)}}class Su{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new fl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Lc(this._firestore,this._userDataWriter,o.key,o,new fl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(_=>({type:"added",doc:new Lc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new fl(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(_=>u||3!==_.type).map(_=>{const T=new Lc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new fl(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let B=-1,q=-1;return 0!==_.type&&(B=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),1!==_.type&&(d=d.add(_.doc),q=d.indexOf(_.doc.key)),{type:Au(_.type),doc:T,oldIndex:B,newIndex:q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Au(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}function fy(i,e){return i instanceof pl&&e instanceof pl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Su&&e instanceof Su&&i._firestore===e._firestore&&gf(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class zo extends wg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $i(this.firestore,null,t)}}function my(i,e,t){i=Fr(i,$i);const o=Fr(i.firestore,vi),u=Yd(i.converter,e,t);return Zl(o,[Pc(zl(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,hs.none())])}function yy(i,e,t,...o){i=Fr(i,$i);const u=Fr(i.firestore,vi),d=zl(u);let _;return _="string"==typeof(e=(0,at.m9)(e))||e instanceof zu?Cf(d,"updateDoc",i._key,e,t,o):Zd(d,"updateDoc",i._key,e),Zl(u,[_.toMutation(i._key,hs.exists(!0))])}function Uc(i,...e){var t,o,u;i=(0,at.m9)(i);let d={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||$d(e[_])||(d=e[_],_++);const T={includeMetadataChanges:d.includeMetadataChanges};if($d(e[_])){const Ie=e[_];e[_]=null===(t=Ie.next)||void 0===t?void 0:t.bind(Ie),e[_+1]=null===(o=Ie.error)||void 0===o?void 0:o.bind(Ie),e[_+2]=null===(u=Ie.complete)||void 0===u?void 0:u.bind(Ie)}let B,q,te;if(i instanceof $i)q=Fr(i.firestore,vi),te=Ru(i._key.path),B={next:Ie=>{e[_]&&e[_](Cg(q,i,Ie))},error:e[_+1],complete:e[_+2]};else{const Ie=Fr(i,Cs);q=Fr(Ie.firestore,vi),te=Ie._query;const Ke=new zo(q);B={next:pt=>{e[_]&&e[_](new Su(q,Ke,Ie,pt))},error:e[_+1],complete:e[_+2]},_g(i._query)}return function(Ie,Ke,pt,It){const Jt=new mf(It),cn=new Nm(Ke,Jt,pt);return Ie.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Sm(yield Hd(Ie),cn)})),()=>{Jt.bc(),Ie.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Mm(yield Hd(Ie),cn)}))}}(es(q),te,T,B)}function Zl(i,e){return function(t,o){const u=new Xr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function bc(i,e,t){return xd.apply(this,arguments)}(yield Ac(t),o,u)})),u.promise}(es(i),e)}function Cg(i,e,t){const o=t.docs.get(e._key),u=new zo(i);return new pl(i,u,e._key,o,new fl(t.hasPendingWrites,t.fromCache),e.converter)}const Sf={maxAttempts:5};class _y{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zl(e)}set(e,t,o){this._verifyNotCommitted();const u=qu(e,this._firestore),d=Yd(u.converter,t,o),_=Pc(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(_.toMutation(u._key,hs.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const d=qu(e,this._firestore);let _;return _="string"==typeof(t=(0,at.m9)(t))||t instanceof zu?Cf(this._dataReader,"WriteBatch.update",d._key,t,o,u):Zd(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(_.toMutation(d._key,hs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qu(e,this._firestore);return this._mutations=this._mutations.concat(new ou(t._key,hs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new wt(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qu(i,e){if((i=(0,at.m9)(i)).firestore!==e)throw new wt(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class vy extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=zl(e)}get(e){const t=qu(e,this._firestore),o=new $_(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return nn();const d=u[0];if(d.isFoundDocument())return new kc(this._firestore,o,d.key,d,t.converter);if(d.isNoDocument())return new kc(this._firestore,o,t._key,null,t.converter);throw nn()})}set(e,t,o){const u=qu(e,this._firestore),d=Yd(u.converter,t,o),_=Pc(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,_),this}update(e,t,o,...u){const d=qu(e,this._firestore);let _;return _="string"==typeof(t=(0,at.m9)(t))||t instanceof zu?Cf(this._dataReader,"Transaction.update",d._key,t,o,u):Zd(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,_),this}delete(e){const t=qu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qu(e,this._firestore),o=new zo(this._firestore);return super.get(e).then(u=>new pl(this._firestore,o,t._key,u._document,new fl(!1,!1),t.converter))}}function Tg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new wt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function by(){if(typeof Uint8Array>"u")throw new wt("unimplemented","Uint8Arrays are not available in this environment.")}function Ty(){if(!function ee(){return typeof atob<"u"}())throw new wt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Yi=st.SDK_VERSION,(0,st._registerComponent)(new it.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const d=t.getProvider("app").getImmediate(),_=new vi(new nu(t.getProvider("auth-internal")),new Ra(t.getProvider("app-check-internal")),function(T,B){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new wt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Er(T.options.projectId,B)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),_._setSettings(u),_},"PUBLIC").setMultipleInstances(!0)),(0,st.registerVersion)(xa,"3.7.1",i),(0,st.registerVersion)(xa,"3.7.1","esm2017")}();class Jd{constructor(e){this._delegate=e}static fromBase64String(e){return Ty(),new Jd(Tu.fromBase64String(e))}static fromUint8Array(e){return by(),new Jd(Tu.fromUint8Array(e))}toBase64(){return Ty(),this._delegate.toBase64()}toUint8Array(){return by(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Sg(i){return function X_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class ev{enableIndexedDbPersistence(e,t){return function Nc(i,e){lg(i=Fr(i,vi));const t=es(i),o=i._freezeSettings(),u=new Yp;return ug(t,u,new $m(u,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Oc(i){lg(i=Fr(i,vi));const e=es(i),t=i._freezeSettings(),o=new Yp;return ug(e,o,new Qp(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Zm(i){if(i._initialized&&!i._terminated)throw new wt(et.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(o){if(!Un.C())return Promise.resolve();const u=o+"main";yield Un.delete(u)}),function(o){return t.apply(this,arguments)})(om(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Sy{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Er||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ci("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function ng(i,e,t,o={}){var u;const d=(i=Fr(i,Sc))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&ci("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let _,T;if("string"==typeof o.mockUserToken)_=o.mockUserToken,T=mi.MOCK_USER;else{_=(0,at.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new wt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new mi(B)}i._authCredentials=new Ca(new ea(_,T))}}(this._delegate,e,t,o)}enableNetwork(){return function Qm(i){return function P_(i){return i.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield Wm(i),t=yield og(i);return e.setNetworkEnabled(!0),function(o){const u=Bt(o);return u.wu.delete(0),wd(u)}(t)}))}(es(i=Fr(i,vi)))}(this._delegate)}disableNetwork(){return function Ym(i){return function k_(i){return i.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield Wm(i),t=yield og(i);return e.setNetworkEnabled(!1),(o=(0,_e.Z)(function*(u){const d=Bt(u);d.wu.add(0),yield Ic(d),d.yu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(es(i=Fr(i,vi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Fd("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Km(i){return function(e){const t=new Xr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function D_(i,e){return Fm.apply(this,arguments)}(yield Ac(e),t)})),t.promise}(es(i=Fr(i,vi)))}(this._delegate)}onSnapshotsInSync(e){return function q_(i,e){return function aa(i,e){const t=new mf(e);return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return o=yield Hd(i),u=t,Bt(o).bu.add(u),void u.next();var o,u})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return o=yield Hd(i),u=t,void Bt(o).bu.delete(u);var o,u}))}}(es(i=Fr(i,vi)),$d(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new wt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ql(this,Ud(this._delegate,e))}catch(t){throw va(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ya(this,ff(this._delegate,e))}catch(t){throw va(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ua(this,function Vd(i,e){if(i=Fr(i,Sc),Jp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wt(et.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cs(i,null,(t=e,new ga(Xn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw va(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Dg(i,e,t){i=Fr(i,vi);const o=Object.assign(Object.assign({},Sf),t);return function(u){if(u.maxAttempts<1)throw new wt(et.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,d,_){const T=new Xr;return u.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const B=yield function dl(i){return vf(i).then(e=>e.datastore)}(u);new N_(u.asyncQueue,B,_,d,T).run()})),T.promise}(es(i),u=>e(new vy(i,u)),o)}(this._delegate,t=>e(new Ay(this,t)))}batch(){return es(this._delegate),new My(new _y(this._delegate,e=>Zl(this._delegate,e)))}loadBundle(e){return function Jm(i,e){const t=es(i=Fr(i,vi)),o=new xc;return function jl(i,e,t,o){const u=function(d,_){let T;return T="string"==typeof d?(new TextEncoder).encode(d):d,B=function(B,q){if(B instanceof Uint8Array)return Gm(B,q);if(B instanceof ArrayBuffer)return Gm(new Uint8Array(B),q);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(T),new Bd(B,_);var B}(t,Ec(e));i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function M_(i,e,t){const o=Bt(i);var u;(u=(0,_e.Z)(function*(d,_,T){try{const B=yield _.getMetadata();if(yield function(Ke,pt){const It=Bt(Ke),Jt=ao(pt.createTime);return It.persistence.runTransaction("hasNewerBundle","readonly",cn=>It.Ns.getBundleMetadata(cn,pt.id)).then(cn=>!!cn&&cn.createTime.compareTo(Jt)>=0)}(d.localStore,B))return yield _.close(),T._completeWith({taskState:"Success",documentsLoaded:(Ke=B).totalDocuments,bytesLoaded:Ke.totalBytes,totalDocuments:Ke.totalDocuments,totalBytes:Ke.totalBytes}),Promise.resolve(new Set);T._updateProgress(Pp(B));const q=new E_(B,d.localStore,_.It);let te=yield _.mc();for(;te;){const Ke=yield q.Fu(te);Ke&&T._updateProgress(Ke),te=yield _.mc()}const Ie=yield q.complete();return yield Cu(d,Ie.Lu,void 0),yield function(Ke,pt){const It=Bt(Ke);return It.persistence.runTransaction("Save bundle","readwrite",Jt=>It.Ns.saveBundleMetadata(Jt,pt))}(d.localStore,B),T._completeWith(Ie.progress),Promise.resolve(Ie.Bu)}catch(B){return ci("SyncEngine",`Loading bundle failed with ${B}`),T._failWith(B),Promise.resolve(new Set)}var Ke}),function(d,_,T){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Ac(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Xm(i,e){return function wf(i,e){return i.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,o){const u=Bt(t);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ns.getNamedQuery(d,o))}(yield Ef(i),e)}))}(es(i=Fr(i,vi)),e).then(t=>t?new Cs(i,null,t.query):null)}(this._delegate,e).then(t=>t?new ua(this,t):null)}}class Xd extends wg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jd(new Tu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ya.forKey(t,this.firestore,null)}}class Ay{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Xd(e)}get(e){const t=gl(e);return this._delegate.get(t).then(o=>new Vc(this._firestore,new pl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=gl(e);return o?(Tg("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=gl(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=gl(e);return this._delegate.delete(t),this}}class My{constructor(e){this._delegate=e}set(e,t,o){const u=gl(e);return o?(Tg("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=gl(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=gl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Kl{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Lc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bc(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Kl.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let d=u.get(t);return d||(d=new Kl(e,new Xd(e),t),u.set(t,d)),d}}Kl.INSTANCES=new WeakMap;class Ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xd(e)}static forPath(e,t,o){if(e.length%2!=0)throw new wt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ya(t,new $i(t._delegate,o,new Ut(e)))}static forKey(e,t,o){return new Ya(t,new $i(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Ql(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ql(this.firestore,Ud(this._delegate,e))}catch(t){throw va(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,at.m9)(e))instanceof $i&&pf(this._delegate,e)}set(e,t){t=Tg("DocumentReference.set",t);try{return t?my(this._delegate,e,t):my(this._delegate,e)}catch(o){throw va(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?yy(this._delegate,e):yy(this._delegate,e,t,...o)}catch(u){throw va(u,"updateDoc()","DocumentReference.update()")}}delete(){return function W_(i){return Zl(Fr(i.firestore,vi),[new ou(i._key,hs.none())])}(this._delegate)}onSnapshot(...e){const t=xy(e),o=Ry(e,u=>new Vc(this.firestore,new pl(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Uc(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function cu(i){i=Fr(i,$i);const e=Fr(i.firestore,vi),t=es(e),o=new zo(e);return function ag(i,e){const t=new Xr;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(o=(0,_e.Z)(function*(u,d,_){try{const T=yield function(B,q){const te=Bt(B);return te.persistence.runTransaction("read document","readonly",Ie=>te.localDocuments.getDocument(Ie,q))}(u,d);T.isFoundDocument()?_.resolve(T):T.isNoDocument()?_.resolve(null):_.reject(new wt(et.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(T){const B=Ll(T,`Failed to get document '${d} from cache`);_.reject(B)}}),function(u,d,_){return o.apply(this,arguments)})(yield Ef(i),e,t);var o})),t.promise}(t,i._key).then(u=>new pl(e,o,i._key,u,new fl(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function du(i){i=Fr(i,$i);const e=Fr(i.firestore,vi);return qm(es(e),i._key,{source:"server"}).then(t=>Cg(e,i,t))}(this._delegate):function G_(i){i=Fr(i,$i);const e=Fr(i.firestore,vi);return qm(es(e),i._key).then(t=>Cg(e,i,t))}(this._delegate),t.then(o=>new Vc(this.firestore,new pl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Ya(this.firestore,this._delegate.withConverter(e?Kl.getInstance(this.firestore,e):null))}}function va(i,e,t){return i.message=i.message.replace(e,t),i}function xy(i){for(const e of i)if("object"==typeof e&&!Sg(e))return e;return{}}function Ry(i,e){var t,o;let u;return u=Sg(i[0])?i[0]:Sg(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Vc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fy(this._delegate,e._delegate)}}class Bc extends Vc{data(e){const t=this._delegate.data(e);return function tu(i,e){i||nn()}(void 0!==t),t}}class ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xd(e)}where(e,t,o){try{return new ua(this.firestore,Wu(this._delegate,function oy(i,e,t){const o=e,u=Qd("where",i);return new sy(u,o,t)}(e,t,o)))}catch(u){throw va(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ua(this.firestore,Wu(this._delegate,function V_(i,e="asc"){const t=e,o=Qd("orderBy",i);return new u0(o,t)}(e,t)))}catch(o){throw va(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ua(this.firestore,Wu(this._delegate,function uy(i){return x_("limit",i),new ay("limit",i,"F")}(e)))}catch(t){throw va(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ua(this.firestore,Wu(this._delegate,function B_(i){return x_("limitToLast",i),new ay("limitToLast",i,"L")}(e)))}catch(t){throw va(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ua(this.firestore,Wu(this._delegate,function ly(...i){return new uo("startAt",i,!0)}(...e)))}catch(t){throw va(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ua(this.firestore,Wu(this._delegate,function j_(...i){return new uo("startAfter",i,!1)}(...e)))}catch(t){throw va(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ua(this.firestore,Wu(this._delegate,function dy(...i){return new cy("endBefore",i,!1)}(...e)))}catch(t){throw va(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ua(this.firestore,Wu(this._delegate,function H_(...i){return new cy("endAt",i,!0)}(...e)))}catch(t){throw va(t,"endAt()","Query.endAt()")}}isEqual(e){return gf(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function gy(i){i=Fr(i,Cs);const e=Fr(i.firestore,vi),t=es(e),o=new zo(e);return function bu(i,e){const t=new Xr;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(o=(0,_e.Z)(function*(u,d,_){try{const T=yield Bh(u,d,!0),B=new rf(d,T.Hi),q=B.Wu(T.documents),te=B.applyChanges(q,!1);_.resolve(te.snapshot)}catch(T){const B=Ll(T,`Failed to execute query '${d} against cache`);_.reject(B)}}),function(u,d,_){return o.apply(this,arguments)})(yield Ef(i),e,t);var o})),t.promise}(t,i._query).then(u=>new Su(e,o,i,u))}(this._delegate):"server"===e?.source?function z_(i){i=Fr(i,Cs);const e=Fr(i.firestore,vi),t=es(e),o=new zo(e);return Mc(t,i._query,{source:"server"}).then(u=>new Su(e,o,i,u))}(this._delegate):function py(i){i=Fr(i,Cs);const e=Fr(i.firestore,vi),t=es(e),o=new zo(e);return _g(i._query),Mc(t,i._query).then(u=>new Su(e,o,i,u))}(this._delegate),t.then(o=>new Mf(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=xy(e),o=Ry(e,u=>new Mf(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Uc(this._delegate,t,o)}withConverter(e){return new ua(this.firestore,this._delegate.withConverter(e?Kl.getInstance(this.firestore,e):null))}}class Ny{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Bc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ua(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ny(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Bc(this._firestore,o))})}isEqual(e){return fy(this._delegate,e._delegate)}}class Ql extends ua{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ya(this.firestore,e):null}doc(e){try{return new Ya(this.firestore,void 0===e?ff(this._delegate):ff(this._delegate,e))}catch(t){throw va(t,"doc()","CollectionReference.doc()")}}add(e){return function Ig(i,e){const t=Fr(i.firestore,vi),o=ff(i),u=Yd(i.converter,e);return Zl(t,[Pc(zl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,hs.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Ya(this.firestore,t))}isEqual(e){return pf(this._delegate,e._delegate)}withConverter(e){return new Ql(this.firestore,this._delegate.withConverter(e?Kl.getInstance(this.firestore,e):null))}}function gl(i){return Fr(i,$i)}class xf{constructor(...e){this._delegate=new zu(...e)}static documentId(){return new xf(Gr.keyField().canonicalString())}isEqual(e){return(e=(0,at.m9)(e))instanceof zu&&this._delegate._internalPath.isEqual(e._internalPath)}}class ml{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Ey(){return new If("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ml(e)}static delete(){const e=function Af(){return new Wl("deleteField")}();return e._methodName="FieldValue.delete",new ml(e)}static arrayUnion(...e){const t=function wy(...i){return new pg("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new ml(t)}static arrayRemove(...e){const t=function Iy(...i){return new ty("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new ml(t)}static increment(e){const t=function Cy(i){return new ny("increment",i)}(e);return t._methodName="FieldValue.increment",new ml(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Oy={Firestore:Sy,GeoPoint:Wd,Timestamp:Br,Blob:Jd,Transaction:Ay,WriteBatch:My,DocumentReference:Ya,DocumentSnapshot:Vc,Query:ua,QueryDocumentSnapshot:Bc,QuerySnapshot:Mf,CollectionReference:Ql,FieldPath:xf,FieldValue:ml,setLogLevel:function tv(i){!function fa(i){io.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Yl(i){(function Py(i,e){i.INTERNAL.registerComponent(new it.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},Oy)))})(i,(e,t)=>new Sy(e,t,new ev)),i.registerVersion("@firebase/firestore-compat","0.2.1")}(Gt.Z);var yl=L(1041),nv=L(440),jc=L(127);function Rf(i,e){return function l0(i,e=p.z){return new j.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function Nf(i,e){return Rf(i,e).pipe((0,le.U)(t=>({payload:t,type:"query"})))}function eh(i,e){return Nf(i,e).pipe((0,ye.O)(void 0),se(),(0,le.U)(([t,o])=>{const u=o.payload.docChanges(),d=u.map(_=>({type:_.type,payload:_}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((_,T)=>{const B=u.find(te=>te.doc.ref.isEqual(_.ref)),q=t?.payload.docs.find(te=>te.ref.isEqual(_.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(_.metadata)||!B&&q&&JSON.stringify(q.metadata)===JSON.stringify(_.metadata)||d.push({type:"modified",payload:{oldIndex:T,newIndex:T,type:"modified",doc:_}})}),d}))}function rv(i,e,t){return eh(i,t).pipe((0,be.R)((o,u)=>function zn(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function iv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ag(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ag(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ag(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(d=>d.payload),e),[]),function dt(i,e=gt.y){return i=i??Xe,(0,we.e)((t,o)=>{let u,d=!0;t.subscribe((0,Ne.x)(o,_=>{const T=e(_);(d||!i(u,T))&&(d=!1,u=T,o.next(_))}))})}(),(0,le.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function Ag(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function ky(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Jl{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=eh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,le.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,ye.O)(void 0),se(),(0,Rt.h)(([o,u])=>u.length>0||!o),(0,le.U)(([o,u])=>u),ue.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ky(e);return rv(this.query,t,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(e={}){return Nf(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ue.iC)}get(e){return(0,ce.D)(this.query.get(e)).pipe(ue.iC)}add(e){return this.ref.add(e)}doc(e){return new Fy(this.ref.doc(e),this.afs)}}class Fy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:d}=Mg(o,t);return new Jl(u,d,this.afs)}snapshotChanges(){return function c0(i,e){return Rf(i,e).pipe((0,ye.O)(void 0),se(),(0,le.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,le.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ce.D)(this.ref.get(e)).pipe(ue.iC)}}class Of{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?eh(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Rt.h)(t=>t.length>0),ue.iC):eh(this.query,this.afs.schedulers.outsideAngular).pipe(ue.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ky(e);return rv(this.query,t,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(e={}){return Nf(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),ue.iC)}get(e){return(0,ce.D)(this.query.get(e)).pipe(ue.iC)}}const th=new g.OlP("angularfire2.enableFirestorePersistence"),Os=new g.OlP("angularfire2.firestore.persistenceSettings"),d0=new g.OlP("angularfire2.firestore.settings"),Ly=new g.OlP("angularfire2.firestore.use-emulator");function Mg(i,e=(t=>t)){return{query:e(i),ref:i}}let Uy=(()=>{class i{constructor(t,o,u,d,_,T,B,q,te,Ie,Ke,pt,It,Jt,cn,oi,Gi){this.schedulers=B;const ni=(0,nt.on)(t,T,o),Ps=te;Ie&&(0,yl.nw)(ni,T,Ke,It,Jt,cn,pt,oi),[this.firestore,this.persistenceEnabled$]=(0,nt.cc)(`${ni.name}.firestore`,"AngularFirestore",ni.name,()=>{const ri=T.runOutsideAngular(()=>ni.firestore());if(d&&ri.settings(d),Ps&&ri.useEmulator(...Ps),u&&!(0,Ye.PM)(_)){const ai=()=>{try{return(0,ce.D)(ri.enablePersistence(q||void 0).then(()=>!0,()=>!1))}catch(yo){return typeof console<"u"&&console.warn(yo),(0,pe.of)(!1)}};return[ri,T.runOutsideAngular(ai)]}return[ri,(0,pe.of)(!1)]},[d,Ps,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:_}=Mg(u,o),T=this.schedulers.ngZone.run(()=>d);return new Jl(T,_,this)}collectionGroup(t,o){const u=o||(_=>_),d=this.firestore.collectionGroup(t);return new Of(u(d),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new Fy(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(g.LFG(nt.Dh),g.LFG(nt.xv,8),g.LFG(th,8),g.LFG(d0,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(ue.HU),g.LFG(Os,8),g.LFG(Ly,8),g.LFG(yl.zQ,8),g.LFG(yl.Qv,8),g.LFG(yl.L6,8),g.LFG(yl._Q,8),g.LFG(yl.rT,8),g.LFG(yl.lh,8),g.LFG(yl.f7,8),g.LFG(nv.nm,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Vy=(()=>{class i{constructor(){jc.Z.registerVersion("angularfire",ue.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:th,useValue:!0},{provide:Os,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[Uy]}),i})()},2011:(Ot,Be,L)=>{L.d(Be,{Dh:()=>we,GT:()=>ue,cc:()=>dt,hO:()=>gt,on:()=>se,pX:()=>pe,xv:()=>Ne});var g=L(4650),p=L(127),j=L(5813);Ot=L.hmd(Ot);const ce=["ngOnDestroy"],pe=(Ye,Ft,Gt,_e={})=>new Proxy(Ye,{get:(st,it)=>Gt.runOutsideAngular(()=>{var yt;if(Ye[it])return!(null===(yt=_e?.spy)||void 0===yt)&&yt.get&&_e.spy.get(it,Ye[it]),Ye[it];if(ce.indexOf(it)>-1)return()=>{};const at=Ft.toPromise().then(me=>{const Je=me&&me[it];return"function"==typeof Je?Je.bind(me):Je&&Je.then?Je.then(ae=>Gt.run(()=>ae)):Gt.run(()=>Je)});return new Proxy(()=>{},{get:(me,Je)=>at[Je],apply:(me,Je,ae)=>at.then(Ae=>{var fe;const Fe=Ae&&Ae(...ae);return!(null===(fe=_e?.spy)||void 0===fe)&&fe.apply&&_e.spy.apply(it,ae,Fe),Fe})})})}),ue=(Ye,Ft)=>{Ft.forEach(Gt=>{Object.getOwnPropertyNames(Gt.prototype||Gt).forEach(_e=>{Object.defineProperty(Ye.prototype,_e,Object.getOwnPropertyDescriptor(Gt.prototype||Gt,_e))})})};class ye{constructor(Ft){return Ft}}const we=new g.OlP("angularfire2.app.options"),Ne=new g.OlP("angularfire2.app.name");function se(Ye,Ft,Gt){const st="object"==typeof Gt&&Gt||{};st.name=st.name||"string"==typeof Gt&&Gt||"[DEFAULT]";const yt=p.Z.apps.filter(at=>at&&at.name===st.name)[0]||Ft.runOutsideAngular(()=>p.Z.initializeApp(Ye,st));try{JSON.stringify(Ye)!==JSON.stringify(yt.options)&&le("error",`${yt.name} Firebase App already initialized with different options${Ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(yt)}const le=(Ye,...Ft)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Ye](...Ft)},be={provide:ye,useFactory:se,deps:[we,g.R0b,[new g.FiY,Ne]]};let gt=(()=>{class Ye{constructor(Gt){p.Z.registerVersion("angularfire",j.q4.full,"core"),p.Z.registerVersion("angularfire",j.q4.full,"app-compat"),p.Z.registerVersion("angular",g.q4F.full,Gt.toString())}static initializeApp(Gt,_e){return{ngModule:Ye,providers:[{provide:we,useValue:Gt},{provide:Ne,useValue:_e}]}}}return Ye.\u0275fac=function(Gt){return new(Gt||Ye)(g.LFG(g.Lbi))},Ye.\u0275mod=g.oAB({type:Ye}),Ye.\u0275inj=g.cJS({providers:[be]}),Ye})();function dt(Ye,Ft,Gt,_e,st){const[,it,yt]=globalThis.\u0275AngularfireInstanceCache.find(at=>at[0]===Ye)||[];if(it)return function Xe(Ye,Ft){try{return Ye.toString()===Ft.toString()}catch{return Ye===Ft}}(st,yt)||(nt("error",`${Ft} was already initialized on the ${Gt} Firebase App with different settings.${Rt?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:st,was:yt})),it;{const at=_e();return globalThis.\u0275AngularfireInstanceCache.push([Ye,at,st]),at}}const Rt=!!Ot.hot,nt=(Ye,...Ft)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Ye](...Ft)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ot,Be,L)=>{L.d(Be,{q4:()=>yi,iC:()=>Rs,HU:()=>ds,vb:()=>$t,JM:()=>Et});var g=L(4650),p=L(5867),j=L(5861),ce=L(9681),pe=L(2090),ue=L(4859),ye=L(1877),we=L(8766);const Ne="@firebase/installations",se="0.5.15",be=`w:${se}`,gt="FIS_v2",Ft=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gt(N){return N instanceof pe.ZR&&N.code.includes("request-failed")}function _e({projectId:N}){return`https://firebaseinstallations.googleapis.com/v1/projects/${N}/installations`}function st(N){return{token:N.token,requestStatus:2,expiresIn:Ae(N.expiresIn),creationTime:Date.now()}}function it(N,U){return yt.apply(this,arguments)}function yt(){return(yt=(0,j.Z)(function*(N,U){const de=(yield U.json()).error;return Ft.create("request-failed",{requestName:N,serverCode:de.code,serverMessage:de.message,serverStatus:de.status})})).apply(this,arguments)}function at({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function me(N,{refreshToken:U}){const Z=at(N);return Z.append("Authorization",function fe(N){return`${gt} ${N}`}(U)),Z}function Je(N){return ae.apply(this,arguments)}function ae(){return(ae=(0,j.Z)(function*(N){const U=yield N();return U.status>=500&&U.status<600?N():U})).apply(this,arguments)}function Ae(N){return Number(N.replace("s","000"))}function Fe(N,U){return $e.apply(this,arguments)}function $e(){return($e=(0,j.Z)(function*({appConfig:N,heartbeatServiceProvider:U},{fid:Z}){const de=_e(N),Ue=at(N),tt=U.getImmediate({optional:!0});if(tt){const Bn=yield tt.getHeartbeatsHeader();Bn&&Ue.append("x-firebase-client",Bn)}const jt={method:"POST",headers:Ue,body:JSON.stringify({fid:Z,authVersion:gt,appId:N.appId,sdkVersion:be})},Mn=yield Je(()=>fetch(de,jt));if(Mn.ok){const Bn=yield Mn.json();return{fid:Bn.fid||Z,registrationStatus:2,refreshToken:Bn.refreshToken,authToken:st(Bn.authToken)}}throw yield it("Create Installation",Mn)})).apply(this,arguments)}function Qe(N){return new Promise(U=>{setTimeout(U,N)})}const qe=/^[cdef][\w-]{21}$/;function Ve(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const Z=function Mt(N){return function Pe(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return qe.test(Z)?Z:""}catch{return""}}function Tt(N){return`${N.appName}!${N.appId}`}const Zt=new Map;function Dt(N,U){const Z=Tt(N);gn(Z,U),function jn(N,U){const Z=function er(){return!Kn&&"BroadcastChannel"in self&&(Kn=new BroadcastChannel("[Firebase] FID Change"),Kn.onmessage=N=>{gn(N.data.key,N.data.fid)}),Kn}();Z&&Z.postMessage({key:N,fid:U}),function un(){0===Zt.size&&Kn&&(Kn.close(),Kn=null)}()}(Z,U)}function gn(N,U){const Z=Zt.get(N);if(Z)for(const de of Z)de(U)}let Kn=null;const Tr="firebase-installations-store";let Or=null;function mn(){return Or||(Or=(0,we.X3)("firebase-installations-database",1,{upgrade:(N,U)=>{0===U&&N.createObjectStore(Tr)}})),Or}function St(N,U){return hr.apply(this,arguments)}function hr(){return(hr=(0,j.Z)(function*(N,U){const Z=Tt(N),Ue=(yield mn()).transaction(Tr,"readwrite"),tt=Ue.objectStore(Tr),Ct=yield tt.get(Z);return yield tt.put(U,Z),yield Ue.done,(!Ct||Ct.fid!==U.fid)&&Dt(N,U.fid),U})).apply(this,arguments)}function tr(N){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,j.Z)(function*(N){const U=Tt(N),de=(yield mn()).transaction(Tr,"readwrite");yield de.objectStore(Tr).delete(U),yield de.done})).apply(this,arguments)}function Jr(N,U){return ts.apply(this,arguments)}function ts(){return(ts=(0,j.Z)(function*(N,U){const Z=Tt(N),Ue=(yield mn()).transaction(Tr,"readwrite"),tt=Ue.objectStore(Tr),Ct=yield tt.get(Z),jt=U(Ct);return void 0===jt?yield tt.delete(Z):yield tt.put(jt,Z),yield Ue.done,jt&&(!Ct||Ct.fid!==jt.fid)&&Dt(N,jt.fid),jt})).apply(this,arguments)}function yr(N){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,j.Z)(function*(N){let U;const Z=yield Jr(N.appConfig,de=>{const Ue=Hn(de),tt=Xt(N,Ue);return U=tt.registrationPromise,tt.installationEntry});return""===Z.fid?{installationEntry:yield U}:{installationEntry:Z,registrationPromise:U}})).apply(this,arguments)}function Hn(N){return wn(N||{fid:Ve(),registrationStatus:0})}function Xt(N,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(Ft.create("app-offline"))};const Z={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},de=function qt(N,U){return nr.apply(this,arguments)}(N,Z);return{installationEntry:Z,registrationPromise:de}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:wr(N)}:{installationEntry:U}}function nr(){return(nr=(0,j.Z)(function*(N,U){try{const Z=yield Fe(N,U);return St(N.appConfig,Z)}catch(Z){throw Gt(Z)&&409===Z.customData.serverCode?yield tr(N.appConfig):yield St(N.appConfig,{fid:U.fid,registrationStatus:0}),Z}})).apply(this,arguments)}function wr(N){return fr.apply(this,arguments)}function fr(){return(fr=(0,j.Z)(function*(N){let U=yield fi(N.appConfig);for(;1===U.registrationStatus;)yield Qe(100),U=yield fi(N.appConfig);if(0===U.registrationStatus){const{installationEntry:Z,registrationPromise:de}=yield yr(N);return de||Z}return U})).apply(this,arguments)}function fi(N){return Jr(N,U=>{if(!U)throw Ft.create("installation-not-found");return wn(U)})}function wn(N){return function Li(N){return 1===N.registrationStatus&&N.registrationTime+1e4<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function Qn(N,U){return zi.apply(this,arguments)}function zi(){return(zi=(0,j.Z)(function*({appConfig:N,heartbeatServiceProvider:U},Z){const de=$n(N,Z),Ue=me(N,Z),tt=U.getImmediate({optional:!0});if(tt){const Bn=yield tt.getHeartbeatsHeader();Bn&&Ue.append("x-firebase-client",Bn)}const jt={method:"POST",headers:Ue,body:JSON.stringify({installation:{sdkVersion:be,appId:N.appId}})},Mn=yield Je(()=>fetch(de,jt));if(Mn.ok)return st(yield Mn.json());throw yield it("Generate Auth Token",Mn)})).apply(this,arguments)}function $n(N,{fid:U}){return`${_e(N)}/${U}/authTokens:generate`}function Ar(N){return dn.apply(this,arguments)}function dn(){return(dn=(0,j.Z)(function*(N,U=!1){let Z;const de=yield Jr(N.appConfig,tt=>{if(!_n(tt))throw Ft.create("not-registered");const Ct=tt.authToken;if(!U&&Ce(Ct))return tt;if(1===Ct.requestStatus)return Z=zt(N,U),tt;{if(!navigator.onLine)throw Ft.create("app-offline");const jt=Se(tt);return Z=yn(N,jt),jt}});return Z?yield Z:de.authToken})).apply(this,arguments)}function zt(N,U){return mt.apply(this,arguments)}function mt(){return(mt=(0,j.Z)(function*(N,U){let Z=yield Lt(N.appConfig);for(;1===Z.authToken.requestStatus;)yield Qe(100),Z=yield Lt(N.appConfig);const de=Z.authToken;return 0===de.requestStatus?Ar(N,U):de})).apply(this,arguments)}function Lt(N){return Jr(N,U=>{if(!_n(U))throw Ft.create("not-registered");return function lt(N){return 1===N.requestStatus&&N.requestTime+1e4<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function yn(N,U){return pn.apply(this,arguments)}function pn(){return(pn=(0,j.Z)(function*(N,U){try{const Z=yield Qn(N,U),de=Object.assign(Object.assign({},U),{authToken:Z});return yield St(N.appConfig,de),Z}catch(Z){if(!Gt(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const de=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield St(N.appConfig,de)}else yield tr(N.appConfig);throw Z}})).apply(this,arguments)}function _n(N){return void 0!==N&&2===N.registrationStatus}function Ce(N){return 2===N.requestStatus&&!function he(N){const U=Date.now();return U<N.creationTime||N.creationTime+N.expiresIn<U+36e5}(N)}function Se(N){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:U})}function Pt(){return(Pt=(0,j.Z)(function*(N){const U=N,{installationEntry:Z,registrationPromise:de}=yield yr(U);return de?de.catch(console.error):Ar(U).catch(console.error),Z.fid})).apply(this,arguments)}function kn(){return(kn=(0,j.Z)(function*(N,U=!1){const Z=N;return yield lr(Z),(yield Ar(Z,U)).token})).apply(this,arguments)}function lr(N){return qn.apply(this,arguments)}function qn(){return(qn=(0,j.Z)(function*(N){const{registrationPromise:U}=yield yr(N);U&&(yield U)})).apply(this,arguments)}function Fn(N){return Ft.create("missing-app-config-values",{valueName:N})}const pi="installations",Mr=N=>{const U=N.getProvider("app").getImmediate(),Z=function on(N){if(!N||!N.options)throw Fn("App Configuration");if(!N.name)throw Fn("App Name");const U=["projectId","apiKey","appId"];for(const Z of U)if(!N.options[Z])throw Fn(Z);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(U);return{app:U,appConfig:Z,heartbeatServiceProvider:(0,ce._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},di=N=>{const U=N.getProvider("app").getImmediate(),Z=(0,ce._getProvider)(U,pi).getImmediate();return{getId:()=>function ke(N){return Pt.apply(this,arguments)}(Z),getToken:Ue=>function sn(N){return kn.apply(this,arguments)}(Z,Ue)}};(function ks(){(0,ce._registerComponent)(new ue.wA(pi,Mr,"PUBLIC")),(0,ce._registerComponent)(new ue.wA("installations-internal",di,"PRIVATE"))})(),(0,ce.registerVersion)(Ne,se),(0,ce.registerVersion)(Ne,se,"esm2017");const fs="@firebase/remote-config",Lr=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gs{constructor(U,Z,de,Ue){this.client=U,this.storage=Z,this.storageCache=de,this.logger=Ue}isCachedDataFresh(U,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const de=Date.now()-Z,Ue=de<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${de}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${Ue}.`),Ue}fetch(U){var Z=this;return(0,j.Z)(function*(){const[de,Ue]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(Ue&&Z.isCachedDataFresh(U.cacheMaxAgeMillis,de))return Ue;U.eTag=Ue&&Ue.eTag;const tt=yield Z.client.fetch(U),Ct=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===tt.status&&Ct.push(Z.storage.setLastSuccessfulFetchResponse(tt)),yield Promise.all(Ct),tt})()}}function co(N=navigator){return N.languages&&N.languages[0]||N.language}class zs{constructor(U,Z,de,Ue,tt,Ct){this.firebaseInstallations=U,this.sdkVersion=Z,this.namespace=de,this.projectId=Ue,this.apiKey=tt,this.appId=Ct}fetch(U){var Z=this;return(0,j.Z)(function*(){var de,Ue,tt;const[Ct,jt]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Bn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,ir={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},Sn={sdk_version:Z.sdkVersion,app_instance_id:Ct,app_instance_id_token:jt,app_id:Z.appId,language_code:co()},Hi={method:"POST",headers:ir,body:JSON.stringify(Sn)},oo=fetch(Bn,Hi),pu=new Promise((gu,za)=>{U.signal.addEventListener(()=>{const Wa=new Error("The operation was aborted.");Wa.name="AbortError",za(Wa)})});let ru;try{yield Promise.race([oo,pu]),ru=yield oo}catch(gu){let za="fetch-client-network";throw"AbortError"===(null===(de=gu)||void 0===de?void 0:de.name)&&(za="fetch-timeout"),Lr.create(za,{originalErrorMessage:null===(Ue=gu)||void 0===Ue?void 0:Ue.message})}let Ga=ru.status;const Xi=ru.headers.get("ETag")||void 0;let Na,Wr;if(200===ru.status){let gu;try{gu=yield ru.json()}catch(za){throw Lr.create("fetch-client-parse",{originalErrorMessage:null===(tt=za)||void 0===tt?void 0:tt.message})}Na=gu.entries,Wr=gu.state}if("INSTANCE_STATE_UNSPECIFIED"===Wr?Ga=500:"NO_CHANGE"===Wr?Ga=304:("NO_TEMPLATE"===Wr||"EMPTY_CONFIG"===Wr)&&(Na={}),304!==Ga&&200!==Ga)throw Lr.create("fetch-status",{httpStatus:Ga});return{status:Ga,eTag:Xi,config:Na}})()}}class Re{constructor(U,Z){this.client=U,this.storage=Z}fetch(U){var Z=this;return(0,j.Z)(function*(){const de=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(U,de)})()}attemptFetch(U,{throttleEndTimeMillis:Z,backoffCount:de}){var Ue=this;return(0,j.Z)(function*(){yield function mr(N,U){return new Promise((Z,de)=>{const Ue=Math.max(U-Date.now(),0),tt=setTimeout(Z,Ue);N.addEventListener(()=>{clearTimeout(tt),de(Lr.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,Z);try{const tt=yield Ue.client.fetch(U);return yield Ue.storage.deleteThrottleMetadata(),tt}catch(tt){if(!function Me(N){if(!(N instanceof pe.ZR&&N.customData))return!1;const U=Number(N.customData.httpStatus);return 429===U||500===U||503===U||504===U}(tt))throw tt;const Ct={throttleEndTimeMillis:Date.now()+(0,pe.$s)(de),backoffCount:de+1};return yield Ue.storage.setThrottleMetadata(Ct),Ue.attemptFetch(U,Ct)}})()}}class xt{constructor(U,Z,de,Ue,tt){this.app=U,this._client=Z,this._storageCache=de,this._storage=Ue,this._logger=tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yt(N,U){var Z;const de=N.target.error||void 0;return Lr.create(U,{originalErrorMessage:de&&(null===(Z=de)||void 0===Z?void 0:Z.message)})}const xn="app_namespace_store";class _o{constructor(U,Z,de,Ue=function ss(){return new Promise((N,U)=>{var Z;try{const de=indexedDB.open("firebase_remote_config",1);de.onerror=Ue=>{U(Yt(Ue,"storage-open"))},de.onsuccess=Ue=>{N(Ue.target.result)},de.onupgradeneeded=Ue=>{0===Ue.oldVersion&&Ue.target.result.createObjectStore(xn,{keyPath:"compositeKey"})}}catch(de){U(Lr.create("storage-open",{originalErrorMessage:null===(Z=de)||void 0===Z?void 0:Z.message}))}})}()){this.appId=U,this.appName=Z,this.namespace=de,this.openDbPromise=Ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var Z=this;return(0,j.Z)(function*(){const de=yield Z.openDbPromise;return new Promise((Ue,tt)=>{var Ct;const Mn=de.transaction([xn],"readonly").objectStore(xn),Bn=Z.createCompositeKey(U);try{const ir=Mn.get(Bn);ir.onerror=Sn=>{tt(Yt(Sn,"storage-get"))},ir.onsuccess=Sn=>{const Hi=Sn.target.result;Ue(Hi?Hi.value:void 0)}}catch(ir){tt(Lr.create("storage-get",{originalErrorMessage:null===(Ct=ir)||void 0===Ct?void 0:Ct.message}))}})})()}set(U,Z){var de=this;return(0,j.Z)(function*(){const Ue=yield de.openDbPromise;return new Promise((tt,Ct)=>{var jt;const Bn=Ue.transaction([xn],"readwrite").objectStore(xn),ir=de.createCompositeKey(U);try{const Sn=Bn.put({compositeKey:ir,value:Z});Sn.onerror=Hi=>{Ct(Yt(Hi,"storage-set"))},Sn.onsuccess=()=>{tt()}}catch(Sn){Ct(Lr.create("storage-set",{originalErrorMessage:null===(jt=Sn)||void 0===jt?void 0:jt.message}))}})})()}delete(U){var Z=this;return(0,j.Z)(function*(){const de=yield Z.openDbPromise;return new Promise((Ue,tt)=>{var Ct;const Mn=de.transaction([xn],"readwrite").objectStore(xn),Bn=Z.createCompositeKey(U);try{const ir=Mn.delete(Bn);ir.onerror=Sn=>{tt(Yt(Sn,"storage-delete"))},ir.onsuccess=()=>{Ue()}}catch(ir){tt(Lr.create("storage-delete",{originalErrorMessage:null===(Ct=ir)||void 0===Ct?void 0:Ct.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class Js{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,j.Z)(function*(){const Z=U.storage.getLastFetchStatus(),de=U.storage.getLastSuccessfulFetchTimestampMillis(),Ue=U.storage.getActiveConfig(),tt=yield Z;tt&&(U.lastFetchStatus=tt);const Ct=yield de;Ct&&(U.lastSuccessfulFetchTimestampMillis=Ct);const jt=yield Ue;jt&&(U.activeConfig=jt)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function Us(){return ho.apply(this,arguments)}function ho(){return(ho=(0,j.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}!function wi(){(0,ce._registerComponent)(new ue.wA("remote-config",function N(U,{instanceIdentifier:Z}){const de=U.getProvider("app").getImmediate(),Ue=U.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Lr.create("registration-window");if(!(0,pe.hl)())throw Lr.create("indexed-db-unavailable");const{projectId:tt,apiKey:Ct,appId:jt}=de.options;if(!tt)throw Lr.create("registration-project-id");if(!Ct)throw Lr.create("registration-api-key");if(!jt)throw Lr.create("registration-app-id");const Mn=new _o(jt,de.name,Z=Z||"firebase"),Bn=new Js(Mn),ir=new ye.Yd(fs);ir.logLevel=ye.in.ERROR;const Sn=new zs(Ue,ce.SDK_VERSION,Z,tt,Ct,jt),Hi=new Re(Sn,Mn),oo=new Gs(Hi,Mn,Bn,ir),pu=new xt(de,oo,Bn,Mn,ir);return function Hr(N){const U=(0,pe.m9)(N);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(pu),pu},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(fs,"0.3.14"),(0,ce.registerVersion)(fs,"0.3.14","esm2017")}();const qi="/firebase-messaging-sw.js",Vi="/firebase-cloud-messaging-push-scope",Ci="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ws="google.c.a.c_id",ms="google.c.a.c_l",ys="google.c.a.ts",Po="google.c.a.e";var Zr=(()=>{return(N=Zr||(Zr={})).PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",Zr;var N})();function Kr(N){const U=new Uint8Array(N);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gi(N){const Z=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),de=atob(Z),Ue=new Uint8Array(de.length);for(let tt=0;tt<de.length;++tt)Ue[tt]=de.charCodeAt(tt);return Ue}const _s="fcm_token_details_db",Di="fcm_token_object_Store";function ko(N){return la.apply(this,arguments)}function la(){return la=(0,j.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(tt=>tt.name).includes(_s))return null;let U=null;return(yield(0,we.X3)(_s,5,{upgrade:(de=(0,j.Z)(function*(Ue,tt,Ct,jt){var Mn;if(tt<2||!Ue.objectStoreNames.contains(Di))return;const Bn=jt.objectStore(Di),ir=yield Bn.index("fcmSenderId").get(N);if(yield Bn.clear(),ir)if(2===tt){const Sn=ir;if(!Sn.auth||!Sn.p256dh||!Sn.endpoint)return;U={token:Sn.fcmToken,createTime:null!==(Mn=Sn.createTime)&&void 0!==Mn?Mn:Date.now(),subscriptionOptions:{auth:Sn.auth,p256dh:Sn.p256dh,endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:"string"==typeof Sn.vapidKey?Sn.vapidKey:Kr(Sn.vapidKey)}}}else if(3===tt){const Sn=ir;U={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:Kr(Sn.auth),p256dh:Kr(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:Kr(Sn.vapidKey)}}}else if(4===tt){const Sn=ir;U={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:Kr(Sn.auth),p256dh:Kr(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:Kr(Sn.vapidKey)}}}}),function(tt,Ct,jt,Mn){return de.apply(this,arguments)})})).close(),yield(0,we.Lj)(_s),yield(0,we.Lj)("fcm_vapid_details_db"),yield(0,we.Lj)("undefined"),dr(U)?U:null;var de}),la.apply(this,arguments)}function dr(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:U}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const Vr="firebase-messaging-store";let Rr=null;function Gn(){return Rr||(Rr=(0,we.X3)("firebase-messaging-database",1,{upgrade:(N,U)=>{0===U&&N.createObjectStore(Vr)}})),Rr}function Ts(N){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,j.Z)(function*(N){const U=Zi(N),de=yield(yield Gn()).transaction(Vr).objectStore(Vr).get(U);if(de)return de;{const Ue=yield ko(N.appConfig.senderId);if(Ue)return yield Yn(N,Ue),Ue}})).apply(this,arguments)}function Yn(N,U){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,j.Z)(function*(N,U){const Z=Zi(N),Ue=(yield Gn()).transaction(Vr,"readwrite");return yield Ue.objectStore(Vr).put(U,Z),yield Ue.done,U})).apply(this,arguments)}function vs(N){return ca.apply(this,arguments)}function ca(){return(ca=(0,j.Z)(function*(N){const U=Zi(N),de=(yield Gn()).transaction(Vr,"readwrite");yield de.objectStore(Vr).delete(U),yield de.done})).apply(this,arguments)}function Zi({appConfig:N}){return N.appId}const si=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vn(N,U){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,j.Z)(function*(N,U){var Z;const de=yield wo(N),Ue=vt(U),tt={method:"POST",headers:de,body:JSON.stringify(Ue)};let Ct;try{Ct=yield(yield fetch(Ms(N.appConfig),tt)).json()}catch(jt){throw si.create("token-subscribe-failed",{errorInfo:null===(Z=jt)||void 0===Z?void 0:Z.toString()})}if(Ct.error)throw si.create("token-subscribe-failed",{errorInfo:Ct.error.message});if(!Ct.token)throw si.create("token-subscribe-no-token");return Ct.token})).apply(this,arguments)}function Zo(N,U){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,j.Z)(function*(N,U){var Z;const de=yield wo(N),Ue=vt(U.subscriptionOptions),tt={method:"PATCH",headers:de,body:JSON.stringify(Ue)};let Ct;try{Ct=yield(yield fetch(`${Ms(N.appConfig)}/${U.token}`,tt)).json()}catch(jt){throw si.create("token-update-failed",{errorInfo:null===(Z=jt)||void 0===Z?void 0:Z.toString()})}if(Ct.error)throw si.create("token-update-failed",{errorInfo:Ct.error.message});if(!Ct.token)throw si.create("token-update-no-token");return Ct.token})).apply(this,arguments)}function As(N,U){return hi.apply(this,arguments)}function hi(){return(hi=(0,j.Z)(function*(N,U){var Z;const Ue={method:"DELETE",headers:yield wo(N)};try{const Ct=yield(yield fetch(`${Ms(N.appConfig)}/${U}`,Ue)).json();if(Ct.error)throw si.create("token-unsubscribe-failed",{errorInfo:Ct.error.message})}catch(tt){throw si.create("token-unsubscribe-failed",{errorInfo:null===(Z=tt)||void 0===Z?void 0:Z.toString()})}})).apply(this,arguments)}function Ms({projectId:N}){return`https://fcmregistrations.googleapis.com/v1/projects/${N}/registrations`}function wo(N){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,j.Z)(function*({appConfig:N,installations:U}){const Z=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function vt({p256dh:N,auth:U,endpoint:Z,vapidKey:de}){const Ue={web:{endpoint:Z,auth:U,p256dh:N}};return de!==Ci&&(Ue.web.applicationPubKey=de),Ue}const Ln=6048e5;function eo(N){return Io.apply(this,arguments)}function Io(){return(Io=(0,j.Z)(function*(N){const U=yield no(N.swRegistration,N.vapidKey),Z={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:U.endpoint,auth:Kr(U.getKey("auth")),p256dh:Kr(U.getKey("p256dh"))},de=yield Ts(N.firebaseDependencies);if(de){if(V(de.subscriptionOptions,Z))return Date.now()>=de.createTime+Ln?us(N,{token:de.token,createTime:Date.now(),subscriptionOptions:Z}):de.token;try{yield As(N.firebaseDependencies,de.token)}catch(Ue){console.warn(Ue)}return Fo(N.firebaseDependencies,Z)}return Fo(N.firebaseDependencies,Z)})).apply(this,arguments)}function Yr(N){return Es.apply(this,arguments)}function Es(){return(Es=(0,j.Z)(function*(N){const U=yield Ts(N.firebaseDependencies);U&&(yield As(N.firebaseDependencies,U.token),yield vs(N.firebaseDependencies));const Z=yield N.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function us(N,U){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,j.Z)(function*(N,U){try{const Z=yield Zo(N.firebaseDependencies,U),de=Object.assign(Object.assign({},U),{token:Z,createTime:Date.now()});return yield Yn(N.firebaseDependencies,de),Z}catch(Z){throw yield Yr(N),Z}})).apply(this,arguments)}function Fo(N,U){return to.apply(this,arguments)}function to(){return(to=(0,j.Z)(function*(N,U){const de={token:yield vn(N,U),createTime:Date.now(),subscriptionOptions:U};return yield Yn(N,de),de.token})).apply(this,arguments)}function no(N,U){return Co.apply(this,arguments)}function Co(){return(Co=(0,j.Z)(function*(N,U){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gi(U)})})).apply(this,arguments)}function V(N,U){return U.vapidKey===N.vapidKey&&U.endpoint===N.endpoint&&U.auth===N.auth&&U.p256dh===N.p256dh}function k(N){const U={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function R(N,U){if(!U.notification)return;N.notification={};const Z=U.notification.title;Z&&(N.notification.title=Z);const de=U.notification.body;de&&(N.notification.body=de);const Ue=U.notification.image;Ue&&(N.notification.image=Ue)}(U,N),function Y(N,U){!U.data||(N.data=U.data)}(U,N),function rt(N,U){var Z,de,Ue,tt,Ct;if(!(U.fcmOptions||null!==(Z=U.notification)&&void 0!==Z&&Z.click_action))return;N.fcmOptions={};const jt=null!==(Ue=null===(de=U.fcmOptions)||void 0===de?void 0:de.link)&&void 0!==Ue?Ue:null===(tt=U.notification)||void 0===tt?void 0:tt.click_action;jt&&(N.fcmOptions.link=jt);const Mn=null===(Ct=U.fcmOptions)||void 0===Ct?void 0:Ct.analytics_label;Mn&&(N.fcmOptions.analyticsLabel=Mn)}(U,N),U}function en(N){return"object"==typeof N&&!!N&&Ws in N}function rr(N,U){const Z=[];for(let de=0;de<N.length;de++)Z.push(N.charAt(de)),de<U.length&&Z.push(U.charAt(de));return Z.join("")}function bi(N){return si.create("missing-app-config-values",{valueName:N})}rr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ls{constructor(U,Z,de){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ue=function or(N){if(!N||!N.options)throw bi("App Configuration Object");if(!N.name)throw bi("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=N;for(const de of U)if(!Z[de])throw bi(de);return{appName:N.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:Ue,installations:Z,analyticsProvider:de}}_delete(){return Promise.resolve()}}function Do(N){return bo.apply(this,arguments)}function bo(){return(bo=(0,j.Z)(function*(N){var U;try{N.swRegistration=yield navigator.serviceWorker.register(qi,{scope:Vi}),N.swRegistration.update().catch(()=>{})}catch(Z){throw si.create("failed-service-worker-registration",{browserErrorMessage:null===(U=Z)||void 0===U?void 0:U.message})}})).apply(this,arguments)}function To(N,U){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,j.Z)(function*(N,U){if(!U&&!N.swRegistration&&(yield Do(N)),U||!N.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw si.create("invalid-sw-registration");N.swRegistration=U}})).apply(this,arguments)}function Qo(N,U){return So.apply(this,arguments)}function So(){return(So=(0,j.Z)(function*(N,U){U?N.vapidKey=U:N.vapidKey||(N.vapidKey=Ci)})).apply(this,arguments)}function cs(){return(cs=(0,j.Z)(function*(N,U){if(!navigator)throw si.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw si.create("permission-blocked");return yield Qo(N,U?.vapidKey),yield To(N,U?.serviceWorkerRegistration),eo(N)})).apply(this,arguments)}function Yo(N,U,Z){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,j.Z)(function*(N,U,Z){const de=ha(U);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(de,{message_id:Z[Ws],message_name:Z[ms],message_time:Z[ys],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ha(N){switch(N){case Zr.NOTIFICATION_CLICKED:return"notification_open";case Zr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function z(){return(z=(0,j.Z)(function*(N,U){const Z=U.data;if(!Z.isFirebaseMessaging)return;N.onMessageHandler&&Z.messageType===Zr.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(k(Z)):N.onMessageHandler.next(k(Z)));const de=Z.data;en(de)&&"1"===de[Po]&&(yield Yo(N,Z.messageType,de))})).apply(this,arguments)}const O="@firebase/messaging",K="0.9.19",Ee=N=>{const U=new ls(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function A(N,U){return z.apply(this,arguments)}(U,Z)),U},Ze=N=>{const U=N.getProvider("messaging").getImmediate();return{getToken:de=>function da(N,U){return cs.apply(this,arguments)}(U,de)}};function tn(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,j.Z)(function*(){try{yield(0,pe.eu)()}catch{return!1}return typeof window<"u"&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ct(){(0,ce._registerComponent)(new ue.wA("messaging",Ee,"PUBLIC")),(0,ce._registerComponent)(new ue.wA("messaging-internal",Ze,"PRIVATE")),(0,ce.registerVersion)(O,K),(0,ce.registerVersion)(O,K,"esm2017")}();const Bi="analytics",Mo="firebase_id",Vs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lo="https://www.googletagmanager.com/gtag/js",Cr=new ye.Yd("@firebase/analytics");function Ma(N){return Promise.all(N.map(U=>U.catch(Z=>Z)))}function hu(N,U){const Z=document.createElement("script");Z.src=`${Lo}?l=${N}&id=${U}`,Z.async=!0,document.head.appendChild(Z)}function Ja(N,U,Z,de,Ue,tt){return ja.apply(this,arguments)}function ja(){return(ja=(0,j.Z)(function*(N,U,Z,de,Ue,tt){const Ct=de[Ue];try{if(Ct)yield U[Ct];else{const Mn=(yield Ma(Z)).find(Bn=>Bn.measurementId===Ue);Mn&&(yield U[Mn.appId])}}catch(jt){Cr.error(jt)}N("config",Ue,tt)})).apply(this,arguments)}function Qi(N,U,Z,de,Ue){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,j.Z)(function*(N,U,Z,de,Ue){try{let tt=[];if(Ue&&Ue.send_to){let Ct=Ue.send_to;Array.isArray(Ct)||(Ct=[Ct]);const jt=yield Ma(Z);for(const Mn of Ct){const Bn=jt.find(Sn=>Sn.measurementId===Mn),ir=Bn&&U[Bn.appId];if(!ir){tt=[];break}tt.push(ir)}}0===tt.length&&(tt=Object.values(U)),yield Promise.all(tt),N("event",de,Ue||{})}catch(tt){Cr.error(tt)}})).apply(this,arguments)}function Xa(N){const U=window.document.getElementsByTagName("script");for(const Z of Object.values(U))if(Z.src&&Z.src.includes(Lo)&&Z.src.includes(N))return Z;return null}const Oi=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),io=new class Yi{constructor(U={},Z=1e3){this.throttleMetadata=U,this.intervalMillis=Z}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,Z){this.throttleMetadata[U]=Z}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function eu(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function fa(N){return bt.apply(this,arguments)}function bt(){return(bt=(0,j.Z)(function*(N){var U;const{appId:Z,apiKey:de}=N,Ue={method:"GET",headers:eu(de)},tt=Vs.replace("{app-id}",Z),Ct=yield fetch(tt,Ue);if(200!==Ct.status&&304!==Ct.status){let jt="";try{const Mn=yield Ct.json();null!==(U=Mn.error)&&void 0!==U&&U.message&&(jt=Mn.error.message)}catch{}throw Oi.create("config-fetch-failed",{httpStatus:Ct.status,responseMessage:jt})}return Ct.json()})).apply(this,arguments)}function An(N){return ci.apply(this,arguments)}function ci(){return(ci=(0,j.Z)(function*(N,U=io,Z){const{appId:de,apiKey:Ue,measurementId:tt}=N.options;if(!de)throw Oi.create("no-app-id");if(!Ue){if(tt)return{measurementId:tt,appId:de};throw Oi.create("no-api-key")}const Ct=U.getThrottleMetadata(de)||{backoffCount:0,throttleEndTimeMillis:Date.now()},jt=new Bt;return setTimeout((0,j.Z)(function*(){jt.abort()}),void 0!==Z?Z:6e4),pa({appId:de,apiKey:Ue,measurementId:tt},Ct,jt,U)})).apply(this,arguments)}function pa(N,U,Z){return nn.apply(this,arguments)}function nn(){return(nn=(0,j.Z)(function*(N,{throttleEndTimeMillis:U,backoffCount:Z},de,Ue=io){var tt,Ct;const{appId:jt,measurementId:Mn}=N;try{yield In(de,U)}catch(Bn){if(Mn)return Cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mn} provided in the "measurementId" field in the local Firebase config. [${null===(tt=Bn)||void 0===tt?void 0:tt.message}]`),{appId:jt,measurementId:Mn};throw Bn}try{const Bn=yield fa(N);return Ue.deleteThrottleMetadata(jt),Bn}catch(Bn){const ir=Bn;if(!tu(ir)){if(Ue.deleteThrottleMetadata(jt),Mn)return Cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mn} provided in the "measurementId" field in the local Firebase config. [${ir?.message}]`),{appId:jt,measurementId:Mn};throw Bn}const Sn=503===Number(null===(Ct=ir?.customData)||void 0===Ct?void 0:Ct.httpStatus)?(0,pe.$s)(Z,Ue.intervalMillis,30):(0,pe.$s)(Z,Ue.intervalMillis),Hi={throttleEndTimeMillis:Date.now()+Sn,backoffCount:Z+1};return Ue.setThrottleMetadata(jt,Hi),Cr.debug(`Calling attemptFetch again in ${Sn} millis`),pa(N,Hi,de,Ue)}})).apply(this,arguments)}function In(N,U){return new Promise((Z,de)=>{const Ue=Math.max(U-Date.now(),0),tt=setTimeout(Z,Ue);N.addEventListener(()=>{clearTimeout(tt),de(Oi.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function tu(N){if(!(N instanceof pe.ZR&&N.customData))return!1;const U=Number(N.customData.httpStatus);return 429===U||500===U||503===U||504===U}class Bt{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let et,na;function Xr(){return(Xr=(0,j.Z)(function*(N,U,Z,de,Ue){if(Ue&&Ue.global)N("event",Z,de);else{const tt=yield U;N("event",Z,Object.assign(Object.assign({},de),{send_to:tt}))}})).apply(this,arguments)}function Bo(N){na=N}function $a(N){et=N}function ln(){return jo.apply(this,arguments)}function jo(){return(jo=(0,j.Z)(function*(){var N;if(!(0,pe.hl)())return Cr.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch(U){return Cr.warn(Oi.create("indexeddb-unavailable",{errorInfo:null===(N=U)||void 0===N?void 0:N.toString()}).message),!1}return!0})).apply(this,arguments)}function Br(){return(Br=(0,j.Z)(function*(N,U,Z,de,Ue,tt,Ct){var jt;const Mn=An(N);Mn.then(oo=>{Z[oo.measurementId]=oo.appId,N.options.measurementId&&oo.measurementId!==N.options.measurementId&&Cr.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${oo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(oo=>Cr.error(oo)),U.push(Mn);const Bn=ln().then(oo=>{if(oo)return de.getId()}),[ir,Sn]=yield Promise.all([Mn,Bn]);Xa(tt)||hu(tt,ir.measurementId),na&&(Ue("consent","default",na),Bo(void 0)),Ue("js",new Date);const Hi=null!==(jt=Ct?.config)&&void 0!==jt?jt:{};return Hi.origin="firebase",Hi.update=!0,null!=Sn&&(Hi[Mo]=Sn),Ue("config",ir.measurementId,Hi),et&&(Ue("set",et),$a(void 0)),ir.measurementId})).apply(this,arguments)}class Cn{constructor(U){this.app=U}_delete(){return delete Ji[this.app.options.appId],Promise.resolve()}}let Ji={},Xn=[];const Ho={};let Ro,fo,Gr="dataLayer",so=!1;function P(N,U,Z){!function fu(){const N=[];if((0,pe.ru)()&&N.push("This is a browser extension environment."),(0,pe.zI)()||N.push("Cookies are not available."),N.length>0){const U=N.map((de,Ue)=>`(${Ue+1}) ${de}`).join(" "),Z=Oi.create("invalid-analytics-context",{errorInfo:U});Cr.warn(Z.message)}}();const de=N.options.appId;if(!de)throw Oi.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw Oi.create("no-api-key");Cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ji[de])throw Oi.create("already-exists",{id:de});if(!so){!function wa(N){let U=[];Array.isArray(window[N])?U=window[N]:window[N]=U}(Gr);const{wrappedGtag:tt,gtagCore:Ct}=function Xo(N,U,Z,de,Ue){let tt=function(...Ct){window[de].push(arguments)};return window[Ue]&&"function"==typeof window[Ue]&&(tt=window[Ue]),window[Ue]=function Jo(N,U,Z,de){function tt(){return(tt=(0,j.Z)(function*(Ct,jt,Mn){try{"event"===Ct?yield Qi(N,U,Z,jt,Mn):"config"===Ct?yield Ja(N,U,Z,de,jt,Mn):"consent"===Ct?N("consent","update",Mn):N("set",jt)}catch(Bn){Cr.error(Bn)}})).apply(this,arguments)}return function Ue(Ct,jt,Mn){return tt.apply(this,arguments)}}(tt,N,U,Z),{gtagCore:tt,wrappedGtag:window[Ue]}}(Ji,Xn,Ho,Gr,"gtag");fo=tt,Ro=Ct,so=!0}return Ji[de]=function ra(N,U,Z,de,Ue,tt,Ct){return Br.apply(this,arguments)}(N,Xn,Ho,U,Ro,Gr,Z),new Cn(N)}function M(){return W.apply(this,arguments)}function W(){return(W=(0,j.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}const Un="@firebase/analytics";!function an(){(0,ce._registerComponent)(new ue.wA(Bi,(U,{options:Z})=>P(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,ce._registerComponent)(new ue.wA("analytics-internal",function N(U){try{const Z=U.getProvider(Bi).getImmediate();return{logEvent:(de,Ue,tt)=>function De(N,U,Z,de){N=(0,pe.m9)(N),function wt(N,U,Z,de,Ue){return Xr.apply(this,arguments)}(fo,Ji[N.app.options.appId],U,Z,de).catch(Ue=>Cr.error(Ue))}(Z,de,Ue,tt)}}catch(Z){throw Oi.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,ce.registerVersion)(Un,"0.8.3"),(0,ce.registerVersion)(Un,"0.8.3","esm2017")}();var hn=L(4408),pr=L(7565);const Pi=new class ei extends pr.v{}(class kr extends hn.o{constructor(U,Z){super(U,Z),this.scheduler=U,this.work=Z}schedule(U,Z=0){return Z>0?super.schedule(U,Z):(this.delay=Z,this.state=U,this.scheduler.flush(this),this)}execute(U,Z){return Z>0||this.closed?super.execute(U,Z):this._execute(U,Z)}requestAsyncId(U,Z,de=0){return null!=de&&de>0||null==de&&this.delay>0?super.requestAsyncId(U,Z,de):(U.flush(this),0)}});var ia=L(4986),ti=L(8505),Ti=L(9468),ji=L(5363);const yi=new g.GfV("7.4.1"),Dr="__angularfire_symbol__analyticsIsSupportedValue",I="__angularfire_symbol__analyticsIsSupported",C="__angularfire_symbol__remoteConfigIsSupportedValue",v="__angularfire_symbol__remoteConfigIsSupported",S="__angularfire_symbol__messagingIsSupportedValue",F="__angularfire_symbol__messagingIsSupported";function Et(N,U,Z){if(U){if(1===U.length)return U[0];const tt=U.filter(Ct=>Ct.app===Z);if(1===tt.length)return tt[0]}return Z.container.getProvider(N).getImmediate({optional:!0})}globalThis[I]||(globalThis[I]=M().then(N=>globalThis[Dr]=N).catch(()=>globalThis[Dr]=!1)),globalThis[F]||(globalThis[F]=tn().then(N=>globalThis[S]=N).catch(()=>globalThis[S]=!1)),globalThis[v]||(globalThis[v]=Us().then(N=>globalThis[C]=N).catch(()=>globalThis[C]=!1));const $t=(N,U)=>{const Z=U?[U]:(0,p.C6)(),de=[];return Z.forEach(Ue=>{Ue.container.getProvider(N).instances.forEach(Ct=>{de.includes(Ct)||de.push(Ct)})}),de};function Nt(){}class Nn{constructor(U,Z=Pi){this.zone=U,this.delegate=Z}now(){return this.delegate.now()}schedule(U,Z,de){const Ue=this.zone;return this.delegate.schedule(function(Ct){Ue.runGuarded(()=>{U.apply(this,[Ct])})},Z,de)}}class ar{constructor(U){this.zone=U,this.task=null}call(U,Z){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nt,{},Nt,Nt)),Z.pipe((0,ti.b)({next:de,complete:de,error:de})).subscribe(U).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ds=(()=>{class N{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new Nn(Zone.current)),this.insideAngular=Z.run(()=>new Nn(Zone.current,ia.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(Z){return new(Z||N)(g.LFG(g.R0b))},N.\u0275prov=g.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function xs(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function Rs(N){return xs(),function xu(N){return function(Z){return(Z=Z.lift(new ar(N.ngZone))).pipe((0,Ti.R)(N.outsideAngular),(0,ji.Q)(N.insideAngular))}}(xs())(N)}},2090:(Ot,Be,L)=>{L.d(Be,{$s:()=>Lt,BH:()=>ze,G6:()=>it,L:()=>we,LL:()=>Zt,Pz:()=>qe,Sg:()=>Ve,UG:()=>Xe,US:()=>ue,ZB:()=>le,ZR:()=>Tt,aH:()=>Pe,b$:()=>Ye,eu:()=>at,hl:()=>yt,jU:()=>Rt,m9:()=>_n,ne:()=>Pn,pd:()=>ts,r3:()=>Wt,ru:()=>nt,tV:()=>Ne,uI:()=>dt,vZ:()=>St,w1:()=>Gt,xO:()=>Sr,xb:()=>Or,z$:()=>gt,zI:()=>me,zd:()=>Jr});const ce=function(Ce){const he=[];let Se=0;for(let lt=0;lt<Ce.length;lt++){let ke=Ce.charCodeAt(lt);ke<128?he[Se++]=ke:ke<2048?(he[Se++]=ke>>6|192,he[Se++]=63&ke|128):55296==(64512&ke)&&lt+1<Ce.length&&56320==(64512&Ce.charCodeAt(lt+1))?(ke=65536+((1023&ke)<<10)+(1023&Ce.charCodeAt(++lt)),he[Se++]=ke>>18|240,he[Se++]=ke>>12&63|128,he[Se++]=ke>>6&63|128,he[Se++]=63&ke|128):(he[Se++]=ke>>12|224,he[Se++]=ke>>6&63|128,he[Se++]=63&ke|128)}return he},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ce,he){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,lt=[];for(let ke=0;ke<Ce.length;ke+=3){const Pt=Ce[ke],sn=ke+1<Ce.length,kn=sn?Ce[ke+1]:0,lr=ke+2<Ce.length,qn=lr?Ce[ke+2]:0;let re=(15&kn)<<2|qn>>6,Le=63&qn;lr||(Le=64,sn||(re=64)),lt.push(Se[Pt>>2],Se[(3&Pt)<<4|kn>>4],Se[re],Se[Le])}return lt.join("")},encodeString(Ce,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(Ce):this.encodeByteArray(ce(Ce),he)},decodeString(Ce,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(Ce):function(Ce){const he=[];let Se=0,lt=0;for(;Se<Ce.length;){const ke=Ce[Se++];if(ke<128)he[lt++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const Pt=Ce[Se++];he[lt++]=String.fromCharCode((31&ke)<<6|63&Pt)}else if(ke>239&&ke<365){const lr=((7&ke)<<18|(63&Ce[Se++])<<12|(63&Ce[Se++])<<6|63&Ce[Se++])-65536;he[lt++]=String.fromCharCode(55296+(lr>>10)),he[lt++]=String.fromCharCode(56320+(1023&lr))}else{const Pt=Ce[Se++],sn=Ce[Se++];he[lt++]=String.fromCharCode((15&ke)<<12|(63&Pt)<<6|63&sn)}}return he.join("")}(this.decodeStringToByteArray(Ce,he))},decodeStringToByteArray(Ce,he){this.init_();const Se=he?this.charToByteMapWebSafe_:this.charToByteMap_,lt=[];for(let ke=0;ke<Ce.length;){const Pt=Se[Ce.charAt(ke++)],kn=ke<Ce.length?Se[Ce.charAt(ke)]:0;++ke;const qn=ke<Ce.length?Se[Ce.charAt(ke)]:64;++ke;const oe=ke<Ce.length?Se[Ce.charAt(ke)]:64;if(++ke,null==Pt||null==kn||null==qn||null==oe)throw Error();lt.push(Pt<<2|kn>>4),64!==qn&&(lt.push(kn<<4&240|qn>>2),64!==oe&&lt.push(qn<<6&192|oe))}return lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}},we=function(Ce){return function(Ce){const he=ce(Ce);return ue.encodeByteArray(he,!0)}(Ce).replace(/\./g,"")},Ne=function(Ce){try{return ue.decodeString(Ce,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function le(Ce,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===Ce&&(Ce={});break;case Array:Ce=[];break;default:return he}for(const Se in he)!he.hasOwnProperty(Se)||!be(Se)||(Ce[Se]=le(Ce[Se],he[Se]));return Ce}function be(Ce){return"__proto__"!==Ce}function gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Rt(){return"object"==typeof self&&self.self===self}function nt(){const Ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ce&&void 0!==Ce.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Gt(){const Ce=gt();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function it(){return!Xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yt(){return"object"==typeof indexedDB}function at(){return new Promise((Ce,he)=>{try{let Se=!0;const lt="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(lt);ke.onsuccess=()=>{ke.result.close(),Se||self.indexedDB.deleteDatabase(lt),Ce(!0)},ke.onupgradeneeded=()=>{Se=!1},ke.onerror=()=>{var Pt;he((null===(Pt=ke.error)||void 0===Pt?void 0:Pt.message)||"")}}catch(Se){he(Se)}})}function me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Fe=()=>{try{return function Je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ce=process.env.__FIREBASE_DEFAULTS__;return Ce?JSON.parse(Ce):void 0})()||(()=>{if(typeof document>"u")return;let Ce;try{Ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const he=Ce&&Ne(Ce[1]);return he&&JSON.parse(he)})()}catch(Ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ce}`)}},Pe=()=>{var Ce;return null===(Ce=Fe())||void 0===Ce?void 0:Ce.config},qe=Ce=>{var he;return null===(he=Fe())||void 0===he?void 0:he[`_${Ce}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,Se)=>{this.resolve=he,this.reject=Se})}wrapCallback(he){return(Se,lt)=>{Se?this.reject(Se):this.resolve(lt),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(Se):he(Se,lt))}}}function Ve(Ce,he){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const lt=he||"demo-project",ke=Ce.iat||0,Pt=Ce.sub||Ce.user_id;if(!Pt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const sn=Object.assign({iss:`https://securetoken.google.com/${lt}`,aud:lt,iat:ke,exp:ke+3600,auth_time:ke,sub:Pt,user_id:Pt,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(sn)),""].join(".")}class Tt extends Error{constructor(he,Se,lt){super(Se),this.code=he,this.customData=lt,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}}class Zt{constructor(he,Se,lt){this.service=he,this.serviceName=Se,this.errors=lt}create(he,...Se){const lt=Se[0]||{},ke=`${this.service}/${he}`,Pt=this.errors[he],sn=Pt?function Dt(Ce,he){return Ce.replace(En,(Se,lt)=>{const ke=he[lt];return null!=ke?String(ke):`<${lt}?>`})}(Pt,lt):"Error";return new Tt(ke,`${this.serviceName}: ${sn} (${ke}).`,lt)}}const En=/\{\$([^}]+)}/g;function Wt(Ce,he){return Object.prototype.hasOwnProperty.call(Ce,he)}function Or(Ce){for(const he in Ce)if(Object.prototype.hasOwnProperty.call(Ce,he))return!1;return!0}function St(Ce,he){if(Ce===he)return!0;const Se=Object.keys(Ce),lt=Object.keys(he);for(const ke of Se){if(!lt.includes(ke))return!1;const Pt=Ce[ke],sn=he[ke];if(hr(Pt)&&hr(sn)){if(!St(Pt,sn))return!1}else if(Pt!==sn)return!1}for(const ke of lt)if(!Se.includes(ke))return!1;return!0}function hr(Ce){return null!==Ce&&"object"==typeof Ce}function Sr(Ce){const he=[];for(const[Se,lt]of Object.entries(Ce))Array.isArray(lt)?lt.forEach(ke=>{he.push(encodeURIComponent(Se)+"="+encodeURIComponent(ke))}):he.push(encodeURIComponent(Se)+"="+encodeURIComponent(lt));return he.length?"&"+he.join("&"):""}function Jr(Ce){const he={};return Ce.replace(/^\?/,"").split("&").forEach(lt=>{if(lt){const[ke,Pt]=lt.split("=");he[decodeURIComponent(ke)]=decodeURIComponent(Pt)}}),he}function ts(Ce){const he=Ce.indexOf("?");if(!he)return"";const Se=Ce.indexOf("#",he);return Ce.substring(he,Se>0?Se:void 0)}function Pn(Ce,he){const Se=new Hn(Ce,he);return Se.subscribe.bind(Se)}class Hn{constructor(he,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{he(this)}).catch(lt=>{this.error(lt)})}next(he){this.forEachObserver(Se=>{Se.next(he)})}error(he){this.forEachObserver(Se=>{Se.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,Se,lt){let ke;if(void 0===he&&void 0===Se&&void 0===lt)throw new Error("Missing Observer.");ke=function qt(Ce,he){if("object"!=typeof Ce||null===Ce)return!1;for(const Se of he)if(Se in Ce&&"function"==typeof Ce[Se])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:Se,complete:lt},void 0===ke.next&&(ke.next=nr),void 0===ke.error&&(ke.error=nr),void 0===ke.complete&&(ke.complete=nr);const Pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch{}}),this.observers.push(ke),Pt}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,he)}sendOne(he,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{Se(this.observers[he])}catch(lt){typeof console<"u"&&console.error&&console.error(lt)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nr(){}function Lt(Ce,he=1e3,Se=2){const lt=he*Math.pow(Se,Ce),ke=Math.round(.5*lt*(Math.random()-.5)*2);return Math.min(144e5,lt+ke)}function _n(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}},8495:(Ot,Be,L)=>{L.d(Be,{v:()=>g});class g{constructor(j="",ce=[]){this.id="",this.uid=j,this.images=ce}getLiteralObjectRepresentation(){return{uid:this.uid,images:this.images}}}},7101:(Ot,Be,L)=>{L.d(Be,{N:()=>g});class g{constructor(j="",ce="",pe="",ue=0,ye="",we="",Ne=0){this.id="",this.uid=j,this.name=ce,this.last_name=pe,this.age=ue,this.id_number=ye,this.user_email=we,this.role=Ne}getLiteralObjectRepresentation(){return{uid:this.uid,name:this.name,last_name:this.last_name,age:this.age,id_number:this.id_number,user_email:this.user_email,role:this.role}}setId(j){this.id=j}}},3333:(Ot,Be,L)=>{L.d(Be,{d:()=>p});var g=L(7101);class p extends g.N{constructor(ce="",pe="",ue="",ye=0,we="",Ne="",se=1,le=0,be=[]){super(ce,pe,ue,ye,we,Ne,se),this.approved=le,this.specialities=be}getLiteralObjectRepresentation(){return{uid:this.uid,name:this.name,last_name:this.last_name,age:this.age,id_number:this.id_number,user_email:this.user_email,role:this.role,approved:this.approved,specialities:this.getSpecialitiesLiteralObjectRepresentation()}}getSpecialitiesLiteralObjectRepresentation(){let ce=[];return this.specialities.forEach(pe=>{ce.push(pe)}),ce}static FromLiteralObject(ce){let pe=new p(ce.uid,ce.name,ce.last_name,ce.age,ce.id_number,ce.user_email,ce.role,ce.approved,ce.specialities);return pe.setId(ce.id),pe}}},1980:(Ot,Be,L)=>{L.d(Be,{e:()=>Fe});var g=L(5861),p=L(4650),j=L(433),ce=L(4707),pe=L(7101),ue=L(8495),ye=L(9051),we=L(4732),Ne=L(9181),se=L(8709),le=L(8931),be=L(6895);function gt($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"El nombre es requerido"),p.qZA())}function dt($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"El apellido es requerido"),p.qZA())}function Xe($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"La edad es requerida"),p.qZA())}function Rt($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"La no puede ser menor a 1 (uno)"),p.qZA())}function nt($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"La edad no puede ser mayor a 120"),p.qZA())}function Ye($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"La edad debe ser expresada en n\xfameros \xfanicamente"),p.qZA())}function Ft($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"El DNI es requerido"),p.qZA())}function Gt($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"El DNI debe contener s\xf3lo n\xfameros y puntos (ej. 12.345.678)"),p.qZA())}function _e($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"La obra social es requerida"),p.qZA())}function st($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"La imagen de perfil es requerida"),p.qZA())}function it($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"La segunda imagen de perfil es requerida"),p.qZA())}function yt($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"El email es requerido"),p.qZA())}function at($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"Formato de mail incorrecto"),p.qZA())}function me($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"La contrase\xf1a es requerida"),p.qZA())}function Je($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"La extensi\xf3n m\xednima para la contrase\xf1a es de 6 caracteres"),p.qZA())}function ae($e,Qe){1&$e&&(p.TgZ(0,"div"),p._uU(1,"Las contrase\xf1as no coinciden"),p.qZA())}function Ae($e,Qe){if(1&$e&&(p.TgZ(0,"div",34),p.YNc(1,gt,2,0,"div",35),p.YNc(2,dt,2,0,"div",35),p.YNc(3,Xe,2,0,"div",35),p.YNc(4,Rt,2,0,"div",35),p.YNc(5,nt,2,0,"div",35),p.YNc(6,Ye,2,0,"div",35),p.YNc(7,Ft,2,0,"div",35),p.YNc(8,Gt,2,0,"div",35),p.YNc(9,_e,2,0,"div",35),p.YNc(10,st,2,0,"div",35),p.YNc(11,it,2,0,"div",35),p.YNc(12,yt,2,0,"div",35),p.YNc(13,at,2,0,"div",35),p.YNc(14,me,2,0,"div",35),p.YNc(15,Je,2,0,"div",35),p.YNc(16,ae,2,0,"div",35),p.qZA()),2&$e){const Pe=p.oxw();let qe,ze,Ve,Mt,Tt,Zt,Dt,En,Ht,gn,jn,Kn,er,un,br;p.xp6(1),p.Q6J("ngIf",(null==(qe=Pe.newUserForm.get("name"))?null:qe.touched)&&(null==(qe=Pe.newUserForm.get("name"))?null:qe.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(ze=Pe.newUserForm.get("last_name"))?null:ze.touched)&&(null==(ze=Pe.newUserForm.get("last_name"))?null:ze.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(Ve=Pe.newUserForm.get("age"))?null:Ve.touched)&&(null==(Ve=Pe.newUserForm.get("age"))?null:Ve.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(Mt=Pe.newUserForm.get("age"))?null:Mt.touched)&&(null==(Mt=Pe.newUserForm.get("age"))?null:Mt.hasError("min"))),p.xp6(1),p.Q6J("ngIf",(null==(Tt=Pe.newUserForm.get("age"))?null:Tt.touched)&&(null==(Tt=Pe.newUserForm.get("age"))?null:Tt.hasError("max"))),p.xp6(1),p.Q6J("ngIf",(null==(Zt=Pe.newUserForm.get("age"))?null:Zt.touched)&&(null==(Zt=Pe.newUserForm.get("age"))?null:Zt.hasError("pattern"))),p.xp6(1),p.Q6J("ngIf",(null==(Dt=Pe.newUserForm.get("id_number"))?null:Dt.touched)&&(null==(Dt=Pe.newUserForm.get("id_number"))?null:Dt.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(En=Pe.newUserForm.get("id_number"))?null:En.touched)&&(null==(En=Pe.newUserForm.get("id_number"))?null:En.hasError("pattern"))),p.xp6(1),p.Q6J("ngIf",(null==(Ht=Pe.newUserForm.get("insurance_provider"))?null:Ht.touched)&&(null==(Ht=Pe.newUserForm.get("insurance_provider"))?null:Ht.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(gn=Pe.newUserForm.get("first_profile_image"))?null:gn.touched)&&(null==(gn=Pe.newUserForm.get("first_profile_image"))?null:gn.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(jn=Pe.newUserForm.get("second_profile_image"))?null:jn.touched)&&(null==(jn=Pe.newUserForm.get("second_profile_image"))?null:jn.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(Kn=Pe.newUserForm.get("email"))?null:Kn.touched)&&(null==(Kn=Pe.newUserForm.get("email"))?null:Kn.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(er=Pe.newUserForm.get("email"))?null:er.touched)&&(null==(er=Pe.newUserForm.get("email"))?null:er.hasError("pattern"))),p.xp6(1),p.Q6J("ngIf",(null==(un=Pe.newUserForm.get("password"))?null:un.touched)&&(null==(un=Pe.newUserForm.get("password"))?null:un.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(br=Pe.newUserForm.get("password"))?null:br.touched)&&(null==(br=Pe.newUserForm.get("password"))?null:br.hasError("minlength"))),p.xp6(1),p.Q6J("ngIf",Pe.passwordsDontMatch)}}const fe=function($e){return{"is-invalid":$e}};let Fe=(()=>{class $e{constructor(Pe,qe,ze,Ve,Mt){this.router=Pe,this.register=qe,this.profiles=ze,this.profileImages=Ve,this.captcha=Mt,this.exitEmitter=new p.vpe,this.base64FirstImage="",this.base64SecondImage="",this.passwordsDontMatch=!1,this.newUserForm=new j.cw({name:new j.NI("",j.kI.compose([j.kI.required])),last_name:new j.NI("",j.kI.compose([j.kI.required])),age:new j.NI(0,j.kI.compose([j.kI.required,j.kI.min(1),j.kI.max(120),j.kI.pattern(/^\d+$/)])),id_number:new j.NI("",j.kI.compose([j.kI.required,j.kI.pattern(/[0-9]{1,3}\.[0-9]{3}\.[0-9]{3}/)])),insurance_provider:new j.NI("",j.kI.compose([j.kI.required])),first_profile_image:new j.NI("",j.kI.compose([j.kI.required])),second_profile_image:new j.NI("",j.kI.compose([j.kI.required])),email:new j.NI("",j.kI.compose([j.kI.required,j.kI.pattern(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)])),password:new j.NI("",j.kI.compose([j.kI.required,j.kI.minLength(6)])),password_control:new j.NI("",j.kI.compose([j.kI.required]))})}ngOnInit(){this.captcha.CaptchaNotifications().subscribe(Pe=>{"success"==Pe?(this.RegisterUser(),this.captcha.HideCaptcha()):"failure"==Pe&&(this.captcha.HideCaptcha(),this.exit(),this.router.navigate(["/"]))})}submit(){this.newUserForm.get("password")?.value==this.newUserForm.get("password_control")?.value?this.newUserForm.valid?this.captcha.RevealCaptcha():this.newUserForm.markAllAsTouched():(this.passwordsDontMatch=!0,this.newUserForm.markAllAsTouched())}firstImageSubmitted(Pe){this.convertFile(Pe.target.files[0]).subscribe(qe=>{this.base64FirstImage=qe,this.newUserForm.get("first_profile_image")?.setValue("ok")})}RegisterUser(){var Pe=this;this.register.NewUser(this.newUserForm.get("email")?.value,this.newUserForm.get("password")?.value).then((0,g.Z)(function*(){let qe=yield Pe.register.GetNewUserID();Pe.profiles.addDocument(new pe.N(qe,Pe.newUserForm.get("name")?.value,Pe.newUserForm.get("last_name")?.value,Pe.newUserForm.get("age")?.value,Pe.newUserForm.get("id_number")?.value,Pe.newUserForm.get("email")?.value,0).getLiteralObjectRepresentation()),Pe.profileImages.addDocument(new ue.v(qe,[Pe.base64FirstImage,Pe.base64SecondImage]).getLiteralObjectRepresentation()),Pe.register.VerifyUser(),Pe.exit()}))}secondImageSubmitted(Pe){this.convertFile(Pe.target.files[0]).subscribe(qe=>{this.base64SecondImage=qe,this.newUserForm.get("second_profile_image")?.setValue("ok")})}convertFile(Pe){const qe=new ce.t(1),ze=new FileReader;return ze.readAsBinaryString(Pe),ze.onload=Ve=>{Ve&&Ve.target&&Ve.target.result&&qe.next(btoa(Ve.target.result.toString()))},qe}allHasBeenTouched(){return this.newUserForm.get("name")?.touched&&this.newUserForm.get("last_name")?.touched&&this.newUserForm.get("age")?.touched&&this.newUserForm.get("id_number")?.touched&&this.newUserForm.get("insurance_provider")?.touched&&this.newUserForm.get("first_profile_image")?.touched&&this.newUserForm.get("second_profile_image")?.touched&&this.newUserForm.get("email")?.touched&&this.newUserForm.get("password")?.touched&&this.newUserForm.get("password_control")?.touched}exit(){this.exitEmitter.emit()}}return $e.\u0275fac=function(Pe){return new(Pe||$e)(p.Y36(ye.F0),p.Y36(we.a),p.Y36(Ne.H),p.Y36(se.x),p.Y36(le.n))},$e.\u0275cmp=p.Xpm({type:$e,selectors:[["app-patient-register"]],outputs:{exitEmitter:"onExit"},decls:66,vars:32,consts:[["id","new-patient-form",3,"formGroup"],[1,"row"],[1,"border","border-dark","rounded","form-section"],[1,"pl-3","pt-3","pb-0"],[1,"row","p-3","pt-0"],[1,"col-6"],[1,"form-group"],["for","first-name"],["formControlName","name","type","text","name","first-name","id","first-name",1,"form-control",3,"ngClass"],["for","last-name"],["formControlName","last_name","type","text","name","last-name","id","last-name",1,"form-control",3,"ngClass"],["for","age"],["formControlName","age","type","number","name","age","id","age",1,"form-control",3,"ngClass"],["for","id-number"],["formControlName","id_number","type","text","name","id-number","id","id-number",1,"form-control",3,"ngClass"],[1,"col-12"],["for","insurance-provider"],["formControlName","insurance_provider","type","text","name","insurance-provider","id","insurance-provider",1,"form-control",3,"ngClass"],[1,"border","border-dark","rounded","mt-3","form-section"],[1,"input-group"],["type","file","id","first-profile-image",1,"form-control",3,"ngClass","change"],["type","file","id","second-profile-image",1,"form-control",3,"ngClass","change"],[1,"mt-3","mx-auto","border","border-dark","rounded","form-section"],["for","email"],["formControlName","email","type","text","name","email","id","email",1,"form-control",3,"ngClass"],[1,"col-12","my-2"],["for","password"],["formControlName","password","type","password","name","password","id","password",1,"form-control",3,"ngClass"],["for","password-control"],["formControlName","password_control","type","password","name","password-control","id","password-control",1,"form-control",3,"ngClass"],[1,"row","mt-3"],[1,"btn","lg-form-btn",3,"click"],[1,"btn","lg-form-btn","exit","mt-2",3,"click"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[4,"ngIf"]],template:function(Pe,qe){if(1&Pe&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),p._uU(4,"Informaci\xf3n General"),p.qZA(),p.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),p._uU(9,"Nombre"),p.qZA(),p._UZ(10,"input",8),p.qZA()(),p.TgZ(11,"div",5)(12,"div",6)(13,"label",9),p._uU(14,"Apellido"),p.qZA(),p._UZ(15,"input",10),p.qZA()(),p.TgZ(16,"div",5)(17,"div",6)(18,"label",11),p._uU(19,"Edad"),p.qZA(),p._UZ(20,"input",12),p.qZA()(),p.TgZ(21,"div",5)(22,"div",6)(23,"label",13),p._uU(24,"DNI"),p.qZA(),p._UZ(25,"input",14),p.qZA()(),p.TgZ(26,"div",15)(27,"div",6)(28,"label",16),p._uU(29,"Obra Social"),p.qZA(),p._UZ(30,"input",17),p.qZA()()()(),p.TgZ(31,"div",18)(32,"h3",3),p._uU(33,"Im\xe1genes"),p.qZA(),p.TgZ(34,"div",4)(35,"div",5)(36,"div",19)(37,"input",20),p.NdJ("change",function(Ve){return qe.firstImageSubmitted(Ve)}),p.qZA()()(),p.TgZ(38,"div",5)(39,"div",19)(40,"input",21),p.NdJ("change",function(Ve){return qe.secondImageSubmitted(Ve)}),p.qZA()()()()(),p.TgZ(41,"div",22)(42,"h3",3),p._uU(43,"Credenciales"),p.qZA(),p.TgZ(44,"div",4)(45,"div",15)(46,"div",6)(47,"label",23),p._uU(48,"Email"),p.qZA(),p._UZ(49,"input",24),p.qZA()(),p.TgZ(50,"div",25)(51,"div",6)(52,"label",26),p._uU(53,"Contrase\xf1a"),p.qZA(),p._UZ(54,"input",27),p.qZA()(),p.TgZ(55,"div",25)(56,"div",6)(57,"label",28),p._uU(58,"Confirmaci\xf3n de contrase\xf1a"),p.qZA(),p._UZ(59,"input",29),p.qZA()()()()(),p.TgZ(60,"div",30)(61,"button",31),p.NdJ("click",function(){return qe.submit()}),p._uU(62,"Enviar"),p.qZA(),p.TgZ(63,"button",32),p.NdJ("click",function(){return qe.exit()}),p._uU(64,"Salir"),p.qZA()(),p.YNc(65,Ae,17,16,"div",33),p.qZA()),2&Pe){let ze,Ve,Mt,Tt,Zt,Dt,En,Ht,gn,jn;p.Q6J("formGroup",qe.newUserForm),p.xp6(10),p.Q6J("ngClass",p.VKq(12,fe,(null==(ze=qe.newUserForm.get("name"))?null:ze.invalid)&&(null==(ze=qe.newUserForm.get("name"))?null:ze.touched)&&qe.allHasBeenTouched())),p.xp6(5),p.Q6J("ngClass",p.VKq(14,fe,(null==(Ve=qe.newUserForm.get("last_name"))?null:Ve.invalid)&&(null==(Ve=qe.newUserForm.get("last_name"))?null:Ve.touched)&&qe.allHasBeenTouched())),p.xp6(5),p.Q6J("ngClass",p.VKq(16,fe,(null==(Mt=qe.newUserForm.get("age"))?null:Mt.invalid)&&(null==(Mt=qe.newUserForm.get("age"))?null:Mt.touched)&&qe.allHasBeenTouched())),p.xp6(5),p.Q6J("ngClass",p.VKq(18,fe,(null==(Tt=qe.newUserForm.get("id_number"))?null:Tt.invalid)&&(null==(Tt=qe.newUserForm.get("id_number"))?null:Tt.touched)&&qe.allHasBeenTouched())),p.xp6(5),p.Q6J("ngClass",p.VKq(20,fe,(null==(Zt=qe.newUserForm.get("insurance_provider"))?null:Zt.invalid)&&(null==(Zt=qe.newUserForm.get("insurance_provider"))?null:Zt.touched)&&qe.allHasBeenTouched())),p.xp6(7),p.Q6J("ngClass",p.VKq(22,fe,(null==(Dt=qe.newUserForm.get("first_profile_image"))?null:Dt.invalid)&&(null==(Dt=qe.newUserForm.get("first_profile_image"))?null:Dt.touched)&&qe.allHasBeenTouched())),p.xp6(3),p.Q6J("ngClass",p.VKq(24,fe,(null==(En=qe.newUserForm.get("second_profile_image"))?null:En.invalid)&&(null==(En=qe.newUserForm.get("second_profile_image"))?null:En.touched)&&qe.allHasBeenTouched())),p.xp6(9),p.Q6J("ngClass",p.VKq(26,fe,(null==(Ht=qe.newUserForm.get("email"))?null:Ht.invalid)&&(null==(Ht=qe.newUserForm.get("email"))?null:Ht.touched)&&qe.allHasBeenTouched())),p.xp6(5),p.Q6J("ngClass",p.VKq(28,fe,(null==(gn=qe.newUserForm.get("password"))?null:gn.invalid)&&(null==(gn=qe.newUserForm.get("password"))?null:gn.touched)&&qe.allHasBeenTouched())),p.xp6(5),p.Q6J("ngClass",p.VKq(30,fe,(null==(jn=qe.newUserForm.get("password_control"))?null:jn.invalid)&&(null==(jn=qe.newUserForm.get("password_control"))?null:jn.touched)&&qe.allHasBeenTouched())),p.xp6(6),p.Q6J("ngIf",qe.newUserForm.invalid&&qe.newUserForm.touched&&qe.allHasBeenTouched()||qe.passwordsDontMatch&&qe.allHasBeenTouched())}},dependencies:[be.mk,be.O5,j.Fj,j.wV,j.JJ,j.JL,j.sg,j.u],styles:[".form-section[_ngcontent-%COMP%]{background-color:var(--dark);color:#fff}.lg-form-btn[_ngcontent-%COMP%]{width:100%!important;background-color:var(--light);color:#fff;font-size:calc(1.275rem + .3vw)}.exit[_ngcontent-%COMP%]{background-color:#7e1d1d}.new-patient-form[_ngcontent-%COMP%]{max-height:100%}"]}),$e})()},8619:(Ot,Be,L)=>{L.d(Be,{c:()=>Qe});var g=L(5861),p=L(4650),j=L(433),ce=L(4707),pe=L(8495),ue=L(3333),ye=L(4732),we=L(9181),Ne=L(8709),se=L(6895);class le{constructor(qe="",ze=""){this.id="",this.name=qe,this.image=ze}getLiteralObjectRepresentation(){return{name:this.name,image:this.image}}}var be=L(4869);function gt(Pe,qe){if(1&Pe){const ze=p.EpF();p.TgZ(0,"div",9),p.NdJ("click",function(){const Tt=p.CHM(ze).$implicit,Zt=p.oxw();return p.KtG(Zt.emmitSpeciality(Tt))}),p._uU(1),p.qZA()}if(2&Pe){const ze=qe.$implicit;p.xp6(1),p.hij(" ",ze.name," ")}}let dt=(()=>{class Pe{constructor(ze){this.specialityService=ze,this.newSpeciality="",this.specialities=[],this.specialityEmitter=new p.vpe}ngOnInit(){this.specialityService.getDocuments().subscribe(ze=>this.specialities=ze)}emmitSpeciality(ze){this.specialityEmitter.emit(ze)}emmitNewSpeciality(){this.specialityEmitter.emit(new le(this.newSpeciality))}}return Pe.\u0275fac=function(ze){return new(ze||Pe)(p.Y36(be.d))},Pe.\u0275cmp=p.Xpm({type:Pe,selectors:[["app-specialities-selection"]],outputs:{specialityEmitter:"speciality"},decls:11,vars:2,consts:[[1,"speciality-selector-container"],[1,"speciality-selector"],["id","speciality-pool"],["class","speciality",3,"click",4,"ngFor","ngForOf"],["id","new-speciality-label"],["id","new-speciality"],[1,"form-group"],["type","text","name","new-speciality-field","id","new-speciality-field",1,"form-control",3,"ngModel","ngModelChange"],["id","new-speciality-btn",1,"btn","btn-large","form-control",3,"click"],[1,"speciality",3,"click"]],template:function(ze,Ve){1&ze&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2),p.YNc(3,gt,2,1,"div",3),p.qZA(),p.TgZ(4,"p",4),p._uU(5,"Si no encuentra su especialidad entre las listadas arriba, agreguela a continuaci\xf3n."),p.qZA(),p.TgZ(6,"div",5)(7,"div",6)(8,"input",7),p.NdJ("ngModelChange",function(Tt){return Ve.newSpeciality=Tt}),p.qZA()(),p.TgZ(9,"button",8),p.NdJ("click",function(){return Ve.emmitNewSpeciality()}),p._uU(10,"Nueva Esp."),p.qZA()()()()),2&ze&&(p.xp6(3),p.Q6J("ngForOf",Ve.specialities),p.xp6(5),p.Q6J("ngModel",Ve.newSpeciality))},dependencies:[se.sg,j.Fj,j.JJ,j.On],styles:[".speciality-selector-container[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background-color:#000000b3}.speciality-selector[_ngcontent-%COMP%]{border-radius:5px;border:2px solid black;width:60vw;height:80vh;background-color:#fff;overflow-y:scroll}#speciality-pool[_ngcontent-%COMP%]{display:flex;justify-content:baseline;flex-wrap:wrap}.speciality[_ngcontent-%COMP%]{border-radius:5px;padding:.5rem;background-color:var(--light);margin:1rem;font-size:xx-large;min-width:30%}.speciality[_ngcontent-%COMP%]:hover{cursor:pointer;transition:all .2s ease-in-out;transform:scale(1.01);font-weight:bolder}#new-speciality-label[_ngcontent-%COMP%]{padding:1.5rem;border:1px solid var(--dark);border-radius:5px;margin:3rem 2rem 0rem;font-size:large}#new-speciality[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem;border:1px solid var(--dark);border-radius:5px;margin:.2rem 2rem 3rem}input[_ngcontent-%COMP%]{width:80%}#new-speciality-btn[_ngcontent-%COMP%]{background-color:var(--dark);color:#fff;max-width:25%}@media (max-width: 780px){.speciality-selector[_ngcontent-%COMP%]{width:90vw;height:80vh}}"]}),Pe})();function Xe(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"El nombre es requerido"),p.qZA())}function Rt(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"El apellido es requerido"),p.qZA())}function nt(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"La edad es requerida"),p.qZA())}function Ye(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"La no puede ser menor a 1 (uno)"),p.qZA())}function Ft(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"La edad no puede ser mayor a 120"),p.qZA())}function Gt(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"La edad debe ser expresada en n\xfameros \xfanicamente"),p.qZA())}function _e(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"El DNI es requerido"),p.qZA())}function st(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"El DNI debe contener s\xf3lo n\xfameros y puntos (ej. 12.345.678)"),p.qZA())}function it(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"La especialidad es requerida"),p.qZA())}function yt(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"La imagen de perfil es requerida"),p.qZA())}function at(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"El email es requerido"),p.qZA())}function me(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"Formato de mail incorrecto"),p.qZA())}function Je(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"La contrase\xf1a es requerida"),p.qZA())}function ae(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"La extensi\xf3n m\xednima para la contrase\xf1a es de 6 caracteres"),p.qZA())}function Ae(Pe,qe){1&Pe&&(p.TgZ(0,"div"),p._uU(1,"Las contrase\xf1as no coinciden"),p.qZA())}function fe(Pe,qe){if(1&Pe&&(p.TgZ(0,"div",37),p.YNc(1,Xe,2,0,"div",38),p.YNc(2,Rt,2,0,"div",38),p.YNc(3,nt,2,0,"div",38),p.YNc(4,Ye,2,0,"div",38),p.YNc(5,Ft,2,0,"div",38),p.YNc(6,Gt,2,0,"div",38),p.YNc(7,_e,2,0,"div",38),p.YNc(8,st,2,0,"div",38),p.YNc(9,it,2,0,"div",38),p.YNc(10,yt,2,0,"div",38),p.YNc(11,at,2,0,"div",38),p.YNc(12,me,2,0,"div",38),p.YNc(13,Je,2,0,"div",38),p.YNc(14,ae,2,0,"div",38),p.YNc(15,Ae,2,0,"div",38),p.qZA()),2&Pe){const ze=p.oxw();let Ve,Mt,Tt,Zt,Dt,En,Ht,gn,jn,Kn,er,un,br,Wt;p.xp6(1),p.Q6J("ngIf",(null==(Ve=ze.newUserForm.get("name"))?null:Ve.touched)&&(null==(Ve=ze.newUserForm.get("name"))?null:Ve.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(Mt=ze.newUserForm.get("last_name"))?null:Mt.touched)&&(null==(Mt=ze.newUserForm.get("last_name"))?null:Mt.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(Tt=ze.newUserForm.get("age"))?null:Tt.touched)&&(null==(Tt=ze.newUserForm.get("age"))?null:Tt.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(Zt=ze.newUserForm.get("age"))?null:Zt.touched)&&(null==(Zt=ze.newUserForm.get("age"))?null:Zt.hasError("min"))),p.xp6(1),p.Q6J("ngIf",(null==(Dt=ze.newUserForm.get("age"))?null:Dt.touched)&&(null==(Dt=ze.newUserForm.get("age"))?null:Dt.hasError("max"))),p.xp6(1),p.Q6J("ngIf",(null==(En=ze.newUserForm.get("age"))?null:En.touched)&&(null==(En=ze.newUserForm.get("age"))?null:En.hasError("pattern"))),p.xp6(1),p.Q6J("ngIf",(null==(Ht=ze.newUserForm.get("id_number"))?null:Ht.touched)&&(null==(Ht=ze.newUserForm.get("id_number"))?null:Ht.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(gn=ze.newUserForm.get("id_number"))?null:gn.touched)&&(null==(gn=ze.newUserForm.get("id_number"))?null:gn.hasError("pattern"))),p.xp6(1),p.Q6J("ngIf",(null==(jn=ze.newUserForm.get("speciality"))?null:jn.touched)&&(null==(jn=ze.newUserForm.get("speciality"))?null:jn.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(Kn=ze.newUserForm.get("first_profile_image"))?null:Kn.touched)&&(null==(Kn=ze.newUserForm.get("first_profile_image"))?null:Kn.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(er=ze.newUserForm.get("email"))?null:er.touched)&&(null==(er=ze.newUserForm.get("email"))?null:er.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(un=ze.newUserForm.get("email"))?null:un.touched)&&(null==(un=ze.newUserForm.get("email"))?null:un.hasError("pattern"))),p.xp6(1),p.Q6J("ngIf",(null==(br=ze.newUserForm.get("password"))?null:br.touched)&&(null==(br=ze.newUserForm.get("password"))?null:br.hasError("required"))),p.xp6(1),p.Q6J("ngIf",(null==(Wt=ze.newUserForm.get("password"))?null:Wt.touched)&&(null==(Wt=ze.newUserForm.get("password"))?null:Wt.hasError("minlength"))),p.xp6(1),p.Q6J("ngIf",ze.passwordsDontMatch)}}function Fe(Pe,qe){if(1&Pe){const ze=p.EpF();p.TgZ(0,"app-specialities-selection",39),p.NdJ("speciality",function(Mt){p.CHM(ze);const Tt=p.oxw();return p.KtG(Tt.receiveSpeciality(Mt))}),p.qZA()}}const $e=function(Pe){return{"is-invalid":Pe}};let Qe=(()=>{class Pe{constructor(ze,Ve,Mt){this.register=ze,this.profiles=Ve,this.profileImages=Mt,this.exitEmitter=new p.vpe,this.base64FirstImage="",this.showSpecialities=!1,this.passwordsDontMatch=!1,this.newUserForm=new j.cw({name:new j.NI("",j.kI.compose([j.kI.required])),last_name:new j.NI("",j.kI.compose([j.kI.required])),age:new j.NI(0,j.kI.compose([j.kI.required,j.kI.min(1),j.kI.max(120),j.kI.pattern(/^\d+$/)])),id_number:new j.NI("",j.kI.compose([j.kI.required,j.kI.pattern(/[0-9]{1,3}\.[0-9]{3}\.[0-9]{3}/)])),speciality:new j.NI("",j.kI.compose([j.kI.required])),first_profile_image:new j.NI("",j.kI.compose([j.kI.required])),email:new j.NI("",j.kI.compose([j.kI.required,j.kI.pattern(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)])),password:new j.NI("",j.kI.compose([j.kI.required,j.kI.minLength(6)])),password_control:new j.NI("",j.kI.compose([j.kI.required]))})}ngOnInit(){this.newUserForm.controls.speciality.disable()}submit(){var ze=this;this.newUserForm.get("password")?.value==this.newUserForm.get("password_control")?.value?this.newUserForm.valid?this.register.NewUser(this.newUserForm.get("email")?.value,this.newUserForm.get("password")?.value).then((0,g.Z)(function*(){let Ve=yield ze.register.GetNewUserID();ze.profiles.addDocument(new ue.d(Ve,ze.newUserForm.get("name")?.value,ze.newUserForm.get("last_name")?.value,ze.newUserForm.get("age")?.value,ze.newUserForm.get("id_number")?.value,ze.newUserForm.get("email")?.value,1,0,[ze.newUserForm.get("speciality")?.value]).getLiteralObjectRepresentation()),ze.profileImages.addDocument(new pe.v(Ve,[ze.base64FirstImage]).getLiteralObjectRepresentation()),ze.register.VerifyUser(),ze.exit()})):this.newUserForm.markAllAsTouched():(this.passwordsDontMatch=!0,this.newUserForm.markAllAsTouched())}addSpeciality(){this.showSpecialities=!0}firstImageSubmitted(ze){this.convertFile(ze.target.files[0]).subscribe(Ve=>{this.base64FirstImage=Ve,this.newUserForm.get("first_profile_image")?.setValue("ok")})}convertFile(ze){const Ve=new ce.t(1),Mt=new FileReader;return Mt.readAsBinaryString(ze),Mt.onload=Tt=>{Tt&&Tt.target&&Tt.target.result&&Ve.next(btoa(Tt.target.result.toString()))},Ve}receiveSpeciality(ze){this.showSpecialities=!1,this.newUserForm.get("speciality")?.setValue(ze.name)}allHasBeenTouched(){return this.newUserForm.get("name")?.touched&&this.newUserForm.get("last_name")?.touched&&this.newUserForm.get("age")?.touched&&this.newUserForm.get("id_number")?.touched&&this.newUserForm.get("speciality")?.touched&&this.newUserForm.get("first_profile_image")?.touched&&this.newUserForm.get("email")?.touched&&this.newUserForm.get("password")?.touched&&this.newUserForm.get("password_control")?.touched}exit(){this.exitEmitter.emit()}}return Pe.\u0275fac=function(ze){return new(ze||Pe)(p.Y36(ye.a),p.Y36(we.H),p.Y36(Ne.x))},Pe.\u0275cmp=p.Xpm({type:Pe,selectors:[["app-specialist-register"]],outputs:{exitEmitter:"onExit"},decls:69,vars:30,consts:[["id","new-patient-form",3,"formGroup"],[1,"row"],[1,"border","border-dark","rounded","form-section"],[1,"pl-3","pt-3","pb-0"],[1,"row","p-3","pt-0"],[1,"col-6"],[1,"form-group"],["for","first-name"],["formControlName","name","type","text","name","first-name","id","first-name",1,"form-control",3,"ngClass"],["for","last-name"],["formControlName","last_name","type","text","name","last-name","id","last-name",1,"form-control",3,"ngClass"],["for","age"],["formControlName","age","type","number","name","age","id","age",1,"form-control",3,"ngClass"],["for","id-number"],["formControlName","id_number","type","text","name","id-number","id","id-number",1,"form-control",3,"ngClass"],[1,"border","border-dark","mt-3","rounded","form-section"],[1,"col-8"],["formControlName","speciality","type","text","name","speciality","id","speciality",1,"form-control",3,"ngClass"],[1,"col-4"],["id","add-speciality",1,"btn","btn-lg","btn-block","btn-info","form-control",3,"click"],[1,"border","border-dark","rounded","mt-3","form-section"],[1,"col-12"],[1,"input-group"],["type","file","id","first-profile-image",1,"form-control",3,"ngClass","change"],[1,"mt-3","mx-auto","border","border-dark","rounded","form-section"],["for","email"],["formControlName","email","type","text","name","email","id","email",1,"form-control",3,"ngClass"],[1,"col-12","my-2"],["for","password"],["formControlName","password","type","password","name","password","id","password",1,"form-control",3,"ngClass"],["for","password-control"],["formControlName","password_control","type","password","name","password-control","id","password-control",1,"form-control",3,"ngClass"],[1,"row","mt-3"],[1,"btn","lg-form-btn",3,"click"],[1,"btn","lg-form-btn","exit","mt-2",3,"click"],["class","alert alert-danger mt-3",4,"ngIf"],[3,"speciality",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[4,"ngIf"],[3,"speciality"]],template:function(ze,Ve){if(1&ze&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),p._uU(4,"Informaci\xf3n General"),p.qZA(),p.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),p._uU(9,"Nombre"),p.qZA(),p._UZ(10,"input",8),p.qZA()(),p.TgZ(11,"div",5)(12,"div",6)(13,"label",9),p._uU(14,"Apellido"),p.qZA(),p._UZ(15,"input",10),p.qZA()(),p.TgZ(16,"div",5)(17,"div",6)(18,"label",11),p._uU(19,"Edad"),p.qZA(),p._UZ(20,"input",12),p.qZA()(),p.TgZ(21,"div",5)(22,"div",6)(23,"label",13),p._uU(24,"DNI"),p.qZA(),p._UZ(25,"input",14),p.qZA()()()(),p.TgZ(26,"div",15)(27,"h3",3),p._uU(28,"Especialidad"),p.qZA(),p.TgZ(29,"div",4)(30,"div",16)(31,"div",6),p._UZ(32,"input",17),p.qZA()(),p.TgZ(33,"div",18)(34,"button",19),p.NdJ("click",function(){return Ve.addSpeciality()}),p._uU(35,"+"),p.qZA()()()(),p.TgZ(36,"div",20)(37,"h3",3),p._uU(38,"Imagen de Perfil"),p.qZA(),p.TgZ(39,"div",4)(40,"div",21)(41,"div",22)(42,"input",23),p.NdJ("change",function(Tt){return Ve.firstImageSubmitted(Tt)}),p.qZA()()()()(),p.TgZ(43,"div",24)(44,"h3",3),p._uU(45,"Credenciales"),p.qZA(),p.TgZ(46,"div",4)(47,"div",21)(48,"div",6)(49,"label",25),p._uU(50,"Email"),p.qZA(),p._UZ(51,"input",26),p.qZA()(),p.TgZ(52,"div",27)(53,"div",6)(54,"label",28),p._uU(55,"Contrase\xf1a"),p.qZA(),p._UZ(56,"input",29),p.qZA()(),p.TgZ(57,"div",27)(58,"div",6)(59,"label",30),p._uU(60,"Confirmaci\xf3n de contrase\xf1a"),p.qZA(),p._UZ(61,"input",31),p.qZA()()()()(),p.TgZ(62,"div",32)(63,"button",33),p.NdJ("click",function(){return Ve.submit()}),p._uU(64,"Enviar"),p.qZA(),p.TgZ(65,"button",34),p.NdJ("click",function(){return Ve.exit()}),p._uU(66,"Salir"),p.qZA()(),p.YNc(67,fe,16,15,"div",35),p.YNc(68,Fe,1,0,"app-specialities-selection",36),p.qZA()),2&ze){let Mt,Tt,Zt,Dt,En,Ht,gn,jn,Kn;p.Q6J("formGroup",Ve.newUserForm),p.xp6(10),p.Q6J("ngClass",p.VKq(12,$e,(null==(Mt=Ve.newUserForm.get("name"))?null:Mt.invalid)&&(null==(Mt=Ve.newUserForm.get("name"))?null:Mt.touched)&&Ve.allHasBeenTouched())),p.xp6(5),p.Q6J("ngClass",p.VKq(14,$e,(null==(Tt=Ve.newUserForm.get("last_name"))?null:Tt.invalid)&&(null==(Tt=Ve.newUserForm.get("last_name"))?null:Tt.touched)&&Ve.allHasBeenTouched())),p.xp6(5),p.Q6J("ngClass",p.VKq(16,$e,(null==(Zt=Ve.newUserForm.get("age"))?null:Zt.invalid)&&(null==(Zt=Ve.newUserForm.get("age"))?null:Zt.touched)&&Ve.allHasBeenTouched())),p.xp6(5),p.Q6J("ngClass",p.VKq(18,$e,(null==(Dt=Ve.newUserForm.get("id_number"))?null:Dt.invalid)&&(null==(Dt=Ve.newUserForm.get("id_number"))?null:Dt.touched)&&Ve.allHasBeenTouched())),p.xp6(7),p.Q6J("ngClass",p.VKq(20,$e,(null==(En=Ve.newUserForm.get("speciality"))?null:En.invalid)&&(null==(En=Ve.newUserForm.get("speciality"))?null:En.touched)&&Ve.allHasBeenTouched())),p.xp6(10),p.Q6J("ngClass",p.VKq(22,$e,(null==(Ht=Ve.newUserForm.get("first_profile_image"))?null:Ht.invalid)&&(null==(Ht=Ve.newUserForm.get("first_profile_image"))?null:Ht.touched)&&Ve.allHasBeenTouched())),p.xp6(9),p.Q6J("ngClass",p.VKq(24,$e,(null==(gn=Ve.newUserForm.get("email"))?null:gn.invalid)&&(null==(gn=Ve.newUserForm.get("email"))?null:gn.touched)&&Ve.allHasBeenTouched())),p.xp6(5),p.Q6J("ngClass",p.VKq(26,$e,(null==(jn=Ve.newUserForm.get("password"))?null:jn.invalid)&&(null==(jn=Ve.newUserForm.get("password"))?null:jn.touched)&&Ve.allHasBeenTouched())),p.xp6(5),p.Q6J("ngClass",p.VKq(28,$e,(null==(Kn=Ve.newUserForm.get("password_control"))?null:Kn.invalid)&&(null==(Kn=Ve.newUserForm.get("password_control"))?null:Kn.touched)&&Ve.allHasBeenTouched())),p.xp6(6),p.Q6J("ngIf",Ve.newUserForm.invalid&&Ve.newUserForm.touched&&Ve.allHasBeenTouched()||Ve.passwordsDontMatch&&Ve.allHasBeenTouched()),p.xp6(1),p.Q6J("ngIf",Ve.showSpecialities)}},dependencies:[se.mk,se.O5,j.Fj,j.wV,j.JJ,j.JL,j.sg,j.u,dt],styles:[".form-section[_ngcontent-%COMP%]{background-color:var(--dark);color:#fff}.lg-form-btn[_ngcontent-%COMP%]{width:100%!important;background-color:var(--light);color:#fff;font-size:calc(1.275rem + .3vw)}.exit[_ngcontent-%COMP%]{background-color:#7e1d1d}.new-patient-form[_ngcontent-%COMP%]{max-height:100%}#add-speciality[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;max-height:75%;font-size:x-large;font-weight:700;background-color:var(--light);border:none}"]}),Pe})()},7103:(Ot,Be,L)=>{L.r(Be),L.d(Be,{RegisterModule:()=>ye});var g=L(6895),p=L(433),j=L(9051),ce=L(4650);const pe=[];let ue=(()=>{class we{}return we.\u0275fac=function(se){return new(se||we)},we.\u0275mod=ce.oAB({type:we}),we.\u0275inj=ce.cJS({imports:[j.Bz.forChild(pe),j.Bz]}),we})(),ye=(()=>{class we{}return we.\u0275fac=function(se){return new(se||we)},we.\u0275mod=ce.oAB({type:we}),we.\u0275inj=ce.cJS({imports:[g.ez,ue,p.UX,p.u5]}),we})()},4732:(Ot,Be,L)=>{L.d(Be,{a:()=>pe});var g=L(5861),p=L(4650),j=L(1041),ce=L(9051);let pe=(()=>{class ue{constructor(we,Ne){this.auth=we,this.router=Ne}NewUser(we,Ne){return this.auth.createUserWithEmailAndPassword(we,Ne)}VerifyUser(){return this.auth.currentUser.then(we=>we?.sendEmailVerification().then(()=>this.router.navigate(["welcome"])))}GetNewUserID(){var we=this;return(0,g.Z)(function*(){return(yield we.auth.currentUser)?.uid})()}}return ue.\u0275fac=function(we){return new(we||ue)(p.LFG(j.zQ),p.LFG(ce.F0))},ue.\u0275prov=p.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})()},4869:(Ot,Be,L)=>{L.d(Be,{d:()=>j});var g=L(4650),p=L(7566);let j=(()=>{class ce{constructor(ue){this.firestore=ue,this.collectionPath="/specialities",this.specialitiesCollection=ue.collection(this.collectionPath)}getDocuments(){return this.specialitiesCollection.valueChanges({idField:"id"})}addDocument(ue){return this.specialitiesCollection.add(ue)}updateDocument(ue,ye){return this.specialitiesCollection.doc(ue).update(ye)}deleteDocument(ue){return this.specialitiesCollection.doc(ue).delete()}}return ce.\u0275fac=function(ue){return new(ue||ce)(g.LFG(p.ST))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},7556:(Ot,Be,L)=>{L.d(Be,{e:()=>ye});var g=L(7579),p=L(590),j=L(7101),ce=L(4650),pe=L(1041),ue=L(9181);let ye=(()=>{class we{constructor(se,le){this.auth=se,this.profiles=le,this.currentUser=null,this.currentProfile=new j.N,this.notifier$=new g.x}Login(se,le){return this.auth.signInWithEmailAndPassword(se,le)}RegisterUser(se,le){return this.auth.createUserWithEmailAndPassword(se,le)}SetCurrentUser(se){this.currentUser=se,this.profiles.getProfileByUID(se.uid).pipe((0,p.P)()).subscribe(le=>this.currentProfile=le[0]),this.Notify()}GetCurrentUserProfile(){return this.currentProfile}GetCurrentUserEmail(){return this.currentUser?.email}GetCurrentUserPhotoUrl(){return this.currentUser?.photoURL}GetCurrentUserDisplayName(){return this.currentUser?.displayName}GetCurrentUserID(){return this.currentUser?.uid}IsUserLoggedIn(){return null!=this.currentUser}LogOut(){this.currentUser=null,this.Notify()}Notify(){this.notifier$.next(this.currentUser)}UserActivity(){return this.notifier$}}return we.\u0275fac=function(se){return new(se||we)(ce.LFG(pe.zQ),ce.LFG(ue.H))},we.\u0275prov=ce.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},8931:(Ot,Be,L)=>{L.d(Be,{n:()=>ce});var g=L(7579),p=L(4650),j=L(7566);let ce=(()=>{class pe{constructor(ye){this.firestore=ye,this.display$=new g.x,this.notifyer$=new g.x,this.collectionPath="/captcha",this.captchaCollection=ye.collection(this.collectionPath)}getDocuments(){return this.captchaCollection.valueChanges()}addDocument(ye){return this.captchaCollection.add(ye)}updateDocument(ye,we){return this.captchaCollection.doc(ye).update(we)}deleteDocument(ye){return this.captchaCollection.doc(ye).delete()}getCaptchaObjectByImage(ye){return this.firestore.collection(this.collectionPath,we=>we.where("img","==",ye)).valueChanges()}getCaptchaObjectByName(ye){return this.firestore.collection(this.collectionPath,we=>we.where("name","==",ye)).valueChanges()}getCaptchaObjectByImgCode(ye){return this.firestore.collection(this.collectionPath,we=>we.where("imgCode","==",ye)).valueChanges()}CaptchaNotifications(){return this.notifyer$}NotifySuccess(){this.notifyer$.next("success")}NotifyFailure(){this.notifyer$.next("failure")}DisplayNotifications(){return this.display$}RevealCaptcha(){this.display$.next(!0)}HideCaptcha(){this.display$.next(!1)}}return pe.\u0275fac=function(ye){return new(ye||pe)(p.LFG(j.ST))},pe.\u0275prov=p.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},4471:(Ot,Be,L)=>{L.d(Be,{b:()=>j});var g=L(7579),p=L(4650);let j=(()=>{class ce{constructor(){this.notifier$=new g.x}loadingStart(){this.notifier$.next(!0)}loadingEnd(){this.notifier$.next(!1)}loadingNotifier(){return this.notifier$}}return ce.\u0275fac=function(ue){return new(ue||ce)},ce.\u0275prov=p.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},8709:(Ot,Be,L)=>{L.d(Be,{x:()=>j});var g=L(4650),p=L(7566);let j=(()=>{class ce{constructor(ue){this.firestore=ue,this.collectionPath="/profile-images",this.loginLogsCollection=ue.collection(this.collectionPath)}getDocuments(){return this.loginLogsCollection.valueChanges({idField:"id"})}addDocument(ue){return this.loginLogsCollection.add(ue)}updateDocument(ue,ye){return this.loginLogsCollection.doc(ue).update(ye)}deleteDocument(ue){return this.loginLogsCollection.doc(ue).delete()}getImagesByUID(ue){return this.firestore.collection(this.collectionPath,ye=>ye.where("uid","==",ue)).valueChanges({idField:"id"})}}return ce.\u0275fac=function(ue){return new(ue||ce)(g.LFG(p.ST))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},9181:(Ot,Be,L)=>{L.d(Be,{H:()=>j});var g=L(4650),p=L(7566);let j=(()=>{class ce{constructor(ue){this.firestore=ue,this.collectionPath="/profiles",this.profilesCollection=ue.collection(this.collectionPath)}getDocuments(){return this.profilesCollection.valueChanges({idField:"id"})}addDocument(ue){return this.profilesCollection.add(ue)}updateDocument(ue,ye){return this.profilesCollection.doc(ue).update(ye)}deleteDocument(ue){return this.profilesCollection.doc(ue).delete()}getProfileByUID(ue){return this.firestore.collection(this.collectionPath,ye=>ye.where("uid","==",ue)).valueChanges({idField:"id"})}getProfileByUserMail(ue){return this.firestore.collection(this.collectionPath,ye=>ye.where("user_email","==",ue)).valueChanges({idField:"id"})}getPatientProfiles(){return this.firestore.collection(this.collectionPath,ue=>ue.where("role","==",0)).valueChanges({idField:"id"})}getSpecialistsProfiles(){return this.firestore.collection(this.collectionPath,ue=>ue.where("role","==",1)).valueChanges({idField:"id"})}getAdminProfiles(){return this.firestore.collection(this.collectionPath,ue=>ue.where("role","==",2)).valueChanges({idField:"id"})}}return ce.\u0275fac=function(ue){return new(ue||ce)(g.LFG(p.ST))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},2340:(Ot,Be,L)=>{L.d(Be,{N:()=>g});const g={production:!0,firebaseConfig:{apiKey:"AIzaSyDLRMJzVNDBZhZoRxlPK6VRWzaG_hZVzcE",authDomain:"clinica-online-f088a.firebaseapp.com",projectId:"clinica-online-f088a",storageBucket:"clinica-online-f088a.appspot.com",messagingSenderId:"997385672796",appId:"1:997385672796:web:5920385801f0ed02b26e99"},quickAccessUsers:[{email:"audwcymmowjrndhnff@tmmwj.com",password:"123456"},{email:"ksiidepztdjducydyi@tmmcv.com",password:"123456"},{email:"perez.artaso@gmail.com",password:"clinica123"},{email:"twnlwvbbfsvirxdlaw@tmmcv.com",password:"123456"},{email:"dyetmwnsfzdkdtklxm@tmmwj.com",password:"123456"},{email:"ggphvidcwgztlimlhr@tmmbt.net",password:"123456"}],templateImg:"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAANQ0lEQVR4nO2dP4wd1RWHJ20i6JIGCiPReNMhAa0jLRXGBSQ0rBRvZ5uYithIRrKRQMIbVxBYd96NTJNgI9k4za7EumRXMpXXFJZwJGiSDiu0yXxjPTx+nnffvfPuzJx75/dJ1+/tFl7v83xz/twzM7/4X0khhGhEggjhQIII4UCCCOFAggjhQIII4UCCjIj97/aLpWeWynfCFwmSKT/+98di9/ZusX9vv/j69tfFnXt3qu9d+8s1SRKABMkEosPu/u7PMnz/7+/L7z7OmaNnitXDq+U74YMESZS6ECyigw/Lzy8XF09fLN8JHyRIIiDA9t52JQNrVoTw4e7nd8s/hQ8SxDBIgBRXv7pa1RKx+Oy9z4oXf/ti+U7MQ4IYg9Tpi50viq29rUqQLlAd4o8EMQAibN7Y7FSKOqpD/JEgA0FNcXXnavT0yYenf/N0sfPpTiHmI0F6Znt3u7iyc6XY2t0qvxoOBEEU4UaC9MAkWmzc2OglhfJh/dR68dILL5XvhAsJ0iEU3Jv/3CyufHWl/MoWb73+VrWEGwnSAexTfPT3j6pXq6hQ90OCRAQhrIsxgfqDOkS4kSARQIhUxKijHfX5SJAFQIgUxZigyd75SJAW0In6+B8fmyy+Q1Anaz4SJADatbRqiRo5QBeLJWYjQTwhjTr9yekqeuTC0ZePFu+uvlu+E7OQIHMgaiDG0DvfXcBEL5O9YjYSxMEknUKSHFk6sFRcu3CtfCdmIUEaQIhco8Y0avW6kSBT5FhruJAgbiRIDdIp1pjQXogbCVJCSnV87XgVPcYGRTrFumhm9IIwcfvOJ+/0ftGSFSSIm1ELQsQgchBBxsr5N88Xr/3utfKdaGK0gjAmQjE+dthJZ4lmRimI5HgIcrBEM6MTBDEQRDwAOViimVEJIjkeBzlYopnRCCI5mkEOlmhmFIJc+vJS8cHGB+U7MY2uTXeTvSBEDaKHaIY9EPZCRDNZCyI55iNB3GQrCDvkK+dWRr0J6IMEcZOlIEhx5M9HRjORuwiqQdxkKcgbZ9+oxkjEfOhgsUQz2QnCuDpL+IEcLNFMVoIQNYgewh/kYIlmshFEdUc7kIMlmslGENq5tHWt8dSvnyru/3S/EtgiyMESzWQhiMXUCjG479S3//rWpLgT9LxCN1kIcujEITOp1RO/fKI64F499GpxYu2E+SsV2QNhL0Q0k7wgdKxYFmBPgTsVPvmrJ4uVsyvm5QAJ4iZpQYgaFOZD5/dEjbU/rVU3gubfkooccGvzViW0aCZpQU799VT17L8hIZWaRI3U5ADdF8tNsoIQPag9hqIeNSYceftIUnLwO3zzt2/Kd2IWyQoyZPQgZ+fZGkSNCVbbzC74PahBxGySFIRJXWqPIWDPgFUnRTmA9JAoKGaTpCBDRA/SEaZeOevWSflqRURnidkkJ8gQtcfBAwerlIonw9bh7u/ceC5V+J3qNZR4nOQEYc+D1RekIZMuVR3SvNQvyKL+mI6I4lGSE+S5Pz7X20GJHE05Oj+fGoholjJq8c4nKUEohCmI+8B1z1rmvpj/ShkiBxFEuElKkGPnjxXbe9vlu25xyUF6x0odBilJHYWbZAQhrSG96pJZnaoJRA2iRw64TgLiIckI0kc71XXQICjdM15zQE+W8iMZQbpOr1xyAO1c2ro5QKTUiIkfSQjCWbvL9GqeHH02B/qAsXxSSTGfJAThzM0ZvAvmyUErl5YukuaCriL0JwlBuhotmScHUJRTnOeE6g9/khCE4pgzeUxmbQLW6TJyDQXXyt9cv1m+Ez6YFwQxECQmPjk4KRU/l9ec8DkxiIeYFyT2WZzBQ3aQp2erpukqrRsaDSiGYV6Q9y+9X2zc2ChiQHuT9GKeHNQc1B65we+v9m4Y5gXhQOWAjQGRY9YueZ2YP9MSSq/CMS8I+x8x6gDf2aPc9jzqKL0Kx7QgsQp06o7rF66X7+bDz+Pn5obSq3aYFoQ0h3RnETgwkGP6asAm+pj3GgrfCCoexbQgMQ5Y37SCNI7owWuO7Hy643WSEI9iWhCuu2C1xWe/YwI/h5UjNCZoUIhwTAtCekWa1QZSK5+WLhA1co4evlFUPE62goQM5BE5WDmi0ZLFMC0IZ/U2HaWQrhVRg5/Da474DGSK2ZgW5NnfP1v+GU7ItGrO+x6KHouTnSCh7UyiR5solQIhaaZoJitBQgpziD0IaYnQz0I0Y1YQinOK9BC4zyzLF/5+fk6O8DmwxGJkI0joGZO0ivQqR1R7xCMbQThbsnyJOUZvDTYF2RwUi5OFIKHRA2JNCVsjZHpAzCcLQYgcLF9ybu1q5iouyQvSJnp0fRO6oeAkwRLxSF6Q0H2PXIvzkOkB4U/ygoSmFDFG6C0SMj0g/DErCMzbKKRTQ8cmhNQe1eyDdsy7I2lBQgfxckyv2pwkhD/JCkJxHnqNdW7pFZ9BaINChJGsIKHFOeSWXhE5iCCiO0wLQpFOsd5EaHHOpiCbg7kQml6KdiQpSJuWZk6bg7oBXH+YFmTW/XHbpFez/q7UIKUitRL9YFoQrhNnTcMBwoESAukVaVbKEDn53VWU94dpQZq6TnRuQrtX+9/tV0+JShnJMQymBaH+oA6p0yb/bhItJSTHcJgWpGljr033JuXhRMkxLKYFgem9kFubt4IPllTrD8kxPOYFIcUi1QIKcw6YEFKtPySHDcwLUm/Pcq0DK4QU9z+4KpA6S3IMj3lBaPOyoE39URcsBdo0IUR3mBeE9Io0C9pc85DS/JXG1u1hXhCKa4psuPv53fLPMKaLfIuwt8NkQGh0FN1jXhB45e1XqnycojWEevSxCsU4jycIGbwU/ZGEINQRCMJZNgTrBToNB5awSxKCcKBDaApCcc+yBikV966ibS1sk4Qg7KhTi4QW6KRXpFmWUAs3LZIQpC2MqSCXBbhfLimiHoWWFlkLYqWDRZ3BNSyKGumRrSAWRkyoMdjbCE0NhR2yFYTagxpkCEiniBqhTQVhj2wFGeIaEImRH9kKQnuX1Qe0bSnArYpBNIU79+5U3cAJfJ80sA4blojOBqZqpowF6eMBOYjB7JSlApyDnoUMrEW6ePxOiLJ0YKk4+MzBqkXN98ZEtoJQf3CgdAEHDVLQsh36gCEi7N7eLbb2tqqHkvJ1lyALUYe1/MJy+Z28kSABMIpOGsXBMTT8bkRIpBgKTg6cJPhcLHwmXZCtILE2CcnHkYKDgPx8aLi2ZePLDXMj/Hw2fEYs3udCtoIsuknIfzRnR5YFEIOmQwzpu4ZoQjeP19SRIDUoQhGCRfpgAVIpJpJTEGMaBEldlNELYlEKQAj2cYasMWJBYX/08NEqKqfG6AShpuCMhhC8WpJiAsU36VTXHam+QZQzq2eqzz0VsheEvQr+QyZCWC4gEYJ0Koeo4YKmx8k/nDT9fzEhW0EYNUGIVAYFqTWOrx2vJBkDRG72kqhRLJOtICnBFZNEjjFCFOF2TpzMLCJBBgYxEGTsrL68Wpx8/WQVWSwhQQaCVIqUitRKPMBiNJEgA4AcK2dXzO2GW4G6hGUBCdIzksMPWsIfvvnh4E0WCdIjkiMcUi7awkMhQXpCcrQHQRBlCCRID0iOxSHluvze5d67XBKkB9TKjQNyXD53ude6RIJ0TB+X/o4N0i3Srj6QIB1C1CB6iPjQBmZ1jQTpCG5ct3Jupao/RFwYQOVRGH2kWhKkA5CCuzpyTYeIj1KsxGGEJPeR9aHgoivujt8XEiQyjNlzJaCID7dbun7hevmuPyRIREipSK1IsURcqDturt+sWr19IkEi0sW9uMQDOfoqyqeRIJFQatUdyDHUCLwEiQApFTeq41XEpc+OVRMSJAI8hZcbu4m4DC0HSJAFoeag9hBxsSAHSJAFQQ4kEfGwIgdIkAVRehUXS3KABImAOlhxsCYHSJBIkGYdO3+suP/T/fIrEQL7HBdPXxysletCgkSEnXTmsHj0mfADOdjnGGIT0AcJEhn2QrhISnXJfJitQo6+x0dCkCAdwTQvBbxSrmb6nsptiwTpEKIJkmzvbZdfCSClsvzI7GkkSA9w6S1p19ijCSnV+qn16hajqSBBeoICnuvT6XaNEa4fZ6WGBOkZahOiyQ//+aH8Kn+IGuxvWO1SzUOCDASPWGODMde0i1qDiLF6eLX8Kl0kyIBQxCNKbvfNokNFIW65feuLBDEA9QmikH6lHFEQg6iRUhE+DwliCCIK0SS11CtHMSZIEIMgCtEEWayOrfA4bfYykCNHMSZIEOOQfjG2wl6Khc7X8vPLlRg8VnsMSJCE4Ham7Mqzl8LqAyIFU7YIwWsOhXcIEiRhkGSykCdG3YIESMH+Be9T3b+IhQTJDGShhqnXLtPycODXQQakGLsMTUgQIRxIECEcSBAhHEgQIRxIECEcSBAhHEgQIRxIECEcSBAhHEgQIRxIECEcSBAhHEgQIRxIECEcSBAhHEgQIRxIECEcSBAhHEgQIRxIECEcSBAhHEgQIRxIECEcSBAhHEgQIRxIECEcSBAhHEgQIRxIECEcSBAhHPwfpbvDMFfu5IoAAAAASUVORK5CYII="}},1782:(Ot,Be,L)=>{var g=L(1481),p=L(4650),j=L(433),ce=L(2011),pe=L(1041),ue=L(7566),ye=L(9051);let we=(()=>{class P{constructor(){}ngOnInit(){}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275cmp=p.Xpm({type:P,selectors:[["app-home"]],decls:4,vars:0,consts:[[2,"width","100vw","height","80vh","display","flex","align-items","center","justify-content","center","flex-direction","column"],["src","assets/proximamente.png",2,"width","300px","height","300px"],[2,"font-weight","bolder","font-size","8rem"]],template:function(y,M){1&y&&(p.TgZ(0,"div",0),p._UZ(1,"img",1),p.TgZ(2,"h1",2),p._uU(3,"Pr\xf3ximamente"),p.qZA()())}}),P})();var Ne=L(4471),se=L(6895),le=L(1980),be=L(8619),gt=L(5861);class dt{constructor(){this.INVALID_EMAIL={ocurred:!1,message:"El formato del email ingresado no es v\xe1lido."},this.WRONG_PASSWORD={ocurred:!1,message:"Contrase\xf1a equivocada."},this.USER_NOT_FOUND={ocurred:!1,message:"Usuario inexistente."},this.EMAIL_REQUIRED={ocurred:!1,message:"Email requerido."},this.PASSWORD_REQUIRED={ocurred:!1,message:"Contrase\xf1a requerida."},this.EMAIL_NOT_VERIFIED={ocurred:!1,message:"El email no ha sido verificado."},this.SPECIALIST_NOT_APPROVED={ocurred:!1,message:"Su perfil de especialista a\xfan no fue aprobado por nuestros administradores."},this.OTHER={ocurred:!1,message:"Ha ocurrido un error."}}ClearErrors(){Object.entries(this).forEach(([m,y])=>{y.ocurred=!1})}HasError(){let m=!1;return Object.entries(this).forEach(([y,M])=>{1==M.ocurred&&(m=!0)}),m}}var Xe=L(2340),Rt=L(590),nt=L(7556),Ye=L(9181),Ft=L(7579);let Gt=(()=>{class P{constructor(){this.notifier$=new Ft.x}showNavbar(){this.notifier$.next(!0)}hideNavbar(){this.notifier$.next(!1)}navBarNotifier(){return this.notifier$}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275prov=p.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();var _e=L(8709);let st=(()=>{class P{constructor(){this.img_url=""}ngOnInit(){}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275cmp=p.Xpm({type:P,selectors:[["app-badge"]],inputs:{img_url:"img_url"},decls:4,vars:3,consts:[[1,"app-badge"],[1,"app-darkener"],[1,"app-glow-one"],[1,"app-glow-two"]],template:function(y,M){1&y&&(p.TgZ(0,"div",0),p._UZ(1,"div",1)(2,"div",2)(3,"div",3),p.qZA()),2&y&&p.Jzz("background-image: url(",M.img_url,");")},styles:[".app-badge[_ngcontent-%COMP%]{background-color:red;width:100%;height:100%;border-radius:5px;box-shadow:.2rem .2rem #888;background-position:center;background-repeat:no-repeat;background-size:cover;position:relative;overflow:hidden;z-index:2}.app-badge[_ngcontent-%COMP%]:active{box-shadow:none;transform:scale(.8)}.app-badge[_ngcontent-%COMP%]:hover{cursor:pointer}.app-glow-one[_ngcontent-%COMP%]{position:absolute;top:40%;height:10%;width:100%;background:rgb(255,255,255);background:linear-gradient(90deg,rgba(255,255,255,.4) 0%,rgba(255,255,255,0) 100%);transform:rotate(45deg) translateY(-10px);z-index:1;transition:all .5s 0s ease-in-out}.app-glow-two[_ngcontent-%COMP%]{position:absolute;top:80%;height:10%;width:100%;background:rgb(255,255,255);background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,.4) 100%);transform:rotate(45deg) translateY(-10px);z-index:1;transition:all .5s 0s ease-in-out}.app-darkener[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;opacity:.2;transition:all .5s 0s ease-in-out}.app-darkener[_ngcontent-%COMP%]:hover{opacity:0}.app-badge[_ngcontent-%COMP%]:hover > .app-glow-one[_ngcontent-%COMP%]{transform:rotate(45deg) translate(100%,-10px)}.app-badge[_ngcontent-%COMP%]:hover > .app-glow-two[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-150%,-10px)}"]}),P})();function it(P,m){if(1&P){const y=p.EpF();p.TgZ(0,"app-badge",16),p.NdJ("click",function(){const X=p.CHM(y).$implicit,ve=p.oxw();return p.KtG(ve.badgeClicked(X))}),p.qZA()}if(2&P){const y=m.$implicit,M=p.oxw();p.Q6J("img_url",M.setImageUrl(y.role))}}function yt(P,m){if(1&P&&(p.TgZ(0,"p",19),p._uU(1),p.qZA()),2&P){const y=p.oxw(2);p.xp6(1),p.hij(" ",y.errors.INVALID_EMAIL.message," ")}}function at(P,m){if(1&P&&(p.TgZ(0,"p",19),p._uU(1),p.qZA()),2&P){const y=p.oxw(2);p.xp6(1),p.hij(" ",y.errors.WRONG_PASSWORD.message," ")}}function me(P,m){if(1&P&&(p.TgZ(0,"p",19),p._uU(1),p.qZA()),2&P){const y=p.oxw(2);p.xp6(1),p.hij(" ",y.errors.USER_NOT_FOUND.message," ")}}function Je(P,m){if(1&P&&(p.TgZ(0,"p",19),p._uU(1),p.qZA()),2&P){const y=p.oxw(2);p.xp6(1),p.hij(" ",y.errors.EMAIL_REQUIRED.message," ")}}function ae(P,m){if(1&P&&(p.TgZ(0,"p",19),p._uU(1),p.qZA()),2&P){const y=p.oxw(2);p.xp6(1),p.hij(" ",y.errors.PASSWORD_REQUIRED.message," ")}}function Ae(P,m){if(1&P&&(p.TgZ(0,"p",19),p._uU(1),p.qZA()),2&P){const y=p.oxw(2);p.xp6(1),p.hij(" ",y.errors.EMAIL_NOT_VERIFIED.message," ")}}function fe(P,m){if(1&P&&(p.TgZ(0,"p",19),p._uU(1),p.qZA()),2&P){const y=p.oxw(2);p.xp6(1),p.hij(" ",y.errors.SPECIALIST_NOT_APPROVED.message," ")}}function Fe(P,m){if(1&P&&(p.TgZ(0,"p",19),p._uU(1),p.qZA()),2&P){const y=p.oxw(2);p.xp6(1),p.hij(" ",y.errors.OTHER.message," ")}}function $e(P,m){if(1&P&&(p.TgZ(0,"div",17),p.YNc(1,yt,2,1,"p",18),p.YNc(2,at,2,1,"p",18),p.YNc(3,me,2,1,"p",18),p.YNc(4,Je,2,1,"p",18),p.YNc(5,ae,2,1,"p",18),p.YNc(6,Ae,2,1,"p",18),p.YNc(7,fe,2,1,"p",18),p.YNc(8,Fe,2,1,"p",18),p.qZA()),2&P){const y=p.oxw();p.xp6(1),p.Q6J("ngIf",y.errors.INVALID_EMAIL.ocurred),p.xp6(1),p.Q6J("ngIf",y.errors.WRONG_PASSWORD.ocurred),p.xp6(1),p.Q6J("ngIf",y.errors.USER_NOT_FOUND.ocurred),p.xp6(1),p.Q6J("ngIf",y.errors.EMAIL_REQUIRED.ocurred),p.xp6(1),p.Q6J("ngIf",y.errors.PASSWORD_REQUIRED.ocurred),p.xp6(1),p.Q6J("ngIf",y.errors.EMAIL_NOT_VERIFIED.ocurred),p.xp6(1),p.Q6J("ngIf",y.errors.SPECIALIST_NOT_APPROVED.ocurred),p.xp6(1),p.Q6J("ngIf",y.errors.OTHER.ocurred)}}const Qe=function(P){return{quick_access_reveal:P}};let Pe=(()=>{class P{constructor(y,M,W,X,ve,Te){this.auth=y,this.router=M,this.profileService=W,this.navBarService=X,this.loadingService=ve,this.profileImages=Te,this._email="",this._password="",this._revealQuickAccess=!1,this.quickAccessButtons=[],this.quickAccessImages=[],this.errors=new dt,this.registerEmitter=new p.vpe}ngOnInit(){this.initLoadingIndicator(),this.auth.IsUserLoggedIn()&&this.router.navigate(["/home"]),this.profileService.getAdminProfiles().pipe((0,Rt.P)()).subscribe(y=>{this.quickAccessButtons[0]=y[0]}),this.profileService.getSpecialistsProfiles().pipe((0,Rt.P)()).subscribe(y=>{this.quickAccessButtons[1]=y[0],this.quickAccessButtons[2]=y[1]}),this.profileService.getPatientProfiles().pipe((0,Rt.P)()).subscribe(y=>{this.quickAccessButtons[3]=y[0],this.quickAccessButtons[4]=y[1],this.quickAccessButtons[5]=y[2],this.setQuickAccessImages()})}login(){var y=this;this.loadingService.loadingStart(),this.auth.Login(this._email,this._password).then(M=>{if(null!=M.user)if(M.user.emailVerified){this.auth.SetCurrentUser(M.user);let W=this.auth.GetCurrentUserID();W&&this.profileService.getProfileByUID(W).pipe((0,Rt.P)()).subscribe(function(){var X=(0,gt.Z)(function*(ve){null!=ve[0].approved&&W?1==ve[0].approved?(y.router.navigate(["/home"]),y.navBarService.showNavbar()):(y.loadingService.loadingEnd(),y.errors.SPECIALIST_NOT_APPROVED.ocurred=!0):(y.router.navigate(["/home"]),y.navBarService.showNavbar())});return function(ve){return X.apply(this,arguments)}}())}else this.loadingService.loadingEnd(),this.errors.EMAIL_NOT_VERIFIED.ocurred=!0}).catch(M=>{this.loadingService.loadingEnd(),this.errors.ClearErrors(),this.RequiredFieldsFilled()&&("auth/invalid-email"==M.code?this.errors.INVALID_EMAIL.ocurred=!0:"auth/wrong-password"==M.code?this.errors.WRONG_PASSWORD.ocurred=!0:"auth/user-not-found"==M.code?this.errors.USER_NOT_FOUND.ocurred=!0:(this.errors.OTHER.message=M.message,this.errors.OTHER.ocurred=!0))})}RequiredFieldsFilled(){return""==this._email?(this.errors.EMAIL_REQUIRED.ocurred=!0,!1):""!=this._password||(this.errors.PASSWORD_REQUIRED.ocurred=!0,!1)}registerRequest(){this.registerEmitter.emit()}initLoadingIndicator(){this.router.events.subscribe(y=>{y instanceof ye.OD?this.loadingService.loadingStart():y instanceof ye.m2&&this.loadingService.loadingEnd()})}toggleQuickAccessOptions(){this._revealQuickAccess=!this._revealQuickAccess}setQuickAccessImages(){this.quickAccessImages=new Array,this.quickAccessButtons.forEach(y=>{this.profileImages.getImagesByUID(y.uid).pipe((0,Rt.P)()).subscribe(M=>this.quickAccessImages.push(M[0]))})}getBase64ProfileImageByUid(y){return this.quickAccessImages.filter(M=>M.uid==y)[0]}setImageUrl(y){return 0==y?"assets/paciente.png":1==y?"assets/especialista.png":"assets/administrador.png"}badgeClicked(y){this._email=y.user_email,this._password=Xe.N.quickAccessUsers.filter(M=>M.email==y.user_email)[0].password}}return P.\u0275fac=function(y){return new(y||P)(p.Y36(nt.e),p.Y36(ye.F0),p.Y36(Ye.H),p.Y36(Gt),p.Y36(Ne.b),p.Y36(_e.x))},P.\u0275cmp=p.Xpm({type:P,selectors:[["app-login-form"]],outputs:{registerEmitter:"registerRequest"},decls:24,vars:7,consts:[[1,"login-container","text-center"],["id","quick_access_options",1,"btn","border","rounded",3,"click"],[1,"bi","bi-list"],["id","quick_access",3,"ngClass"],[3,"img_url","click",4,"ngFor","ngForOf"],[1,"form-signin","w-100","m-auto"],["src","../../../assets/logo-grande.png","alt","","width","200","height","200",1,"mb-4"],[1,"form-floating"],["type","email","name","email","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","password","name","password","id","floatingPassword","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],[1,"w-100","btn","btn-lg","btn-primary","mt-4","submit-customization",3,"click"],[1,"w-100","btn","btn-lg","btn-primary","mt-1","register-btn-customization",3,"click"],["class","alert alert-danger mt-5","role","alert",4,"ngIf"],[1,"mt-5","mb-3","text-muted"],[3,"img_url","click"],["role","alert",1,"alert","alert-danger","mt-5"],["class","m-0",4,"ngIf"],[1,"m-0"]],template:function(y,M){1&y&&(p.TgZ(0,"div",0)(1,"button",1),p.NdJ("click",function(){return M.toggleQuickAccessOptions()}),p._UZ(2,"i",2),p._uU(3," Acceso R\xe1pido"),p.qZA(),p.TgZ(4,"div",3),p.YNc(5,it,1,1,"app-badge",4),p.qZA(),p.TgZ(6,"main",5)(7,"form"),p._UZ(8,"img",6),p.TgZ(9,"div",7)(10,"input",8),p.NdJ("ngModelChange",function(X){return M._email=X}),p.qZA(),p.TgZ(11,"label",9),p._uU(12,"Email"),p.qZA()(),p.TgZ(13,"div",7)(14,"input",10),p.NdJ("ngModelChange",function(X){return M._password=X}),p.qZA(),p.TgZ(15,"label",11),p._uU(16,"Password"),p.qZA()(),p.TgZ(17,"button",12),p.NdJ("click",function(){return M.login()}),p._uU(18,"Ingresar"),p.qZA(),p.TgZ(19,"button",13),p.NdJ("click",function(){return M.registerRequest()}),p._uU(20,"Registro"),p.qZA(),p.YNc(21,$e,9,8,"div",14),p.TgZ(22,"p",15),p._uU(23,"\xa9 Ignacio Perez Artaso - 2022"),p.qZA()()()()),2&y&&(p.xp6(4),p.Q6J("ngClass",p.VKq(5,Qe,M._revealQuickAccess)),p.xp6(1),p.Q6J("ngForOf",M.quickAccessButtons),p.xp6(5),p.Q6J("ngModel",M._email),p.xp6(4),p.Q6J("ngModel",M._password),p.xp6(7),p.Q6J("ngIf",M.errors.HasError()))},dependencies:[se.mk,se.sg,se.O5,j._Y,j.Fj,j.JJ,j.JL,j.On,j.F,st],styles:[".login-container[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff;position:relative}.form-signin[_ngcontent-%COMP%]{max-width:330px;padding:15px}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.submit-customization[_ngcontent-%COMP%]{background-color:var(--dark)!important;border:none!important}.submit-customization[_ngcontent-%COMP%]:active{background-color:var(--dark);transform:scale(.95)}.register-btn-customization[_ngcontent-%COMP%]{background-color:var(--light)!important;border:none}.register-btn-customization[_ngcontent-%COMP%]:active{background-color:var(--light)!important;transform:scale(.95)}#quick_access_options[_ngcontent-%COMP%]{position:absolute;top:0;left:2rem}#quick_access[_ngcontent-%COMP%]{position:absolute;top:3rem;left:2rem;z-index:80;height:80%;width:12rem;border-radius:5px;transform:translate(-120%);transition:all 1s ease-in-out;display:flex;justify-content:space-evenly;flex-direction:column}.quick_access_reveal[_ngcontent-%COMP%]{transform:translate(0)!important}app-badge[_ngcontent-%COMP%]{width:4rem;height:4rem}"]}),P})();class qe{static getRandomIntInRange(m,y){return Math.floor(Math.random()*(y-m+1)+m)}}class Ve extends class ze{constructor(m){this._preSettedSources=[],this._addedSources=[],this._preSettedSources=m}setNewSource(m){""!=m&&m&&this._addedSources.push(m)}getRandomPreSettedImageSource(){return this._preSettedSources[qe.getRandomIntInRange(0,this._preSettedSources.length-1)]}getRandomAddedImageSource(){return this._addedSources[qe.getRandomIntInRange(0,this._addedSources.length-1)]}getPreSettedSources(){return this._preSettedSources}}{constructor(){super(["assets/background-images/bg-1.jpg","assets/background-images/bg-2.jpg","assets/background-images/bg-3.jpg","assets/background-images/bg-4.jpg","assets/background-images/bg-5.jpg","assets/background-images/bg-6.jpg","assets/background-images/bg-7.jpg","assets/background-images/bg-8.jpg"])}}let Mt=(()=>{class P{constructor(y,M){this.el=y,this.renderer=M,this.setBackImg()}setBackImg(){this.renderer.setStyle(this.el.nativeElement,"background-image","url("+(new Ve).getRandomPreSettedImageSource()+")")}}return P.\u0275fac=function(y){return new(y||P)(p.Y36(p.SBq),p.Y36(p.Qsj))},P.\u0275dir=p.lG2({type:P,selectors:[["","appRandomBgImage",""]]}),P})();function Tt(P,m){if(1&P){const y=p.EpF();p.TgZ(0,"app-login-form",5),p.NdJ("registerRequest",function(){p.CHM(y);const W=p.oxw();return p.KtG(W.registerRequested())}),p.qZA()}}function Zt(P,m){if(1&P){const y=p.EpF();p.TgZ(0,"app-patient-register",11),p.NdJ("onExit",function(){p.CHM(y);const W=p.oxw(2);return p.KtG(W.exitRegisterForm())}),p.qZA()}}function Dt(P,m){if(1&P){const y=p.EpF();p.TgZ(0,"app-specialist-register",11),p.NdJ("onExit",function(){p.CHM(y);const W=p.oxw(2);return p.KtG(W.exitRegisterForm())}),p.qZA()}}function En(P,m){if(1&P){const y=p.EpF();p.TgZ(0,"div",6),p.YNc(1,Zt,1,0,"app-patient-register",7),p.YNc(2,Dt,1,0,"app-specialist-register",7),p.qZA(),p.TgZ(3,"div",8)(4,"app-badge",9),p.NdJ("click",function(){p.CHM(y);const W=p.oxw();return p.KtG(W.patientForm=!0)}),p.qZA(),p.TgZ(5,"app-badge",10),p.NdJ("click",function(){p.CHM(y);const W=p.oxw();return p.KtG(W.patientForm=!1)}),p.qZA()()}if(2&P){const y=p.oxw();p.xp6(1),p.Q6J("ngIf",y.patientForm),p.xp6(1),p.Q6J("ngIf",!y.patientForm),p.xp6(2),p.Q6J("img_url","assets/nuevo-paciente.png"),p.xp6(1),p.Q6J("img_url","assets/nuevo-especialista.png")}}const gn=[{path:"",redirectTo:"welcome",pathMatch:"full"},{path:"welcome",component:(()=>{class P{constructor(y,M){this.router=y,this.loadingService=M,this.showRegisterForm=!1,this.specialistForm=!1,this.patientForm=!0}ngOnInit(){this.initLoadingIndicator()}registerRequested(){this.showRegisterForm=!0}exitRegisterForm(){this.showRegisterForm=!1}initLoadingIndicator(){this.router.events.subscribe(y=>{y instanceof ye.OD?this.loadingService.loadingStart():y instanceof ye.m2&&this.loadingService.loadingEnd()})}}return P.\u0275fac=function(y){return new(y||P)(p.Y36(ye.F0),p.Y36(Ne.b))},P.\u0275cmp=p.Xpm({type:P,selectors:[["app-welcome"]],decls:7,vars:2,consts:[[1,"row","full-page"],[1,"col-12","col-md-6","form-container"],[3,"registerRequest",4,"ngIf","ngIfElse"],["registerForm",""],["id","image-board","appRandomBgImage","",1,"col-6","d-md-block"],[3,"registerRequest"],[1,"register-form"],[3,"onExit",4,"ngIf"],[2,"height","6rem","width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center","margin-bottom","1rem"],[2,"width","25%","height","5rem","margin-bottom","1rem",3,"img_url","click"],[2,"width","25%","height","5rem",3,"img_url","click"],[3,"onExit"]],template:function(y,M){if(1&y&&(p.TgZ(0,"div")(1,"div",0)(2,"div",1),p.YNc(3,Tt,1,0,"app-login-form",2),p.YNc(4,En,6,4,"ng-template",null,3,p.W1O),p.qZA(),p._UZ(6,"div",4),p.qZA()()),2&y){const W=p.MAs(5);p.xp6(3),p.Q6J("ngIf",!M.showRegisterForm)("ngIfElse",W)}},dependencies:[se.O5,le.e,be.c,Pe,Mt,st],styles:[".full-page[_ngcontent-%COMP%]{min-height:100vh;min-width:100vw;overflow:hidden}.full-page[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.full-page[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}#image-board[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover;padding:0!important;display:none}.row[_ngcontent-%COMP%]{--bs-gutter-x: 0rem !important}.form-container[_ngcontent-%COMP%]{margin-top:0vh;overflow-y:scroll}.register-form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem}.form-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.form-container[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}@media (min-width: 1200px){.form-container[_ngcontent-%COMP%]{margin:auto 0}.register-form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem 10rem}}"]}),P})()},{path:"home",component:we,data:{animation:"HomePage"}},{path:"register",loadChildren:()=>Promise.resolve().then(L.bind(L,7103)).then(P=>P.RegisterModule)},{path:"admin",loadChildren:()=>L.e(961).then(L.bind(L,7961)).then(P=>P.AdminModule)},{path:"appointments",loadChildren:()=>Promise.all([L.e(592),L.e(452)]).then(L.bind(L,4452)).then(P=>P.AppointmentModule),data:{animation:"Fade"}},{path:"profile",loadChildren:()=>Promise.all([L.e(592),L.e(420)]).then(L.bind(L,8420)).then(P=>P.ProfileModule),data:{animation:"Profile"}},{path:"clinical-record",loadChildren:()=>Promise.all([L.e(592),L.e(870)]).then(L.bind(L,7870)).then(P=>P.ClinicalRecordModule)}];let jn=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=p.oAB({type:P}),P.\u0275inj=p.cJS({imports:[ye.Bz.forRoot(gn),ye.Bz]}),P})();class Kn{}const un="*";function Wt(P,m=null){return{type:4,styles:m,timings:P}}function Or(P,m=null){return{type:2,steps:P,options:m}}function mn(P){return{type:6,styles:P,offset:null}}function tr(P,m,y=null){return{type:1,expr:P,animation:m,options:y}}function yr(P,m,y=null){return{type:11,selector:P,animation:m,options:y}}function Hn(P){Promise.resolve().then(P)}class Xt{constructor(m=0,y=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=m+y}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Hn(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(m=>m()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(m){this._position=this.totalTime?m*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(m){const y="start"==m?this._onStartFns:this._onDoneFns;y.forEach(M=>M()),y.length=0}}class qt{constructor(m){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=m;let y=0,M=0,W=0;const X=this.players.length;0==X?Hn(()=>this._onFinish()):this.players.forEach(ve=>{ve.onDone(()=>{++y==X&&this._onFinish()}),ve.onDestroy(()=>{++M==X&&this._onDestroy()}),ve.onStart(()=>{++W==X&&this._onStart()})}),this.totalTime=this.players.reduce((ve,Te)=>Math.max(ve,Te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this.players.forEach(m=>m.init())}onStart(m){this._onStartFns.push(m)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(m=>m()),this._onStartFns=[])}onDone(m){this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(m=>m.play())}pause(){this.players.forEach(m=>m.pause())}restart(){this.players.forEach(m=>m.restart())}finish(){this._onFinish(),this.players.forEach(m=>m.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(m=>m.destroy()),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}reset(){this.players.forEach(m=>m.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(m){const y=m*this.totalTime;this.players.forEach(M=>{const W=M.totalTime?Math.min(1,y/M.totalTime):1;M.setPosition(W)})}getPosition(){const m=this.players.reduce((y,M)=>null===y||M.totalTime>y.totalTime?M:y,null);return null!=m?m.getPosition():0}beforeDestroy(){this.players.forEach(m=>{m.beforeDestroy&&m.beforeDestroy()})}triggerCallback(m){const y="start"==m?this._onStartFns:this._onDoneFns;y.forEach(M=>M()),y.length=0}}const wr=function br(P,m){return{type:7,name:P,definitions:m,options:{}}}("routeAnim",[tr("* => Fade",[mn({position:"relative"}),yr(":enter, :leave",[mn({position:"absolute",top:0,left:0,width:"100%"})],{optional:!0}),yr(":enter",[mn({transform:"scale(0)"})],{optional:!0}),yr(":leave",[mn({display:"block"}),Wt(1e3,mn({transform:"scale(0)"}))],{optional:!0}),yr(":enter",[Wt(1e3,mn({transform:"scale(1)"}))],{optional:!0})]),tr("HomePage <=> Profile",[mn({position:"relative"}),yr(":enter, :leave",[mn({position:"absolute",top:0,left:0,width:"100%"})],{optional:!0}),yr(":enter",[mn({opacity:"0"})],{optional:!0}),function Tr(P,m=null){return{type:3,steps:P,options:m}}([yr(":leave",[mn({display:"block"}),Wt(1e3,mn({transform:"translateX(-80px)",opacity:"0"}))],{optional:!0}),yr(":enter",[mn({transform:"translateX(80px)"}),Wt(1e3,mn({transform:"translateX(0)",opacity:"1"}))],{optional:!0})])])]);function fr(P,m){1&P&&(p.TgZ(0,"li",9)(1,"a",14),p._uU(2,"Mis Especialidades"),p.qZA()())}function fi(P,m){1&P&&(p.TgZ(0,"li",9)(1,"a",15),p._uU(2,"Mis Pacientes"),p.qZA()())}function wn(P,m){1&P&&(p.TgZ(0,"li",9)(1,"a",16),p._uU(2,"Mi Historia Cl\xednica"),p.qZA()())}function Li(P,m){1&P&&(p.TgZ(0,"li",9)(1,"a",17),p._uU(2,"Mis Turnos"),p.qZA()())}function Qn(P,m){1&P&&(p.TgZ(0,"li",9)(1,"a",17),p._uU(2,"Turnos"),p.qZA()())}function zi(P,m){1&P&&(p.TgZ(0,"li",9)(1,"a",18),p._uU(2,"Sacar Turno"),p.qZA()())}function $n(P,m){1&P&&(p.TgZ(0,"li",9)(1,"a",19),p._uU(2,"Nuevo Usuario"),p.qZA()())}function Ar(P,m){1&P&&(p.TgZ(0,"li",9)(1,"a",20),p._uU(2,"Usuarios"),p.qZA()())}function dn(P,m){1&P&&(p.TgZ(0,"li",9)(1,"a",21),p._uU(2,"Especialistas"),p.qZA()())}function zt(P,m){1&P&&(p.TgZ(0,"li",9)(1,"a",15),p._uU(2,"Historias Clinicas"),p.qZA()())}function mt(P,m){if(1&P){const y=p.EpF();p.TgZ(0,"nav",1)(1,"div",2)(2,"a",3),p._UZ(3,"img",4),p.qZA(),p.TgZ(4,"button",5),p._UZ(5,"span",6),p.qZA(),p.TgZ(6,"div",7)(7,"ul",8)(8,"li",9)(9,"a",10),p._uU(10,"Inicio"),p.qZA()(),p.TgZ(11,"li",9)(12,"a",11),p._uU(13,"Mi Perfil"),p.qZA()(),p.YNc(14,fr,3,0,"li",12),p.YNc(15,fi,3,0,"li",12),p.YNc(16,wn,3,0,"li",12),p.YNc(17,Li,3,0,"li",12),p.YNc(18,Qn,3,0,"li",12),p.YNc(19,zi,3,0,"li",12),p.YNc(20,$n,3,0,"li",12),p.YNc(21,Ar,3,0,"li",12),p.YNc(22,dn,3,0,"li",12),p.YNc(23,zt,3,0,"li",12),p.TgZ(24,"li",9)(25,"a",13),p.NdJ("click",function(){p.CHM(y);const W=p.oxw();return p.KtG(W.LogOut())}),p._uU(26,"Logout"),p.qZA()()()()()()}if(2&P){const y=p.oxw();p.xp6(14),p.Q6J("ngIf",1==y.profile.role),p.xp6(1),p.Q6J("ngIf",1==y.profile.role),p.xp6(1),p.Q6J("ngIf",0==y.profile.role),p.xp6(1),p.Q6J("ngIf",0==y.profile.role||1==y.profile.role),p.xp6(1),p.Q6J("ngIf",2==y.profile.role),p.xp6(1),p.Q6J("ngIf",0==y.profile.role||2==y.profile.role),p.xp6(1),p.Q6J("ngIf",2==y.profile.role),p.xp6(1),p.Q6J("ngIf",2==y.profile.role),p.xp6(1),p.Q6J("ngIf",2==y.profile.role),p.xp6(1),p.Q6J("ngIf",2==y.profile.role)}}let Lt=(()=>{class P{constructor(y,M,W,X){this.auth=y,this.router=M,this.navBarService=W,this.profileService=X,this.user=null,this.display=!1,this.profile={}}ngOnInit(){this.auth.UserActivity().subscribe(y=>{this.user=y,y&&this.profileService.getProfileByUID(y.uid).subscribe(M=>this.profile=M[0])}),this.navBarService.navBarNotifier().subscribe(y=>this.display=y)}LogOut(){this.auth.LogOut(),this.navBarService.hideNavbar(),this.router.navigate(["/welcome"])}}return P.\u0275fac=function(y){return new(y||P)(p.Y36(nt.e),p.Y36(ye.F0),p.Y36(Gt),p.Y36(Ye.H))},P.\u0275cmp=p.Xpm({type:P,selectors:[["app-nav-bar"]],decls:1,vars:1,consts:[["class","navbar navbar-expand-lg navbar-dark bg-primary navbar-customization",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary","navbar-customization"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","assets/logo-solo.png","width","50","height","50","alt","Bootstrap","loading","lazy",1,"d-inline-block","align-top"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent2","aria-controls","navbarSupportedContent2","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent2",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/home",1,"nav-link","active","nav-link-customization"],["aria-current","page","routerLink","/profile/my-profile",1,"nav-link","active","nav-link-customization"],["class","nav-item",4,"ngIf"],["aria-current","page",1,"nav-link","active","nav-link-customization",3,"click"],["aria-current","page","routerLink","/profile/specialities",1,"nav-link","active","nav-link-customization"],["aria-current","page","routerLink","/clinical-record/list",1,"nav-link","active","nav-link-customization"],["aria-current","page","routerLink","/clinical-record/state",1,"nav-link","active","nav-link-customization"],["aria-current","page","routerLink","/appointments/panel",1,"nav-link","active","nav-link-customization"],["aria-current","page","routerLink","/appointments/new",1,"nav-link","active","nav-link-customization"],["aria-current","page","routerLink","/admin/new-user",1,"nav-link","active","nav-link-customization"],["aria-current","page","routerLink","/admin/list-users",1,"nav-link","active","nav-link-customization"],["aria-current","page","routerLink","/admin/specialists",1,"nav-link","active","nav-link-customization"]],template:function(y,M){1&y&&p.YNc(0,mt,27,10,"nav",0),2&y&&p.Q6J("ngIf",M.display)},dependencies:[se.O5,ye.yS],styles:[".navbar-customization[_ngcontent-%COMP%]{background-color:#fff!important;border-bottom:.1rem solid #0D0F45!important;height:8vh!important}.nav-link-customization[_ngcontent-%COMP%]{color:#000}.active[_ngcontent-%COMP%]{color:#000!important}.navbar-toggler[_ngcontent-%COMP%]{background-color:#000}li[_ngcontent-%COMP%]:hover{cursor:pointer}img[_ngcontent-%COMP%]{margin:1rem 0}"]}),P})();function yn(P,m){1&P&&(p.TgZ(0,"div",1),p._UZ(1,"img",2),p.TgZ(2,"p"),p._uU(3,"Cargando..."),p.qZA()())}let pn=(()=>{class P{constructor(y){this.loadingService=y,this.display=!1}ngOnInit(){this.loadingService.loadingNotifier().subscribe(y=>this.display=y)}}return P.\u0275fac=function(y){return new(y||P)(p.Y36(Ne.b))},P.\u0275cmp=p.Xpm({type:P,selectors:[["app-loading"]],decls:1,vars:1,consts:[["class","loading-container",4,"ngIf"],[1,"loading-container"],["src","assets/loading.png","alt","loading-icon"]],template:function(y,M){1&y&&p.YNc(0,yn,4,0,"div",0),2&y&&p.Q6J("ngIf",M.display)},dependencies:[se.O5],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;flex-direction:column;z-index:99;position:fixed;inset:0;background-color:#38abab66}p[_ngcontent-%COMP%]{font-size:large}img[_ngcontent-%COMP%]{animation:rotation 4s infinite linear;border-radius:100%}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(359deg)}}"]}),P})();var _n=L(8931);function Ce(P,m){1&P&&(p.TgZ(0,"div",7),p._UZ(1,"i",8),p._uU(2," \xa1Correcto!"),p.qZA())}function he(P,m){if(1&P&&(p.TgZ(0,"div",9),p._UZ(1,"i",10),p._uU(2," Error, intente nuevamente "),p._UZ(3,"br"),p.TgZ(4,"small"),p._uU(5),p.qZA()()),2&P){const y=p.oxw(2);p.xp6(5),p.hij("Intentos restantes: ",y.remainingAttempts,"")}}function Se(P,m){if(1&P){const y=p.EpF();p.TgZ(0,"img",11),p.NdJ("click",function(){const X=p.CHM(y).$implicit,ve=p.oxw(2);return p.KtG(ve.onImageSelected(X.imgCode))}),p.qZA()}if(2&P){const y=m.$implicit,M=p.oxw(2);p.Q6J("src",M.getSanitizedSrc(y.img),p.LSH)}}function lt(P,m){if(1&P&&(p.TgZ(0,"div",1)(1,"div",2),p.YNc(2,Ce,3,0,"div",3),p.YNc(3,he,6,1,"div",4),p.TgZ(4,"h1"),p._uU(5,"Indique qu\xe9 im\xe1gen le remite a "),p.TgZ(6,"strong"),p._uU(7),p.qZA()()(),p.TgZ(8,"div",5),p.YNc(9,Se,1,1,"img",6),p.qZA()()),2&P){const y=p.oxw();p.xp6(2),p.Q6J("ngIf",y.revealSuccessMessage),p.xp6(1),p.Q6J("ngIf",y.revealErrorMessage),p.xp6(4),p.Oqu(y.selectedCaptchaObject.name.charAt(0).toUpperCase()+y.selectedCaptchaObject.name.slice(1)),p.xp6(2),p.Q6J("ngForOf",y.captchaObjects)}}let ke=(()=>{class P{constructor(y,M){this.captcha=y,this.sanitizer=M,this.display=!1,this.failureEmitter=new p.vpe,this.successEmitter=new p.vpe,this.captchaObjects=[],this.imageSources=[],this.revealSuccessMessage=!1,this.revealErrorMessage=!1,this.selectedCaptchaObject={img:"",imgCode:"",name:"cargando..."},this.remainingAttempts=3}ngOnInit(){this.captcha.DisplayNotifications().subscribe(y=>this.display=y),this.captcha.getDocuments().pipe((0,Rt.P)()).subscribe(y=>{this.captchaObjects=y,this.selectRandomCaptchaObject()})}getSanitizedSrc(y){return this.sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+y)}selectRandomCaptchaObject(){this.selectedCaptchaObject=this.captchaObjects[this.getRandomIntInRange(0,this.captchaObjects.length)]}getRandomIntInRange(y,M){return Math.floor(Math.random()*(M-y+1))+y}onImageSelected(y){this.selectedCaptchaObject.imgCode==y?this.onSuccess():this.onError()}onSuccess(){this.revealSuccessMessage=!0,this.revealErrorMessage=!1,setTimeout(()=>{this.successEmitter.emit(),this.captcha.NotifySuccess(),this.reset()},1500)}onError(){this.revealErrorMessage=!0,this.remainingAttempts--,0==this.remainingAttempts&&(this.failureEmitter.emit(),this.captcha.NotifyFailure(),this.reset())}reset(){this.revealErrorMessage=!1,this.revealSuccessMessage=!1,this.remainingAttempts=3,this.selectRandomCaptchaObject()}}return P.\u0275fac=function(y){return new(y||P)(p.Y36(_n.n),p.Y36(g.H7))},P.\u0275cmp=p.Xpm({type:P,selectors:[["app-captcha"]],outputs:{failureEmitter:"onAttemptsLimitReached",successEmitter:"onSuccess"},decls:1,vars:1,consts:[["id","captcha-full-screen-container",4,"ngIf"],["id","captcha-full-screen-container"],["id","captcha-container"],["class","alert alert-success result-message",4,"ngIf"],["class","alert alert-danger result-message",4,"ngIf"],["id","captcha-images-container"],[3,"src","click",4,"ngFor","ngForOf"],[1,"alert","alert-success","result-message"],[1,"bi","bi-check-circle-fill"],[1,"alert","alert-danger","result-message"],[1,"bi","bi-x-circle-fill"],[3,"src","click"]],template:function(y,M){1&y&&p.YNc(0,lt,10,4,"div",0),2&y&&p.Q6J("ngIf",M.display)},dependencies:[se.sg,se.O5],styles:["#captcha-full-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;flex-direction:column;z-index:99;position:fixed;inset:0;background-color:#38ababcc}#captcha-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:2rem}img[_ngcontent-%COMP%]{max-width:200px;max-height:200px;background-color:var(--dark);padding:1rem;border-radius:10px}img[_ngcontent-%COMP%]:hover{cursor:pointer}img[_ngcontent-%COMP%]:active{transform:scale(.95)}#captcha-images-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap;max-width:50%;margin-top:2rem;row-gap:2rem;column-gap:2rem}.result-message[_ngcontent-%COMP%]{text-align:center;font-size:x-large}"]}),P})(),Pt=(()=>{class P{constructor(y){this.contexts=y}prepareRoute(y){if(y.isActivated)return this.contexts.getContext("primary")?.route?.snapshot?.data?.animation}}return P.\u0275fac=function(y){return new(y||P)(p.Y36(ye.y6))},P.\u0275cmp=p.Xpm({type:P,selectors:[["app-root"]],decls:6,vars:1,consts:[["outlet","outlet"]],template:function(y,M){if(1&y&&(p._UZ(0,"app-nav-bar")(1,"app-loading"),p.TgZ(2,"div"),p._UZ(3,"router-outlet",null,0),p.qZA(),p._UZ(5,"app-captcha")),2&y){const W=p.MAs(4);p.xp6(2),p.Q6J("@routeAnim",M.prepareRoute(W))}},dependencies:[ye.lC,Lt,pn,ke],data:{animation:[wr]}}),P})();var sn=L(7103);function lr(P){return new p.vHH(3e3,!1)}function Wo(){return typeof window<"u"&&typeof window.document<"u"}function Pr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ui(P){switch(P.length){case 0:return new Xt;case 1:return P[0];default:return new qt(P)}}function bs(P,m,y,M,W=new Map,X=new Map){const ve=[],Te=[];let Ge=-1,ut=null;if(M.forEach(De=>{const Qt=De.get("offset"),Un=Qt==Ge,Vn=Un&&ut||new Map;De.forEach((an,hn)=>{let kr=hn,pr=an;if("offset"!==hn)switch(kr=m.normalizePropertyName(kr,ve),pr){case"!":pr=W.get(hn);break;case un:pr=X.get(hn);break;default:pr=m.normalizeStyleValue(hn,kr,pr,ve)}Vn.set(kr,pr)}),Un||Te.push(Vn),ut=Vn,Ge=Qt}),ve.length)throw function Ys(P){return new p.vHH(3502,!1)}();return Te}function Gs(P,m,y,M){switch(m){case"start":P.onStart(()=>M(y&&co(y,"start",P)));break;case"done":P.onDone(()=>M(y&&co(y,"done",P)));break;case"destroy":P.onDestroy(()=>M(y&&co(y,"destroy",P)))}}function co(P,m,y){const X=zs(P.element,P.triggerName,P.fromState,P.toState,m||P.phaseName,y.totalTime??P.totalTime,!!y.disabled),ve=P._data;return null!=ve&&(X._data=ve),X}function zs(P,m,y,M,W="",X=0,ve){return{element:P,triggerName:m,fromState:y,toState:M,phaseName:W,totalTime:X,disabled:!!ve}}function mr(P,m,y){let M=P.get(m);return M||P.set(m,M=y),M}function Me(P){const m=P.indexOf(":");return[P.substring(1,m),P.slice(m+1)]}let Re=(P,m)=>!1,He=(P,m,y)=>[],ft=null;function xt(P){const m=P.parentNode||P.host;return m===ft?null:m}(Pr()||typeof Element<"u")&&(Wo()?(ft=(()=>document.documentElement)(),Re=(P,m)=>{for(;m;){if(m===P)return!0;m=xt(m)}return!1}):Re=(P,m)=>P.contains(m),He=(P,m,y)=>{if(y)return Array.from(P.querySelectorAll(m));const M=P.querySelector(m);return M?[M]:[]});let $r=null,cr=!1;const wi=Re,Ii=He;let Us=(()=>{class P{validateStyleProperty(y){return function ss(P){$r||($r=function Js(){return typeof document<"u"?document.body:null}()||{},cr=!!$r.style&&"WebkitAppearance"in $r.style);let m=!0;return $r.style&&!function xn(P){return"ebkit"==P.substring(1,6)}(P)&&(m=P in $r.style,!m&&cr&&(m="Webkit"+P.charAt(0).toUpperCase()+P.slice(1)in $r.style)),m}(y)}matchesElement(y,M){return!1}containsElement(y,M){return wi(y,M)}getParentElement(y){return xt(y)}query(y,M,W){return Ii(y,M,W)}computeStyle(y,M,W){return W||""}animate(y,M,W,X,ve,Te=[],Ge){return new Xt(W,X)}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275prov=p.Yz7({token:P,factory:P.\u0275fac}),P})(),ho=(()=>{class P{}return P.NOOP=new Us,P})();const os="ng-enter",Ws="ng-leave",ms="ng-trigger",ys=".ng-trigger",Po="ng-animating",as=".ng-animating";function Zr(P){if("number"==typeof P)return P;const m=P.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:Kr(parseFloat(m[1]),m[2])}function Kr(P,m){return"s"===m?1e3*P:P}function gi(P,m,y){return P.hasOwnProperty("duration")?P:function _s(P,m,y){let W,X=0,ve="";if("string"==typeof P){const Te=P.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Te)return m.push(lr()),{duration:0,delay:0,easing:""};W=Kr(parseFloat(Te[1]),Te[2]);const Ge=Te[3];null!=Ge&&(X=Kr(parseFloat(Ge),Te[4]));const ut=Te[5];ut&&(ve=ut)}else W=P;if(!y){let Te=!1,Ge=m.length;W<0&&(m.push(function qn(){return new p.vHH(3100,!1)}()),Te=!0),X<0&&(m.push(function ge(){return new p.vHH(3101,!1)}()),Te=!0),Te&&m.splice(Ge,0,lr())}return{duration:W,delay:X,easing:ve}}(P,m,y)}function vo(P,m={}){return Object.keys(P).forEach(y=>{m[y]=P[y]}),m}function Di(P){const m=new Map;return Object.keys(P).forEach(y=>{m.set(y,P[y])}),m}function dr(P,m=new Map,y){if(y)for(let[M,W]of y)m.set(M,W);for(let[M,W]of P)m.set(M,W);return m}function Ri(P,m,y){return y?m+":"+y+";":""}function Eo(P){let m="";for(let y=0;y<P.style.length;y++){const M=P.style.item(y);m+=Ri(0,M,P.style.getPropertyValue(M))}for(const y in P.style)P.style.hasOwnProperty(y)&&!y.startsWith("_")&&(m+=Ri(0,qo(y),P.style[y]));P.setAttribute("style",m)}function Vr(P,m,y){P.style&&(m.forEach((M,W)=>{const X=Zi(W);y&&!y.has(W)&&y.set(W,P.style[X]),P.style[X]=M}),Pr()&&Eo(P))}function Rr(P,m){P.style&&(m.forEach((y,M)=>{const W=Zi(M);P.style[W]=""}),Pr()&&Eo(P))}function Gn(P){return Array.isArray(P)?1==P.length?P[0]:Or(P):P}const Ni=new RegExp("{{\\s*(.+?)\\s*}}","g");function Yn(P){let m=[];if("string"==typeof P){let y;for(;y=Ni.exec(P);)m.push(y[1]);Ni.lastIndex=0}return m}function Ss(P,m,y){const M=P.toString(),W=M.replace(Ni,(X,ve)=>{let Te=m[ve];return null==Te&&(y.push(function re(P){return new p.vHH(3003,!1)}()),Te=""),Te.toString()});return W==M?P:W}function vs(P){const m=[];let y=P.next();for(;!y.done;)m.push(y.value),y=P.next();return m}const ca=/-+([a-z0-9])/g;function Zi(P){return P.replace(ca,(...m)=>m[1].toUpperCase())}function qo(P){return P.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qr(P,m,y){switch(m.type){case 7:return P.visitTrigger(m,y);case 0:return P.visitState(m,y);case 1:return P.visitTransition(m,y);case 2:return P.visitSequence(m,y);case 3:return P.visitGroup(m,y);case 4:return P.visitAnimate(m,y);case 5:return P.visitKeyframes(m,y);case 6:return P.visitStyle(m,y);case 8:return P.visitReference(m,y);case 9:return P.visitAnimateChild(m,y);case 10:return P.visitAnimateRef(m,y);case 11:return P.visitQuery(m,y);case 12:return P.visitStagger(m,y);default:throw function Le(P){return new p.vHH(3004,!1)}()}}function Zo(P,m){return window.getComputedStyle(P)[m]}function eo(P,m){const y=[];return"string"==typeof P?P.split(/\s*,\s*/).forEach(M=>function Io(P,m,y){if(":"==P[0]){const Ge=function Yr(P,m){switch(P){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,M)=>parseFloat(M)>parseFloat(y);case":decrement":return(y,M)=>parseFloat(M)<parseFloat(y);default:return m.push(function ii(P){return new p.vHH(3016,!1)}()),"* => *"}}(P,y);if("function"==typeof Ge)return void m.push(Ge);P=Ge}const M=P.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return y.push(function ns(P){return new p.vHH(3015,!1)}()),m;const W=M[1],X=M[2],ve=M[3];m.push(Ki(W,ve));"<"==X[0]&&!("*"==W&&"*"==ve)&&m.push(Ki(ve,W))}(M,y,m)):y.push(P),y}const Es=new Set(["true","1"]),us=new Set(["false","0"]);function Ki(P,m){const y=Es.has(P)||us.has(P),M=Es.has(m)||us.has(m);return(W,X)=>{let ve="*"==P||P==W,Te="*"==m||m==X;return!ve&&y&&"boolean"==typeof W&&(ve=W?Es.has(P):us.has(P)),!Te&&M&&"boolean"==typeof X&&(Te=X?Es.has(m):us.has(m)),ve&&Te}}const to=new RegExp("s*:selfs*,?","g");function no(P,m,y,M){return new V(P).build(m,y,M)}class V{constructor(m){this._driver=m}build(m,y,M){const W=new Y(y);return this._resetContextStyleTimingState(W),Qr(this,Gn(m),W)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,y){let M=y.queryCount=0,W=y.depCount=0;const X=[],ve=[];return"@"==m.name.charAt(0)&&y.errors.push(function Kt(){return new p.vHH(3006,!1)}()),m.definitions.forEach(Te=>{if(this._resetContextStyleTimingState(y),0==Te.type){const Ge=Te,ut=Ge.name;ut.toString().split(/\s*,\s*/).forEach(De=>{Ge.name=De,X.push(this.visitState(Ge,y))}),Ge.name=ut}else if(1==Te.type){const Ge=this.visitTransition(Te,y);M+=Ge.queryCount,W+=Ge.depCount,ve.push(Ge)}else y.errors.push(function Dn(){return new p.vHH(3007,!1)}())}),{type:7,name:m.name,states:X,transitions:ve,queryCount:M,depCount:W,options:null}}visitState(m,y){const M=this.visitStyle(m.styles,y),W=m.options&&m.options.params||null;if(M.containsDynamicStyles){const X=new Set,ve=W||{};M.styles.forEach(Te=>{Te instanceof Map&&Te.forEach(Ge=>{Yn(Ge).forEach(ut=>{ve.hasOwnProperty(ut)||X.add(ut)})})}),X.size&&(vs(X.values()),y.errors.push(function on(P,m){return new p.vHH(3008,!1)}()))}return{type:0,name:m.name,style:M,options:W?{params:W}:null}}visitTransition(m,y){y.queryCount=0,y.depCount=0;const M=Qr(this,Gn(m.animation),y);return{type:1,matchers:eo(m.expr,y.errors),animation:M,queryCount:y.queryCount,depCount:y.depCount,options:rr(m.options)}}visitSequence(m,y){return{type:2,steps:m.steps.map(M=>Qr(this,M,y)),options:rr(m.options)}}visitGroup(m,y){const M=y.currentTime;let W=0;const X=m.steps.map(ve=>{y.currentTime=M;const Te=Qr(this,ve,y);return W=Math.max(W,y.currentTime),Te});return y.currentTime=W,{type:3,steps:X,options:rr(m.options)}}visitAnimate(m,y){const M=function en(P,m){if(P.hasOwnProperty("duration"))return P;if("number"==typeof P)return or(gi(P,m).duration,0,"");const y=P;if(y.split(/\s+/).some(X=>"{"==X.charAt(0)&&"{"==X.charAt(1))){const X=or(0,0,"");return X.dynamic=!0,X.strValue=y,X}const W=gi(y,m);return or(W.duration,W.delay,W.easing)}(m.timings,y.errors);y.currentAnimateTimings=M;let W,X=m.styles?m.styles:mn({});if(5==X.type)W=this.visitKeyframes(X,y);else{let ve=m.styles,Te=!1;if(!ve){Te=!0;const ut={};M.easing&&(ut.easing=M.easing),ve=mn(ut)}y.currentTime+=M.duration+M.delay;const Ge=this.visitStyle(ve,y);Ge.isEmptyStep=Te,W=Ge}return y.currentAnimateTimings=null,{type:4,timings:M,style:W,options:null}}visitStyle(m,y){const M=this._makeStyleAst(m,y);return this._validateStyleAst(M,y),M}_makeStyleAst(m,y){const M=[],W=Array.isArray(m.styles)?m.styles:[m.styles];for(let Te of W)"string"==typeof Te?Te===un?M.push(Te):y.errors.push(new p.vHH(3002,!1)):M.push(Di(Te));let X=!1,ve=null;return M.forEach(Te=>{if(Te instanceof Map&&(Te.has("easing")&&(ve=Te.get("easing"),Te.delete("easing")),!X))for(let Ge of Te.values())if(Ge.toString().indexOf("{{")>=0){X=!0;break}}),{type:6,styles:M,easing:ve,offset:m.offset,containsDynamicStyles:X,options:null}}_validateStyleAst(m,y){const M=y.currentAnimateTimings;let W=y.currentTime,X=y.currentTime;M&&X>0&&(X-=M.duration+M.delay),m.styles.forEach(ve=>{"string"!=typeof ve&&ve.forEach((Te,Ge)=>{const ut=y.collectedStyles.get(y.currentQuerySelector),De=ut.get(Ge);let Qt=!0;De&&(X!=W&&X>=De.startTime&&W<=De.endTime&&(y.errors.push(function bn(P,m,y,M,W){return new p.vHH(3010,!1)}()),Qt=!1),X=De.startTime),Qt&&ut.set(Ge,{startTime:X,endTime:W}),y.options&&function Ts(P,m,y){const M=m.params||{},W=Yn(P);W.length&&W.forEach(X=>{M.hasOwnProperty(X)||y.push(function oe(P){return new p.vHH(3001,!1)}())})}(Te,y.options,y.errors)})})}visitKeyframes(m,y){const M={type:5,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function Mr(){return new p.vHH(3011,!1)}()),M;let X=0;const ve=[];let Te=!1,Ge=!1,ut=0;const De=m.steps.map(pr=>{const ei=this._makeStyleAst(pr,y);let Pi=null!=ei.offset?ei.offset:function rt(P){if("string"==typeof P)return null;let m=null;if(Array.isArray(P))P.forEach(y=>{if(y instanceof Map&&y.has("offset")){const M=y;m=parseFloat(M.get("offset")),M.delete("offset")}});else if(P instanceof Map&&P.has("offset")){const y=P;m=parseFloat(y.get("offset")),y.delete("offset")}return m}(ei.styles),ws=0;return null!=Pi&&(X++,ws=ei.offset=Pi),Ge=Ge||ws<0||ws>1,Te=Te||ws<ut,ut=ws,ve.push(ws),ei});Ge&&y.errors.push(function di(){return new p.vHH(3012,!1)}()),Te&&y.errors.push(function ks(){return new p.vHH(3200,!1)}());const Qt=m.steps.length;let Un=0;X>0&&X<Qt?y.errors.push(function fs(){return new p.vHH(3202,!1)}()):0==X&&(Un=1/(Qt-1));const Vn=Qt-1,an=y.currentTime,hn=y.currentAnimateTimings,kr=hn.duration;return De.forEach((pr,ei)=>{const Pi=Un>0?ei==Vn?1:Un*ei:ve[ei],ws=Pi*kr;y.currentTime=an+hn.delay+ws,hn.duration=ws,this._validateStyleAst(pr,y),pr.offset=Pi,M.styles.push(pr)}),M}visitReference(m,y){return{type:8,animation:Qr(this,Gn(m.animation),y),options:rr(m.options)}}visitAnimateChild(m,y){return y.depCount++,{type:9,options:rr(m.options)}}visitAnimateRef(m,y){return{type:10,animation:this.visitReference(m.animation,y),options:rr(m.options)}}visitQuery(m,y){const M=y.currentQuerySelector,W=m.options||{};y.queryCount++,y.currentQuery=m;const[X,ve]=function k(P){const m=!!P.split(/\s*,\s*/).find(y=>":self"==y);return m&&(P=P.replace(to,"")),P=P.replace(/@\*/g,ys).replace(/@\w+/g,y=>ys+"-"+y.slice(1)).replace(/:animating/g,as),[P,m]}(m.selector);y.currentQuerySelector=M.length?M+" "+X:X,mr(y.collectedStyles,y.currentQuerySelector,new Map);const Te=Qr(this,Gn(m.animation),y);return y.currentQuery=null,y.currentQuerySelector=M,{type:11,selector:X,limit:W.limit||0,optional:!!W.optional,includeSelf:ve,animation:Te,originalSelector:m.selector,options:rr(m.options)}}visitStagger(m,y){y.currentQuery||y.errors.push(function qr(){return new p.vHH(3013,!1)}());const M="full"===m.timings?{duration:0,delay:0,easing:"full"}:gi(m.timings,y.errors,!0);return{type:12,animation:Qr(this,Gn(m.animation),y),timings:M,options:null}}}class Y{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rr(P){return P?(P=vo(P)).params&&(P.params=function R(P){return P?vo(P):null}(P.params)):P={},P}function or(P,m,y){return{duration:P,delay:m,easing:y}}function bi(P,m,y,M,W,X,ve=null,Te=!1){return{type:1,element:P,keyframes:m,preStyleProps:y,postStyleProps:M,duration:W,delay:X,totalTime:W+X,easing:ve,subTimeline:Te}}class ls{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,y){let M=this._map.get(m);M||this._map.set(m,M=[]),M.push(...y)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const To=new RegExp(":enter","g"),Qo=new RegExp(":leave","g");function So(P,m,y,M,W,X=new Map,ve=new Map,Te,Ge,ut=[]){return(new da).buildKeyframes(P,m,y,M,W,X,ve,Te,Ge,ut)}class da{buildKeyframes(m,y,M,W,X,ve,Te,Ge,ut,De=[]){ut=ut||new ls;const Qt=new Yo(m,y,ut,W,X,De,[]);Qt.options=Ge;const Un=Ge.delay?Zr(Ge.delay):0;Qt.currentTimeline.delayNextStep(Un),Qt.currentTimeline.setStyles([ve],null,Qt.errors,Ge),Qr(this,M,Qt);const Vn=Qt.timelines.filter(an=>an.containsAnimation());if(Vn.length&&Te.size){let an;for(let hn=Vn.length-1;hn>=0;hn--){const kr=Vn[hn];if(kr.element===y){an=kr;break}}an&&!an.allowOnlyTimelineStyles()&&an.setStyles([Te],null,Qt.errors,Ge)}return Vn.length?Vn.map(an=>an.buildKeyframes()):[bi(y,[],[],[],0,Un,"",!1)]}visitTrigger(m,y){}visitState(m,y){}visitTransition(m,y){}visitAnimateChild(m,y){const M=y.subInstructions.get(y.element);if(M){const W=y.createSubContext(m.options),X=y.currentTimeline.currentTime,ve=this._visitSubInstructions(M,W,W.options);X!=ve&&y.transformIntoNewTimeline(ve)}y.previousNode=m}visitAnimateRef(m,y){const M=y.createSubContext(m.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],y,M),this.visitReference(m.animation,M),y.transformIntoNewTimeline(M.currentTimeline.currentTime),y.previousNode=m}_applyAnimationRefDelays(m,y,M){for(const W of m){const X=W?.delay;if(X){const ve="number"==typeof X?X:Zr(Ss(X,W?.params??{},y.errors));M.delayNextStep(ve)}}}_visitSubInstructions(m,y,M){let X=y.currentTimeline.currentTime;const ve=null!=M.duration?Zr(M.duration):null,Te=null!=M.delay?Zr(M.delay):null;return 0!==ve&&m.forEach(Ge=>{const ut=y.appendInstructionToTimeline(Ge,ve,Te);X=Math.max(X,ut.duration+ut.delay)}),X}visitReference(m,y){y.updateOptions(m.options,!0),Qr(this,m.animation,y),y.previousNode=m}visitSequence(m,y){const M=y.subContextCount;let W=y;const X=m.options;if(X&&(X.params||X.delay)&&(W=y.createSubContext(X),W.transformIntoNewTimeline(),null!=X.delay)){6==W.previousNode.type&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=cs);const ve=Zr(X.delay);W.delayNextStep(ve)}m.steps.length&&(m.steps.forEach(ve=>Qr(this,ve,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>M&&W.transformIntoNewTimeline()),y.previousNode=m}visitGroup(m,y){const M=[];let W=y.currentTimeline.currentTime;const X=m.options&&m.options.delay?Zr(m.options.delay):0;m.steps.forEach(ve=>{const Te=y.createSubContext(m.options);X&&Te.delayNextStep(X),Qr(this,ve,Te),W=Math.max(W,Te.currentTimeline.currentTime),M.push(Te.currentTimeline)}),M.forEach(ve=>y.currentTimeline.mergeTimelineCollectedStyles(ve)),y.transformIntoNewTimeline(W),y.previousNode=m}_visitTiming(m,y){if(m.dynamic){const M=m.strValue;return gi(y.params?Ss(M,y.params,y.errors):M,y.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,y){const M=y.currentAnimateTimings=this._visitTiming(m.timings,y),W=y.currentTimeline;M.delay&&(y.incrementTime(M.delay),W.snapshotCurrentStyles());const X=m.style;5==X.type?this.visitKeyframes(X,y):(y.incrementTime(M.duration),this.visitStyle(X,y),W.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=m}visitStyle(m,y){const M=y.currentTimeline,W=y.currentAnimateTimings;!W&&M.hasCurrentStyleProperties()&&M.forwardFrame();const X=W&&W.easing||m.easing;m.isEmptyStep?M.applyEmptyStep(X):M.setStyles(m.styles,X,y.errors,y.options),y.previousNode=m}visitKeyframes(m,y){const M=y.currentAnimateTimings,W=y.currentTimeline.duration,X=M.duration,Te=y.createSubContext().currentTimeline;Te.easing=M.easing,m.styles.forEach(Ge=>{Te.forwardTime((Ge.offset||0)*X),Te.setStyles(Ge.styles,Ge.easing,y.errors,y.options),Te.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(Te),y.transformIntoNewTimeline(W+X),y.previousNode=m}visitQuery(m,y){const M=y.currentTimeline.currentTime,W=m.options||{},X=W.delay?Zr(W.delay):0;X&&(6===y.previousNode.type||0==M&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=cs);let ve=M;const Te=y.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!W.optional,y.errors);y.currentQueryTotal=Te.length;let Ge=null;Te.forEach((ut,De)=>{y.currentQueryIndex=De;const Qt=y.createSubContext(m.options,ut);X&&Qt.delayNextStep(X),ut===y.element&&(Ge=Qt.currentTimeline),Qr(this,m.animation,Qt),Qt.currentTimeline.applyStylesToKeyframe(),ve=Math.max(ve,Qt.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(ve),Ge&&(y.currentTimeline.mergeTimelineCollectedStyles(Ge),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=m}visitStagger(m,y){const M=y.parentContext,W=y.currentTimeline,X=m.timings,ve=Math.abs(X.duration),Te=ve*(y.currentQueryTotal-1);let Ge=ve*y.currentQueryIndex;switch(X.duration<0?"reverse":X.easing){case"reverse":Ge=Te-Ge;break;case"full":Ge=M.currentStaggerTime}const De=y.currentTimeline;Ge&&De.delayNextStep(Ge);const Qt=De.currentTime;Qr(this,m.animation,y),y.previousNode=m,M.currentStaggerTime=W.currentTime-Qt+(W.startTime-M.currentTimeline.startTime)}}const cs={};class Yo{constructor(m,y,M,W,X,ve,Te,Ge){this._driver=m,this.element=y,this.subInstructions=M,this._enterClassName=W,this._leaveClassName=X,this.errors=ve,this.timelines=Te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ge||new Ao(this._driver,y,0),Te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,y){if(!m)return;const M=m;let W=this.options;null!=M.duration&&(W.duration=Zr(M.duration)),null!=M.delay&&(W.delay=Zr(M.delay));const X=M.params;if(X){let ve=W.params;ve||(ve=this.options.params={}),Object.keys(X).forEach(Te=>{(!y||!ve.hasOwnProperty(Te))&&(ve[Te]=Ss(X[Te],ve,this.errors))})}}_copyOptions(){const m={};if(this.options){const y=this.options.params;if(y){const M=m.params={};Object.keys(y).forEach(W=>{M[W]=y[W]})}}return m}createSubContext(m=null,y,M){const W=y||this.element,X=new Yo(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,M||0));return X.previousNode=this.previousNode,X.currentAnimateTimings=this.currentAnimateTimings,X.options=this._copyOptions(),X.updateOptions(m),X.currentQueryIndex=this.currentQueryIndex,X.currentQueryTotal=this.currentQueryTotal,X.parentContext=this,this.subContextCount++,X}transformIntoNewTimeline(m){return this.previousNode=cs,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,y,M){const W={duration:y??m.duration,delay:this.currentTimeline.currentTime+(M??0)+m.delay,easing:""},X=new ha(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,W,m.stretchStartingKeyframe);return this.timelines.push(X),W}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,y,M,W,X,ve){let Te=[];if(W&&Te.push(this.element),m.length>0){m=(m=m.replace(To,"."+this._enterClassName)).replace(Qo,"."+this._leaveClassName);let ut=this._driver.query(this.element,m,1!=M);0!==M&&(ut=M<0?ut.slice(ut.length+M,ut.length):ut.slice(0,M)),Te.push(...ut)}return!X&&0==Te.length&&ve.push(function Fs(P){return new p.vHH(3014,!1)}()),Te}}class Ao{constructor(m,y,M,W){this._driver=m,this.element=y,this.startTime=M,this._elementTimelineStylesLookup=W,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+m),y&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,y){return this.applyStylesToKeyframe(),new Ao(this._driver,m,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,y){this._localTimelineStyles.set(m,y),this._globalTimelineStyles.set(m,y),this._styleSummary.set(m,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[y,M]of this._globalTimelineStyles)this._backFill.set(y,M||un),this._currentKeyframe.set(y,un);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,y,M,W){y&&this._previousKeyframe.set("easing",y);const X=W&&W.params||{},ve=function z(P,m){const y=new Map;let M;return P.forEach(W=>{if("*"===W){M=M||m.keys();for(let X of M)y.set(X,un)}else dr(W,y)}),y}(m,this._globalTimelineStyles);for(let[Te,Ge]of ve){const ut=Ss(Ge,X,M);this._pendingStyles.set(Te,ut),this._localTimelineStyles.has(Te)||this._backFill.set(Te,this._globalTimelineStyles.get(Te)??un),this._updateStyle(Te,ut)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,y)=>{this._currentKeyframe.set(y,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,m)}))}snapshotCurrentStyles(){for(let[m,y]of this._localTimelineStyles)this._pendingStyles.set(m,y),this._updateStyle(m,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let y in this._currentKeyframe)m.push(y);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((y,M)=>{const W=this._styleSummary.get(M);(!W||y.time>W.time)&&this._updateStyle(M,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,y=new Set,M=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((Te,Ge)=>{const ut=dr(Te,new Map,this._backFill);ut.forEach((De,Qt)=>{"!"===De?m.add(Qt):De===un&&y.add(Qt)}),M||ut.set("offset",Ge/this.duration),W.push(ut)});const X=m.size?vs(m.values()):[],ve=y.size?vs(y.values()):[];if(M){const Te=W[0],Ge=new Map(Te);Te.set("offset",0),Ge.set("offset",1),W=[Te,Ge]}return bi(this.element,W,X,ve,this.duration,this.startTime,this.easing,!1)}}class ha extends Ao{constructor(m,y,M,W,X,ve,Te=!1){super(m,y,ve.delay),this.keyframes=M,this.preStyleProps=W,this.postStyleProps=X,this._stretchStartingKeyframe=Te,this.timings={duration:ve.duration,delay:ve.delay,easing:ve.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:y,duration:M,easing:W}=this.timings;if(this._stretchStartingKeyframe&&y){const X=[],ve=M+y,Te=y/ve,Ge=dr(m[0]);Ge.set("offset",0),X.push(Ge);const ut=dr(m[0]);ut.set("offset",A(Te)),X.push(ut);const De=m.length-1;for(let Qt=1;Qt<=De;Qt++){let Un=dr(m[Qt]);const Vn=Un.get("offset");Un.set("offset",A((y+Vn*M)/ve)),X.push(Un)}M=ve,y=0,W="",m=X}return bi(this.element,m,this.preStyleProps,this.postStyleProps,M,y,W,!0)}}function A(P,m=3){const y=Math.pow(10,m-1);return Math.round(P*y)/y}class K{}const Ze=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ct extends K{normalizePropertyName(m,y){return Zi(m)}normalizeStyleValue(m,y,M,W){let X="";const ve=M.toString().trim();if(Ze.has(y)&&0!==M&&"0"!==M)if("number"==typeof M)X="px";else{const Te=M.match(/^[+-]?[\d\.]+([a-z]*)$/);Te&&0==Te[1].length&&W.push(function ht(P,m){return new p.vHH(3005,!1)}())}return ve+X}}function tn(P,m,y,M,W,X,ve,Te,Ge,ut,De,Qt,Un){return{type:0,element:P,triggerName:m,isRemovalTransition:W,fromState:y,fromStyles:X,toState:M,toStyles:ve,timelines:Te,queriedElements:Ge,preStyleProps:ut,postStyleProps:De,totalTime:Qt,errors:Un}}const Zn={};class vr{constructor(m,y,M){this._triggerName=m,this.ast=y,this._stateStyles=M}match(m,y,M,W){return function Jn(P,m,y,M,W){return P.some(X=>X(m,y,M,W))}(this.ast.matchers,m,y,M,W)}buildStyles(m,y,M){let W=this._stateStyles.get("*");return void 0!==m&&(W=this._stateStyles.get(m?.toString())||W),W?W.buildStyles(y,M):new Map}build(m,y,M,W,X,ve,Te,Ge,ut,De){const Qt=[],Un=this.ast.options&&this.ast.options.params||Zn,an=this.buildStyles(M,Te&&Te.params||Zn,Qt),hn=Ge&&Ge.params||Zn,kr=this.buildStyles(W,hn,Qt),pr=new Set,ei=new Map,Pi=new Map,ws="void"===W,ia={params:li(hn,Un),delay:this.ast.options?.delay},ti=De?[]:So(m,y,this.ast.animation,X,ve,an,kr,ia,ut,Qt);let Ti=0;if(ti.forEach(yi=>{Ti=Math.max(yi.duration+yi.delay,Ti)}),Qt.length)return tn(y,this._triggerName,M,W,ws,an,kr,[],[],ei,Pi,Ti,Qt);ti.forEach(yi=>{const Dr=yi.element,I=mr(ei,Dr,new Set);yi.preStyleProps.forEach(v=>I.add(v));const C=mr(Pi,Dr,new Set);yi.postStyleProps.forEach(v=>C.add(v)),Dr!==y&&pr.add(Dr)});const ji=vs(pr.values());return tn(y,this._triggerName,M,W,ws,an,kr,ti,ji,ei,Pi,Ti)}}function li(P,m){const y=vo(m);for(const M in P)P.hasOwnProperty(M)&&null!=P[M]&&(y[M]=P[M]);return y}class xr{constructor(m,y,M){this.styles=m,this.defaultParams=y,this.normalizer=M}buildStyles(m,y){const M=new Map,W=vo(this.defaultParams);return Object.keys(m).forEach(X=>{const ve=m[X];null!==ve&&(W[X]=ve)}),this.styles.styles.forEach(X=>{"string"!=typeof X&&X.forEach((ve,Te)=>{ve&&(ve=Ss(ve,W,y));const Ge=this.normalizer.normalizePropertyName(Te,y);ve=this.normalizer.normalizeStyleValue(Te,Ge,ve,y),M.set(Ge,ve)})}),M}}class ro{constructor(m,y,M){this.name=m,this.ast=y,this._normalizer=M,this.transitionFactories=[],this.states=new Map,y.states.forEach(W=>{this.states.set(W.name,new xr(W.style,W.options&&W.options.params||{},M))}),Bi(this.states,"true","1"),Bi(this.states,"false","0"),y.transitions.forEach(W=>{this.transitionFactories.push(new vr(m,W,this.states))}),this.fallbackTransition=function qs(P,m,y){return new vr(P,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ve,Te)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,y,M,W){return this.transitionFactories.find(ve=>ve.match(m,y,M,W))||null}matchStyles(m,y,M){return this.fallbackTransition.buildStyles(m,y,M)}}function Bi(P,m,y){P.has(m)?P.has(y)||P.set(y,P.get(m)):P.has(y)&&P.set(m,P.get(y))}const Mo=new ls;class Zs{constructor(m,y,M){this.bodyNode=m,this._driver=y,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,y){const M=[],X=no(this._driver,y,M,[]);if(M.length)throw function Ds(P){return new p.vHH(3503,!1)}();this._animations.set(m,X)}_buildPlayer(m,y,M){const W=m.element,X=bs(0,this._normalizer,0,m.keyframes,y,M);return this._driver.animate(W,X,m.duration,m.delay,m.easing,[],!0)}create(m,y,M={}){const W=[],X=this._animations.get(m);let ve;const Te=new Map;if(X?(ve=So(this._driver,y,X,os,Ws,new Map,new Map,M,Mo,W),ve.forEach(De=>{const Qt=mr(Te,De.element,new Map);De.postStyleProps.forEach(Un=>Qt.set(Un,null))})):(W.push(function Mi(){return new p.vHH(3300,!1)}()),ve=[]),W.length)throw function Ls(P){return new p.vHH(3504,!1)}();Te.forEach((De,Qt)=>{De.forEach((Un,Vn)=>{De.set(Vn,this._driver.computeStyle(Qt,Vn,un))})});const ut=ui(ve.map(De=>{const Qt=Te.get(De.element);return this._buildPlayer(De,new Map,Qt)}));return this._playersById.set(m,ut),ut.onDestroy(()=>this.destroy(m)),this.players.push(ut),ut}destroy(m){const y=this._getPlayer(m);y.destroy(),this._playersById.delete(m);const M=this.players.indexOf(y);M>=0&&this.players.splice(M,1)}_getPlayer(m){const y=this._playersById.get(m);if(!y)throw function rs(P){return new p.vHH(3301,!1)}();return y}listen(m,y,M,W){const X=zs(y,"","","");return Gs(this._getPlayer(m),M,X,W),()=>{}}command(m,y,M,W){if("register"==M)return void this.register(m,W[0]);if("create"==M)return void this.create(m,y,W[0]||{});const X=this._getPlayer(m);switch(M){case"play":X.play();break;case"pause":X.pause();break;case"reset":X.reset();break;case"restart":X.restart();break;case"finish":X.finish();break;case"init":X.init();break;case"setPosition":X.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(m)}}}const Ks="ng-animate-queued",Lo="ng-animate-disabled",wa=[],Ja={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ja={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qi="__ng_removed";class Uo{constructor(m,y=""){this.namespaceId=y;const M=m&&m.hasOwnProperty("value");if(this.value=function mi(P){return P??null}(M?m.value:m),M){const X=vo(m);delete X.value,this.options=X}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(m){const y=m.params;if(y){const M=this.options.params;Object.keys(y).forEach(W=>{null==M[W]&&(M[W]=y[W])})}}}const Jo="void",Xo=new Uo(Jo);class Xa{constructor(m,y,M){this.id=m,this.hostElement=y,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,An(y,this._hostClassName)}listen(m,y,M,W){if(!this._triggers.has(y))throw function xi(P,m){return new p.vHH(3302,!1)}();if(null==M||0==M.length)throw function ps(P){return new p.vHH(3303,!1)}();if(!function io(P){return"start"==P||"done"==P}(M))throw function Hr(P,m){return new p.vHH(3400,!1)}();const X=mr(this._elementListeners,m,[]),ve={name:y,phase:M,callback:W};X.push(ve);const Te=mr(this._engine.statesByElement,m,new Map);return Te.has(y)||(An(m,ms),An(m,ms+"-"+y),Te.set(y,Xo)),()=>{this._engine.afterFlush(()=>{const Ge=X.indexOf(ve);Ge>=0&&X.splice(Ge,1),this._triggers.has(y)||Te.delete(y)})}}register(m,y){return!this._triggers.has(m)&&(this._triggers.set(m,y),!0)}_getTrigger(m){const y=this._triggers.get(m);if(!y)throw function is(P){return new p.vHH(3401,!1)}();return y}trigger(m,y,M,W=!0){const X=this._getTrigger(y),ve=new Oi(this.id,y,m);let Te=this._engine.statesByElement.get(m);Te||(An(m,ms),An(m,ms+"-"+y),this._engine.statesByElement.set(m,Te=new Map));let Ge=Te.get(y);const ut=new Uo(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&Ge&&ut.absorbOptions(Ge.options),Te.set(y,ut),Ge||(Ge=Xo),ut.value!==Jo&&Ge.value===ut.value){if(!function tu(P,m){const y=Object.keys(P),M=Object.keys(m);if(y.length!=M.length)return!1;for(let W=0;W<y.length;W++){const X=y[W];if(!m.hasOwnProperty(X)||P[X]!==m[X])return!1}return!0}(Ge.params,ut.params)){const hn=[],kr=X.matchStyles(Ge.value,Ge.params,hn),pr=X.matchStyles(ut.value,ut.params,hn);hn.length?this._engine.reportError(hn):this._engine.afterFlush(()=>{Rr(m,kr),Vr(m,pr)})}return}const Un=mr(this._engine.playersByElement,m,[]);Un.forEach(hn=>{hn.namespaceId==this.id&&hn.triggerName==y&&hn.queued&&hn.destroy()});let Vn=X.matchTransition(Ge.value,ut.value,m,ut.params),an=!1;if(!Vn){if(!W)return;Vn=X.fallbackTransition,an=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:y,transition:Vn,fromState:Ge,toState:ut,player:ve,isFallbackTransition:an}),an||(An(m,Ks),ve.onStart(()=>{ci(m,Ks)})),ve.onDone(()=>{let hn=this.players.indexOf(ve);hn>=0&&this.players.splice(hn,1);const kr=this._engine.playersByElement.get(m);if(kr){let pr=kr.indexOf(ve);pr>=0&&kr.splice(pr,1)}}),this.players.push(ve),Un.push(ve),ve}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(y=>y.delete(m)),this._elementListeners.forEach((y,M)=>{this._elementListeners.set(M,y.filter(W=>W.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const y=this._engine.playersByElement.get(m);y&&(y.forEach(M=>M.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,y){const M=this._engine.driver.query(m,ys,!0);M.forEach(W=>{if(W[Qi])return;const X=this._engine.fetchNamespacesByElement(W);X.size?X.forEach(ve=>ve.triggerLeaveAnimation(W,y,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(m,y,M,W){const X=this._engine.statesByElement.get(m),ve=new Map;if(X){const Te=[];if(X.forEach((Ge,ut)=>{if(ve.set(ut,Ge.value),this._triggers.has(ut)){const De=this.trigger(m,ut,Jo,W);De&&Te.push(De)}}),Te.length)return this._engine.markElementAsRemoved(this.id,m,!0,y,ve),M&&ui(Te).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const y=this._elementListeners.get(m),M=this._engine.statesByElement.get(m);if(y&&M){const W=new Set;y.forEach(X=>{const ve=X.name;if(W.has(ve))return;W.add(ve);const Ge=this._triggers.get(ve).fallbackTransition,ut=M.get(ve)||Xo,De=new Uo(Jo),Qt=new Oi(this.id,ve,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:ve,transition:Ge,fromState:ut,toState:De,player:Qt,isFallbackTransition:!0})})}}removeNode(m,y){const M=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,y),this.triggerLeaveAnimation(m,y,!0))return;let W=!1;if(M.totalAnimations){const X=M.players.length?M.playersByQueriedElement.get(m):[];if(X&&X.length)W=!0;else{let ve=m;for(;ve=ve.parentNode;)if(M.statesByElement.get(ve)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(m),W)M.markElementAsRemoved(this.id,m,!1,y);else{const X=m[Qi];(!X||X===Ja)&&(M.afterFlush(()=>this.clearElementCache(m)),M.destroyInnerAnimations(m),M._onRemovalComplete(m,y))}}insertNode(m,y){An(m,this._hostClassName)}drainQueuedTransitions(m){const y=[];return this._queue.forEach(M=>{const W=M.player;if(W.destroyed)return;const X=M.element,ve=this._elementListeners.get(X);ve&&ve.forEach(Te=>{if(Te.name==M.triggerName){const Ge=zs(X,M.triggerName,M.fromState.value,M.toState.value);Ge._data=m,Gs(M.player,Te.phase,Ge,Te.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):y.push(M)}),this._queue=[],y.sort((M,W)=>{const X=M.transition.ast.depCount,ve=W.transition.ast.depCount;return 0==X||0==ve?X-ve:this._engine.driver.containsElement(M.element,W.element)?1:-1})}destroy(m){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let y=!1;return this._elementListeners.has(m)&&(y=!0),y=!!this._queue.find(M=>M.element===m)||y,y}}class Ia{constructor(m,y,M){this.bodyNode=m,this.driver=y,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,X)=>{}}_onRemovalComplete(m,y){this.onRemovalComplete(m,y)}get queuedPlayers(){const m=[];return this._namespaceList.forEach(y=>{y.players.forEach(M=>{M.queued&&m.push(M)})}),m}createNamespace(m,y){const M=new Xa(m,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(M,y):(this.newHostElements.set(y,M),this.collectEnterElement(y)),this._namespaceLookup[m]=M}_balanceNamespaceList(m,y){const M=this._namespaceList,W=this.namespacesByHostElement;if(M.length-1>=0){let ve=!1,Te=this.driver.getParentElement(y);for(;Te;){const Ge=W.get(Te);if(Ge){const ut=M.indexOf(Ge);M.splice(ut+1,0,m),ve=!0;break}Te=this.driver.getParentElement(Te)}ve||M.unshift(m)}else M.push(m);return W.set(y,m),m}register(m,y){let M=this._namespaceLookup[m];return M||(M=this.createNamespace(m,y)),M}registerTrigger(m,y,M){let W=this._namespaceLookup[m];W&&W.register(y,M)&&this.totalAnimations++}destroy(m,y){if(!m)return;const M=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[m];const W=this._namespaceList.indexOf(M);W>=0&&this._namespaceList.splice(W,1)}),this.afterFlushAnimationsDone(()=>M.destroy(y))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const y=new Set,M=this.statesByElement.get(m);if(M)for(let W of M.values())if(W.namespaceId){const X=this._fetchNamespace(W.namespaceId);X&&y.add(X)}return y}trigger(m,y,M,W){if(Yi(y)){const X=this._fetchNamespace(m);if(X)return X.trigger(y,M,W),!0}return!1}insertNode(m,y,M,W){if(!Yi(y))return;const X=y[Qi];if(X&&X.setForRemoval){X.setForRemoval=!1,X.setForMove=!0;const ve=this.collectedLeaveElements.indexOf(y);ve>=0&&this.collectedLeaveElements.splice(ve,1)}if(m){const ve=this._fetchNamespace(m);ve&&ve.insertNode(y,M)}W&&this.collectEnterElement(y)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,y){y?this.disabledNodes.has(m)||(this.disabledNodes.add(m),An(m,Lo)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),ci(m,Lo))}removeNode(m,y,M,W){if(Yi(y)){const X=m?this._fetchNamespace(m):null;if(X?X.removeNode(y,W):this.markElementAsRemoved(m,y,!1,W),M){const ve=this.namespacesByHostElement.get(y);ve&&ve.id!==m&&ve.removeNode(y,W)}}else this._onRemovalComplete(y,W)}markElementAsRemoved(m,y,M,W,X){this.collectedLeaveElements.push(y),y[Qi]={namespaceId:m,setForRemoval:W,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:X}}listen(m,y,M,W,X){return Yi(y)?this._fetchNamespace(m).listen(y,M,W,X):()=>{}}_buildInstruction(m,y,M,W,X){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,M,W,m.fromState.options,m.toState.options,y,X)}destroyInnerAnimations(m){let y=this.driver.query(m,ys,!0);y.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(m,as,!0),y.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(m){const y=this.playersByElement.get(m);y&&y.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(m){const y=this.playersByQueriedElement.get(m);y&&y.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return ui(this.players).onDone(()=>m());m()})}processLeaveNode(m){const y=m[Qi];if(y&&y.setForRemoval){if(m[Qi]=Ja,y.namespaceId){this.destroyInnerAnimations(m);const M=this._fetchNamespace(y.namespaceId);M&&M.clearElementCache(m)}this._onRemovalComplete(m,y.setForRemoval)}m.classList?.contains(Lo)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(m=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,W)=>this._balanceNamespaceList(M,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)An(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{y=this._flushAnimations(M,m)}finally{for(let W=0;W<M.length;W++)M[W]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],y.length?ui(y).onDone(()=>{M.forEach(W=>W())}):M.forEach(W=>W())}}reportError(m){throw function Ur(P){return new p.vHH(3402,!1)}()}_flushAnimations(m,y){const M=new ls,W=[],X=new Map,ve=[],Te=new Map,Ge=new Map,ut=new Map,De=new Set;this.disabledNodes.forEach(G=>{De.add(G);const ee=this.driver.query(G,".ng-animate-queued",!0);for(let ne=0;ne<ee.length;ne++)De.add(ee[ne])});const Qt=this.bodyNode,Un=Array.from(this.statesByElement.keys()),Vn=bt(Un,this.collectedEnterElements),an=new Map;let hn=0;Vn.forEach((G,ee)=>{const ne=os+hn++;an.set(ee,ne),G.forEach(je=>An(je,ne))});const kr=[],pr=new Set,ei=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const ee=this.collectedLeaveElements[G],ne=ee[Qi];ne&&ne.setForRemoval&&(kr.push(ee),pr.add(ee),ne.hasAnimation?this.driver.query(ee,".ng-star-inserted",!0).forEach(je=>pr.add(je)):ei.add(ee))}const Pi=new Map,ws=bt(Un,Array.from(pr));ws.forEach((G,ee)=>{const ne=Ws+hn++;Pi.set(ee,ne),G.forEach(je=>An(je,ne))}),m.push(()=>{Vn.forEach((G,ee)=>{const ne=an.get(ee);G.forEach(je=>ci(je,ne))}),ws.forEach((G,ee)=>{const ne=Pi.get(ee);G.forEach(je=>ci(je,ne))}),kr.forEach(G=>{this.processLeaveNode(G)})});const ia=[],ti=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(y).forEach(ne=>{const je=ne.player,Et=ne.element;if(ia.push(je),this.collectedEnterElements.length){const Er=Et[Qi];if(Er&&Er.setForMove){if(Er.previousTriggersValues&&Er.previousTriggersValues.has(ne.triggerName)){const ki=Er.previousTriggersValues.get(ne.triggerName),Fi=this.statesByElement.get(ne.element);if(Fi&&Fi.has(ne.triggerName)){const No=Fi.get(ne.triggerName);No.value=ki,Fi.set(ne.triggerName,No)}}return void je.destroy()}}const $t=!Qt||!this.driver.containsElement(Qt,Et),Nt=Pi.get(Et),Nn=an.get(Et),ar=this._buildInstruction(ne,M,Nn,Nt,$t);if(ar.errors&&ar.errors.length)return void ti.push(ar);if($t)return je.onStart(()=>Rr(Et,ar.fromStyles)),je.onDestroy(()=>Vr(Et,ar.toStyles)),void W.push(je);if(ne.isFallbackTransition)return je.onStart(()=>Rr(Et,ar.fromStyles)),je.onDestroy(()=>Vr(Et,ar.toStyles)),void W.push(je);const ds=[];ar.timelines.forEach(Er=>{Er.stretchStartingKeyframe=!0,this.disabledNodes.has(Er.element)||ds.push(Er)}),ar.timelines=ds,M.append(Et,ar.timelines),ve.push({instruction:ar,player:je,element:Et}),ar.queriedElements.forEach(Er=>mr(Te,Er,[]).push(je)),ar.preStyleProps.forEach((Er,ki)=>{if(Er.size){let Fi=Ge.get(ki);Fi||Ge.set(ki,Fi=new Set),Er.forEach((No,Rs)=>Fi.add(Rs))}}),ar.postStyleProps.forEach((Er,ki)=>{let Fi=ut.get(ki);Fi||ut.set(ki,Fi=new Set),Er.forEach((No,Rs)=>Fi.add(Rs))})});if(ti.length){const G=[];ti.forEach(ee=>{G.push(function lo(P,m){return new p.vHH(3505,!1)}())}),ia.forEach(ee=>ee.destroy()),this.reportError(G)}const Ti=new Map,ji=new Map;ve.forEach(G=>{const ee=G.element;M.has(ee)&&(ji.set(ee,ee),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,Ti))}),W.forEach(G=>{const ee=G.element;this._getPreviousPlayers(ee,!1,G.namespaceId,G.triggerName,null).forEach(je=>{mr(Ti,ee,[]).push(je),je.destroy()})});const yi=kr.filter(G=>Bt(G,Ge,ut)),Dr=new Map;fa(Dr,this.driver,ei,ut,un).forEach(G=>{Bt(G,Ge,ut)&&yi.push(G)});const C=new Map;Vn.forEach((G,ee)=>{fa(C,this.driver,new Set(G),Ge,"!")}),yi.forEach(G=>{const ee=Dr.get(G),ne=C.get(G);Dr.set(G,new Map([...Array.from(ee?.entries()??[]),...Array.from(ne?.entries()??[])]))});const v=[],S=[],F={};ve.forEach(G=>{const{element:ee,player:ne,instruction:je}=G;if(M.has(ee)){if(De.has(ee))return ne.onDestroy(()=>Vr(ee,je.toStyles)),ne.disabled=!0,ne.overrideTotalTime(je.totalTime),void W.push(ne);let Et=F;if(ji.size>1){let Nt=ee;const Nn=[];for(;Nt=Nt.parentNode;){const ar=ji.get(Nt);if(ar){Et=ar;break}Nn.push(Nt)}Nn.forEach(ar=>ji.set(ar,Et))}const $t=this._buildAnimation(ne.namespaceId,je,Ti,X,C,Dr);if(ne.setRealPlayer($t),Et===F)v.push(ne);else{const Nt=this.playersByElement.get(Et);Nt&&Nt.length&&(ne.parentPlayer=ui(Nt)),W.push(ne)}}else Rr(ee,je.fromStyles),ne.onDestroy(()=>Vr(ee,je.toStyles)),S.push(ne),De.has(ee)&&W.push(ne)}),S.forEach(G=>{const ee=X.get(G.element);if(ee&&ee.length){const ne=ui(ee);G.setRealPlayer(ne)}}),W.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<kr.length;G++){const ee=kr[G],ne=ee[Qi];if(ci(ee,Ws),ne&&ne.hasAnimation)continue;let je=[];if(Te.size){let $t=Te.get(ee);$t&&$t.length&&je.push(...$t);let Nt=this.driver.query(ee,as,!0);for(let Nn=0;Nn<Nt.length;Nn++){let ar=Te.get(Nt[Nn]);ar&&ar.length&&je.push(...ar)}}const Et=je.filter($t=>!$t.destroyed);Et.length?pa(this,ee,Et):this.processLeaveNode(ee)}return kr.length=0,v.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const ee=this.players.indexOf(G);this.players.splice(ee,1)}),G.play()}),v}elementContainsData(m,y){let M=!1;const W=y[Qi];return W&&W.setForRemoval&&(M=!0),this.playersByElement.has(y)&&(M=!0),this.playersByQueriedElement.has(y)&&(M=!0),this.statesByElement.has(y)&&(M=!0),this._fetchNamespace(m).elementContainsData(y)||M}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,y,M,W,X){let ve=[];if(y){const Te=this.playersByQueriedElement.get(m);Te&&(ve=Te)}else{const Te=this.playersByElement.get(m);if(Te){const Ge=!X||X==Jo;Te.forEach(ut=>{ut.queued||!Ge&&ut.triggerName!=W||ve.push(ut)})}}return(M||W)&&(ve=ve.filter(Te=>!(M&&M!=Te.namespaceId||W&&W!=Te.triggerName))),ve}_beforeAnimationBuild(m,y,M){const X=y.element,ve=y.isRemovalTransition?void 0:m,Te=y.isRemovalTransition?void 0:y.triggerName;for(const Ge of y.timelines){const ut=Ge.element,De=ut!==X,Qt=mr(M,ut,[]);this._getPreviousPlayers(ut,De,ve,Te,y.toState).forEach(Vn=>{const an=Vn.getRealPlayer();an.beforeDestroy&&an.beforeDestroy(),Vn.destroy(),Qt.push(Vn)})}Rr(X,y.fromStyles)}_buildAnimation(m,y,M,W,X,ve){const Te=y.triggerName,Ge=y.element,ut=[],De=new Set,Qt=new Set,Un=y.timelines.map(an=>{const hn=an.element;De.add(hn);const kr=hn[Qi];if(kr&&kr.removedBeforeQueried)return new Xt(an.duration,an.delay);const pr=hn!==Ge,ei=function nn(P){const m=[];return In(P,m),m}((M.get(hn)||wa).map(Ti=>Ti.getRealPlayer())).filter(Ti=>!!Ti.element&&Ti.element===hn),Pi=X.get(hn),ws=ve.get(hn),ia=bs(0,this._normalizer,0,an.keyframes,Pi,ws),ti=this._buildPlayer(an,ia,ei);if(an.subTimeline&&W&&Qt.add(hn),pr){const Ti=new Oi(m,Te,hn);Ti.setRealPlayer(ti),ut.push(Ti)}return ti});ut.forEach(an=>{mr(this.playersByQueriedElement,an.element,[]).push(an),an.onDone(()=>function xa(P,m,y){let M=P.get(m);if(M){if(M.length){const W=M.indexOf(y);M.splice(W,1)}0==M.length&&P.delete(m)}return M}(this.playersByQueriedElement,an.element,an))}),De.forEach(an=>An(an,Po));const Vn=ui(Un);return Vn.onDestroy(()=>{De.forEach(an=>ci(an,Po)),Vr(Ge,y.toStyles)}),Qt.forEach(an=>{mr(W,an,[]).push(Vn)}),Vn}_buildPlayer(m,y,M){return y.length>0?this.driver.animate(m.element,y,m.duration,m.delay,m.easing,M):new Xt(m.duration,m.delay)}}class Oi{constructor(m,y,M){this.namespaceId=m,this.triggerName=y,this.element=M,this._player=new Xt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((y,M)=>{y.forEach(W=>Gs(m,M,void 0,W))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const y=this._player;y.triggerCallback&&m.onStart(()=>y.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,y){mr(this._queuedCallbacks,m,[]).push(y)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const y=this._player;y.triggerCallback&&y.triggerCallback(m)}}function Yi(P){return P&&1===P.nodeType}function eu(P,m){const y=P.style.display;return P.style.display=m??"none",y}function fa(P,m,y,M,W){const X=[];y.forEach(Ge=>X.push(eu(Ge)));const ve=[];M.forEach((Ge,ut)=>{const De=new Map;Ge.forEach(Qt=>{const Un=m.computeStyle(ut,Qt,W);De.set(Qt,Un),(!Un||0==Un.length)&&(ut[Qi]=ja,ve.push(ut))}),P.set(ut,De)});let Te=0;return y.forEach(Ge=>eu(Ge,X[Te++])),ve}function bt(P,m){const y=new Map;if(P.forEach(Te=>y.set(Te,[])),0==m.length)return y;const W=new Set(m),X=new Map;function ve(Te){if(!Te)return 1;let Ge=X.get(Te);if(Ge)return Ge;const ut=Te.parentNode;return Ge=y.has(ut)?ut:W.has(ut)?1:ve(ut),X.set(Te,Ge),Ge}return m.forEach(Te=>{const Ge=ve(Te);1!==Ge&&y.get(Ge).push(Te)}),y}function An(P,m){P.classList?.add(m)}function ci(P,m){P.classList?.remove(m)}function pa(P,m,y){ui(y).onDone(()=>P.processLeaveNode(m))}function In(P,m){for(let y=0;y<P.length;y++){const M=P[y];M instanceof qt?In(M.players,m):m.push(M)}}function Bt(P,m,y){const M=y.get(P);if(!M)return!1;let W=m.get(P);return W?M.forEach(X=>W.add(X)):m.set(P,M),y.delete(P),!0}class et{constructor(m,y,M){this.bodyNode=m,this._driver=y,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(W,X)=>{},this._transitionEngine=new Ia(m,y,M),this._timelineEngine=new Zs(m,y,M),this._transitionEngine.onRemovalComplete=(W,X)=>this.onRemovalComplete(W,X)}registerTrigger(m,y,M,W,X){const ve=m+"-"+W;let Te=this._triggerCache[ve];if(!Te){const Ge=[],De=no(this._driver,X,Ge,[]);if(Ge.length)throw function _r(P,m){return new p.vHH(3404,!1)}();Te=function Nr(P,m,y){return new ro(P,m,y)}(W,De,this._normalizer),this._triggerCache[ve]=Te}this._transitionEngine.registerTrigger(y,W,Te)}register(m,y){this._transitionEngine.register(m,y)}destroy(m,y){this._transitionEngine.destroy(m,y)}onInsert(m,y,M,W){this._transitionEngine.insertNode(m,y,M,W)}onRemove(m,y,M,W){this._transitionEngine.removeNode(m,y,W||!1,M)}disableAnimations(m,y){this._transitionEngine.markElementAsDisabled(m,y)}process(m,y,M,W){if("@"==M.charAt(0)){const[X,ve]=Me(M);this._timelineEngine.command(X,y,ve,W)}else this._transitionEngine.trigger(m,y,M,W)}listen(m,y,M,W,X){if("@"==M.charAt(0)){const[ve,Te]=Me(M);return this._timelineEngine.listen(ve,y,Te,X)}return this._transitionEngine.listen(m,y,M,W,X)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Xr=(()=>{class P{constructor(y,M,W){this._element=y,this._startStyles=M,this._endStyles=W,this._state=0;let X=P.initialStylesByElement.get(y);X||P.initialStylesByElement.set(y,X=new Map),this._initialStyles=X}start(){this._state<1&&(this._startStyles&&Vr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vr(this._element,this._initialStyles),this._endStyles&&(Vr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(P.initialStylesByElement.delete(this._element),this._startStyles&&(Rr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rr(this._element,this._endStyles),this._endStyles=null),Vr(this._element,this._initialStyles),this._state=3)}}return P.initialStylesByElement=new WeakMap,P})();function ea(P){let m=null;return P.forEach((y,M)=>{(function xo(P){return"display"===P||"position"===P})(M)&&(m=m||new Map,m.set(M,y))}),m}class Ca{constructor(m,y,M,W){this.element=m,this.keyframes=y,this.options=M,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const y=[];return m.forEach(M=>{y.push(Object.fromEntries(M))}),y}_triggerWebAnimation(m,y,M){return m.animate(this._convertKeyframesToObject(y),M)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,W)=>{"offset"!==W&&m.set(W,this._finished?M:Zo(this.element,W))}),this.currentSnapshot=m}triggerCallback(m){const y="start"===m?this._onStartFns:this._onDoneFns;y.forEach(M=>M()),y.length=0}}class nu{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,y){return!1}containsElement(m,y){return wi(m,y)}getParentElement(m){return xt(m)}query(m,y,M){return Ii(m,y,M)}computeStyle(m,y,M){return window.getComputedStyle(m)[y]}animate(m,y,M,W,X,ve=[]){const Ge={duration:M,delay:W,fill:0==W?"both":"forwards"};X&&(Ge.easing=X);const ut=new Map,De=ve.filter(Vn=>Vn instanceof Ca);(function si(P,m){return 0===P||0===m})(M,W)&&De.forEach(Vn=>{Vn.currentSnapshot.forEach((an,hn)=>ut.set(hn,an))});let Qt=function ko(P){return P.length?P[0]instanceof Map?P:P.map(m=>Di(m)):[]}(y).map(Vn=>dr(Vn));Qt=function vn(P,m,y){if(y.size&&m.length){let M=m[0],W=[];if(y.forEach((X,ve)=>{M.has(ve)||W.push(ve),M.set(ve,X)}),W.length)for(let X=1;X<m.length;X++){let ve=m[X];W.forEach(Te=>ve.set(Te,Zo(P,Te)))}}return m}(m,Qt,ut);const Un=function wt(P,m){let y=null,M=null;return Array.isArray(m)&&m.length?(y=ea(m[0]),m.length>1&&(M=ea(m[m.length-1]))):m instanceof Map&&(y=ea(m)),y||M?new Xr(P,y,M):null}(m,Qt);return new Ca(m,Qt,Ge,Un)}}let Vo=(()=>{class P extends Kn{constructor(y,M){super(),this._nextAnimationId=0,this._renderer=y.createRenderer(M.body,{id:"0",encapsulation:p.ifc.None,styles:[],data:{animation:[]}})}build(y){const M=this._nextAnimationId.toString();this._nextAnimationId++;const W=Array.isArray(y)?Or(y):y;return Ra(this._renderer,null,M,"register",[W]),new ta(M,this._renderer)}}return P.\u0275fac=function(y){return new(y||P)(p.LFG(p.FYo),p.LFG(se.K0))},P.\u0275prov=p.Yz7({token:P,factory:P.\u0275fac}),P})();class ta extends class er{}{constructor(m,y){super(),this._id=m,this._renderer=y}create(m,y){return new Ha(this._id,m,y||{},this._renderer)}}class Ha{constructor(m,y,M,W){this.id=m,this.element=y,this._renderer=W,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(m,y){return this._renderer.listen(this.element,`@@${this.id}:${m}`,y)}_command(m,...y){return Ra(this._renderer,this.element,this.id,m,y)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ra(P,m,y,M,W){return P.setProperty(m,`@@${y}:${M}`,W)}const Bo="@.disabled";let $a=(()=>{class P{constructor(y,M,W){this.delegate=y,this.engine=M,this._zone=W,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(X,ve)=>{const Te=ve?.parentNode(X);Te&&ve.removeChild(Te,X)}}createRenderer(y,M){const X=this.delegate.createRenderer(y,M);if(!(y&&M&&M.data&&M.data.animation)){let De=this._rendererCache.get(X);return De||(De=new ln("",X,this.engine),this._rendererCache.set(X,De)),De}const ve=M.id,Te=M.id+"-"+this._currentId;this._currentId++,this.engine.register(Te,y);const Ge=De=>{Array.isArray(De)?De.forEach(Ge):this.engine.registerTrigger(ve,Te,y,De.name,De)};return M.data.animation.forEach(Ge),new jo(this,Te,X,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(y,M,W){y>=0&&y<this._microtaskId?this._zone.run(()=>M(W)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(X=>{const[ve,Te]=X;ve(Te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,W]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return P.\u0275fac=function(y){return new(y||P)(p.LFG(p.FYo),p.LFG(et),p.LFG(p.R0b))},P.\u0275prov=p.Yz7({token:P,factory:P.\u0275fac}),P})();class ln{constructor(m,y,M){this.namespaceId=m,this.delegate=y,this.engine=M,this.destroyNode=this.delegate.destroyNode?W=>y.destroyNode(W):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(m,y){return this.delegate.createElement(m,y)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,y){this.delegate.appendChild(m,y),this.engine.onInsert(this.namespaceId,y,m,!1)}insertBefore(m,y,M,W=!0){this.delegate.insertBefore(m,y,M),this.engine.onInsert(this.namespaceId,y,m,W)}removeChild(m,y,M){this.engine.onRemove(this.namespaceId,y,this.delegate,M)}selectRootElement(m,y){return this.delegate.selectRootElement(m,y)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,y,M,W){this.delegate.setAttribute(m,y,M,W)}removeAttribute(m,y,M){this.delegate.removeAttribute(m,y,M)}addClass(m,y){this.delegate.addClass(m,y)}removeClass(m,y){this.delegate.removeClass(m,y)}setStyle(m,y,M,W){this.delegate.setStyle(m,y,M,W)}removeStyle(m,y,M){this.delegate.removeStyle(m,y,M)}setProperty(m,y,M){"@"==y.charAt(0)&&y==Bo?this.disableAnimations(m,!!M):this.delegate.setProperty(m,y,M)}setValue(m,y){this.delegate.setValue(m,y)}listen(m,y,M){return this.delegate.listen(m,y,M)}disableAnimations(m,y){this.engine.disableAnimations(m,y)}}class jo extends ln{constructor(m,y,M,W){super(y,M,W),this.factory=m,this.namespaceId=y}setProperty(m,y,M){"@"==y.charAt(0)?"."==y.charAt(1)&&y==Bo?this.disableAnimations(m,M=void 0===M||!!M):this.engine.process(this.namespaceId,m,y.slice(1),M):this.delegate.setProperty(m,y,M)}listen(m,y,M){if("@"==y.charAt(0)){const W=function ra(P){switch(P){case"body":return document.body;case"document":return document;case"window":return window;default:return P}}(m);let X=y.slice(1),ve="";return"@"!=X.charAt(0)&&([X,ve]=function Br(P){const m=P.indexOf(".");return[P.substring(0,m),P.slice(m+1)]}(X)),this.engine.listen(this.namespaceId,W,X,ve,Te=>{this.factory.scheduleListenerCallback(Te._data||-1,M,Te)})}return this.delegate.listen(m,y,M)}}const Ho=[{provide:Kn,useClass:Vo},{provide:K,useFactory:function Ji(){return new ct}},{provide:et,useClass:(()=>{class P extends et{constructor(y,M,W,X){super(y.body,M,W)}ngOnDestroy(){this.flush()}}return P.\u0275fac=function(y){return new(y||P)(p.LFG(se.K0),p.LFG(ho),p.LFG(K),p.LFG(p.z2F))},P.\u0275prov=p.Yz7({token:P,factory:P.\u0275fac}),P})()},{provide:p.FYo,useFactory:function Xn(P,m,y){return new $a(P,m,y)},deps:[g.se,et,p.R0b]}],Gr=[{provide:ho,useFactory:()=>new nu},{provide:p.QbO,useValue:"BrowserAnimations"},...Ho],Ut=[{provide:ho,useClass:Us},{provide:p.QbO,useValue:"NoopAnimations"},...Ho];let Ro=(()=>{class P{static withConfig(y){return{ngModule:P,providers:y.disableAnimations?Ut:Gr}}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=p.oAB({type:P}),P.\u0275inj=p.cJS({providers:Gr,imports:[g.b2]}),P})(),fu=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=p.oAB({type:P,bootstrap:[Pt]}),P.\u0275inj=p.cJS({imports:[g.b2,j.u5,jn,ce.hO.initializeApp(Xe.N.firebaseConfig),pe.ww,ue.yb,sn.RegisterModule,Ro]}),P})();Xe.N.production&&(0,p.G48)(),g.q6().bootstrapModule(fu).catch(P=>console.error(P))},5867:(Ot,Be,L)=>{L.d(Be,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=L(9681);(0,g.registerVersion)("firebase","9.12.1","app")},127:(Ot,Be,L)=>{L.d(Be,{Z:()=>g.Z});var g=L(3942);g.Z.registerVersion("firebase","9.12.1","app-compat")},9545:(Ot,Be,L)=>{L.r(Be);var g=L(5861),p=L(3942),j=L(2090),ce=L(9681),pe=L(1877),ue=L(655),ye=L(4859);const Xe=function gt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Rt=function dt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ft=new pe.Yd("@firebase/auth");function Gt(E,...c){Ft.logLevel<=pe.in.ERROR&&Ft.error(`Auth (${ce.SDK_VERSION}): ${E}`,...c)}function _e(E,...c){throw at(E,...c)}function st(E,...c){return at(E,...c)}function it(E,c,f){const D=Object.assign(Object.assign({},Rt()),{[c]:f});return new j.LL("auth","Firebase",D).create(c,{appName:E.name})}function yt(E,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&_e(E,"argument-error"),it(E,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function at(E,...c){if("string"!=typeof E){const f=c[0],D=[...c.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(f,...D)}return nt.create(E,...c)}function me(E,c,...f){if(!E)throw at(c,...f)}function Je(E){const c="INTERNAL ASSERTION FAILED: "+E;throw Gt(c),new Error(c)}function ae(E,c){E||Je(c)}const Ae=new Map;function fe(E){ae(E instanceof Function,"Expected a class definition");let c=Ae.get(E);return c?(ae(c instanceof E,"Instance stored in cache mismatched with class"),c):(c=new E,Ae.set(E,c),c)}function Qe(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Pe(){return"http:"===qe()||"https:"===qe()}function qe(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Mt{constructor(c,f){this.shortDelay=c,this.longDelay=f,ae(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function ze(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pe()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tt(E,c){ae(E.emulator,"Emulator should always be set here");const{url:f}=E.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class Zt{static initialize(c,f,D){this.fetchImpl=c,f&&(this.headersImpl=f),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},En=new Mt(3e4,6e4);function Ht(E,c){return E.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:E.tenantId}):c}function gn(E,c,f,D){return jn.apply(this,arguments)}function jn(){return(jn=(0,g.Z)(function*(E,c,f,D,$={}){return Kn(E,$,(0,g.Z)(function*(){let J={},Oe={};D&&("GET"===c?Oe=D:J={body:JSON.stringify(D)});const ot=(0,j.xO)(Object.assign({key:E.config.apiKey},Oe)).slice(1),kt=yield E._getAdditionalHeaders();return kt["Content-Type"]="application/json",E.languageCode&&(kt["X-Firebase-Locale"]=E.languageCode),Zt.fetch()(Wt(E,E.config.apiHost,f,ot),Object.assign({method:c,headers:kt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function Kn(E,c,f){return er.apply(this,arguments)}function er(){return(er=(0,g.Z)(function*(E,c,f){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},Dt),c);try{const $=new Tr(E),J=yield Promise.race([f(),$.promise]);$.clearNetworkTimeout();const Oe=yield J.json();if("needConfirmation"in Oe)throw Or(E,"account-exists-with-different-credential",Oe);if(J.ok&&!("errorMessage"in Oe))return Oe;{const ot=J.ok?Oe.errorMessage:Oe.error.message,[kt,fn]=ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kt)throw Or(E,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===kt)throw Or(E,"email-already-in-use",Oe);if("USER_DISABLED"===kt)throw Or(E,"user-disabled",Oe);const On=D[kt]||kt.toLowerCase().replace(/[_\s]+/g,"-");if(fn)throw it(E,On,fn);_e(E,On)}}catch($){if($ instanceof j.ZR)throw $;_e(E,"network-request-failed")}})).apply(this,arguments)}function un(E,c,f,D){return br.apply(this,arguments)}function br(){return(br=(0,g.Z)(function*(E,c,f,D,$={}){const J=yield gn(E,c,f,D,$);return"mfaPendingCredential"in J&&_e(E,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Wt(E,c,f,D){const $=`${c}${f}?${D}`;return E.config.emulator?Tt(E.config,$):`${E.config.apiScheme}://${$}`}class Tr{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,D)=>{this.timer=setTimeout(()=>D(st(this.auth,"network-request-failed")),En.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Or(E,c,f){const D={appName:E.name};f.email&&(D.email=f.email),f.phoneNumber&&(D.phoneNumber=f.phoneNumber);const $=st(E,c,D);return $.customData._tokenResponse=f,$}function St(){return(St=(0,g.Z)(function*(E,c){return gn(E,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function hr(E,c){return tr.apply(this,arguments)}function tr(){return(tr=(0,g.Z)(function*(E,c){return gn(E,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Sr(E,c){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(E,c){return gn(E,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function ts(E){if(E)try{const c=new Date(Number(E));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Hn(){return(Hn=(0,g.Z)(function*(E,c=!1){const f=(0,j.m9)(E),D=yield f.getIdToken(c),$=qt(D);me($&&$.exp&&$.auth_time&&$.iat,f.auth,"internal-error");const J="object"==typeof $.firebase?$.firebase:void 0,Oe=J?.sign_in_provider;return{claims:$,token:D,authTime:ts(Xt($.auth_time)),issuedAtTime:ts(Xt($.iat)),expirationTime:ts(Xt($.exp)),signInProvider:Oe||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function Xt(E){return 1e3*Number(E)}function qt(E){var c;const[f,D,$]=E.split(".");if(void 0===f||void 0===D||void 0===$)return Gt("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,j.tV)(D);return J?JSON.parse(J):(Gt("Failed to decode base64 JWT payload"),null)}catch(J){return Gt("Caught error parsing JWT payload as JSON",null===(c=J)||void 0===c?void 0:c.toString()),null}}function wr(E,c){return fr.apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(E,c,f=!1){if(f)return c;try{return yield c}catch(D){throw D instanceof j.ZR&&fi(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}function fi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class wn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const $=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const D=this.getInterval(c);this.timerId=setTimeout((0,g.Z)(function*(){yield f.iteration()}),D)}iteration(){var c=this;return(0,g.Z)(function*(){var f;try{yield c.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(f=D)||void 0===f?void 0:f.code)&&c.schedule(!0))}c.schedule()})()}}class Li{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=ts(this.lastLoginAt),this.creationTime=ts(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qn(E){return zi.apply(this,arguments)}function zi(){return(zi=(0,g.Z)(function*(E){var c;const f=E.auth,D=yield E.getIdToken(),$=yield wr(E,Sr(f,{idToken:D}));me($?.users.length,f,"internal-error");const J=$.users[0];E._notifyReloadListener(J);const Oe=null!==(c=J.providerUserInfo)&&void 0!==c&&c.length?zt(J.providerUserInfo):[],ot=dn(E.providerData,Oe),On=!!E.isAnonymous&&!(E.email&&J.passwordHash||ot?.length),Rn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:ot,metadata:new Li(J.createdAt,J.lastLoginAt),isAnonymous:On};Object.assign(E,Rn)})).apply(this,arguments)}function Ar(){return(Ar=(0,g.Z)(function*(E){const c=(0,j.m9)(E);yield Qn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function dn(E,c){return[...E.filter(D=>!c.some($=>$.providerId===D.providerId)),...c]}function zt(E){return E.map(c=>{var{providerId:f}=c,D=(0,ue._T)(c,["providerId"]);return{providerId:f,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Lt(){return(Lt=(0,g.Z)(function*(E,c){const f=yield Kn(E,{},(0,g.Z)(function*(){const D=(0,j.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:$,apiKey:J}=E.config,Oe=Wt(E,$,"/v1/token",`key=${J}`),ot=yield E._getAdditionalHeaders();return ot["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(Oe,{method:"POST",headers:ot,body:D})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class yn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){me(c.idToken,"internal-error"),me(typeof c.idToken<"u","internal-error"),me(typeof c.refreshToken<"u","internal-error");const f="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function nr(E){const c=qt(E);return me(c,"internal-error"),me(typeof c.exp<"u","internal-error"),me(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var D=this;return(0,g.Z)(function*(){return me(!D.accessToken||D.refreshToken,c,"user-token-expired"),f||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(c,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var D=this;return(0,g.Z)(function*(){const{accessToken:$,refreshToken:J,expiresIn:Oe}=yield function mt(E,c){return Lt.apply(this,arguments)}(c,f);D.updateTokensAndExpiration($,J,Number(Oe))})()}updateTokensAndExpiration(c,f,D){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(c,f){const{refreshToken:D,accessToken:$,expirationTime:J}=f,Oe=new yn;return D&&(me("string"==typeof D,"internal-error",{appName:c}),Oe.refreshToken=D),$&&(me("string"==typeof $,"internal-error",{appName:c}),Oe.accessToken=$),J&&(me("number"==typeof J,"internal-error",{appName:c}),Oe.expirationTime=J),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new yn,this.toJSON())}_performRefresh(){return Je("not implemented")}}function pn(E,c){me("string"==typeof E||typeof E>"u","internal-error",{appName:c})}class _n{constructor(c){var{uid:f,auth:D,stsTokenManager:$}=c,J=(0,ue._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=D,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new Li(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,g.Z)(function*(){const D=yield wr(f,f.stsTokenManager.getToken(f.auth,c));return me(D,f.auth,"internal-error"),f.accessToken!==D&&(f.accessToken=D,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),D})()}getIdTokenResult(c){return function Pn(E){return Hn.apply(this,arguments)}(this,c)}reload(){return function $n(E){return Ar.apply(this,arguments)}(this)}_assign(c){this!==c&&(me(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new _n(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var D=this;return(0,g.Z)(function*(){let $=!1;c.idToken&&c.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(c),$=!0),f&&(yield Qn(D)),yield D.auth._persistUserIfCurrent(D),$&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var c=this;return(0,g.Z)(function*(){const f=yield c.getIdToken();return yield wr(c,function mn(E,c){return St.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var D,$,J,Oe,ot,kt,fn,On;const Rn=null!==(D=f.displayName)&&void 0!==D?D:void 0,js=null!==($=f.email)&&void 0!==$?$:void 0,Si=null!==(J=f.phoneNumber)&&void 0!==J?J:void 0,od=null!==(Oe=f.photoURL)&&void 0!==Oe?Oe:void 0,Eh=null!==(ot=f.tenantId)&&void 0!==ot?ot:void 0,oa=null!==(kt=f._redirectEventId)&&void 0!==kt?kt:void 0,wh=null!==(fn=f.createdAt)&&void 0!==fn?fn:void 0,fc=null!==(On=f.lastLoginAt)&&void 0!==On?On:void 0,{uid:ad,emailVerified:Kf,isAnonymous:Qf,providerData:ud,stsTokenManager:ld}=f;me(ad&&ld,c,"internal-error");const cd=yn.fromJSON(this.name,ld);me("string"==typeof ad,c,"internal-error"),pn(Rn,c.name),pn(js,c.name),me("boolean"==typeof Kf,c,"internal-error"),me("boolean"==typeof Qf,c,"internal-error"),pn(Si,c.name),pn(od,c.name),pn(Eh,c.name),pn(oa,c.name),pn(wh,c.name),pn(fc,c.name);const pc=new _n({uid:ad,auth:c,email:js,emailVerified:Kf,displayName:Rn,isAnonymous:Qf,photoURL:od,phoneNumber:Si,tenantId:Eh,stsTokenManager:cd,createdAt:wh,lastLoginAt:fc});return ud&&Array.isArray(ud)&&(pc.providerData=ud.map(Ih=>Object.assign({},Ih))),oa&&(pc._redirectEventId=oa),pc}static _fromIdTokenResponse(c,f,D=!1){return(0,g.Z)(function*(){const $=new yn;$.updateFromServerResponse(f);const J=new _n({uid:f.localId,auth:c,stsTokenManager:$,isAnonymous:D});return yield Qn(J),J})()}}const he=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(f,D){var $=this;return(0,g.Z)(function*(){$.storage[f]=D})()}_get(f){var D=this;return(0,g.Z)(function*(){const $=D.storage[f];return void 0===$?null:$})()}_remove(f){var D=this;return(0,g.Z)(function*(){delete D.storage[f]})()}_addListener(f,D){}_removeListener(f,D){}}return E.type="NONE",E})();function Se(E,c,f){return`firebase:${E}:${c}:${f}`}class lt{constructor(c,f,D){this.persistence=c,this.auth=f,this.userKey=D;const{config:$,name:J}=this.auth;this.fullUserKey=Se(this.userKey,$.apiKey,J),this.fullPersistenceKey=Se("persistence",$.apiKey,J),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,g.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?_n._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,g.Z)(function*(){if(f.persistence===c)return;const D=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,D?f.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,D="authUser"){return(0,g.Z)(function*(){if(!f.length)return new lt(fe(he),c,D);const $=(yield Promise.all(f.map(function(){var fn=(0,g.Z)(function*(On){if(yield On._isAvailable())return On});return function(On){return fn.apply(this,arguments)}}()))).filter(fn=>fn);let J=$[0]||fe(he);const Oe=Se(D,c.config.apiKey,c.name);let ot=null;for(const fn of f)try{const On=yield fn._get(Oe);if(On){const Rn=_n._fromJSON(c,On);fn!==J&&(ot=Rn),J=fn;break}}catch{}const kt=$.filter(fn=>fn._shouldAllowMigration);return J._shouldAllowMigration&&kt.length?(J=kt[0],ot&&(yield J._set(Oe,ot.toJSON())),yield Promise.all(f.map(function(){var fn=(0,g.Z)(function*(On){if(On!==J)try{yield On._remove(Oe)}catch{}});return function(On){return fn.apply(this,arguments)}}())),new lt(J,c,D)):new lt(J,c,D)})()}}function ke(E){const c=E.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(lr(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Pt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(ge(c))return"Blackberry";if(oe(c))return"Webos";if(sn(c))return"Safari";if((c.includes("chrome/")||kn(c))&&!c.includes("edge/"))return"Chrome";if(qn(c))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function Pt(E=(0,j.z$)()){return/firefox\//i.test(E)}function sn(E=(0,j.z$)()){const c=E.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function kn(E=(0,j.z$)()){return/crios\//i.test(E)}function lr(E=(0,j.z$)()){return/iemobile/i.test(E)}function qn(E=(0,j.z$)()){return/android/i.test(E)}function ge(E=(0,j.z$)()){return/blackberry/i.test(E)}function oe(E=(0,j.z$)()){return/webos/i.test(E)}function re(E=(0,j.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Dn(E=(0,j.z$)()){return re(E)||qn(E)||oe(E)||ge(E)||/windows phone/i.test(E)||lr(E)}function Fn(E,c=[]){let f;switch(E){case"Browser":f=ke((0,j.z$)());break;case"Worker":f=`${ke((0,j.z$)())}-${E}`;break;default:f=E}const D=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${ce.SDK_VERSION}/${D}`}class pi{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,f){const D=J=>new Promise((Oe,ot)=>{try{Oe(c(J))}catch(kt){ot(kt)}});D.onAbort=f,this.queue.push(D);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(c){var f=this;return(0,g.Z)(function*(){var D;if(f.auth.currentUser===c)return;const $=[];try{for(const J of f.queue)yield J(c),J.onAbort&&$.push(J.onAbort)}catch(J){$.reverse();for(const Oe of $)try{Oe()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=J)||void 0===D?void 0:D.message})}})()}}class bn{constructor(c,f,D){this.app=c,this.heartbeatServiceProvider=f,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new di(this),this.idTokenSubscription=new di(this),this.beforeStateQueue=new pi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(c,f){var D=this;return f&&(this._popupRedirectResolver=fe(f)),this._initializationPromise=this.queue((0,g.Z)(function*(){var $,J;if(!D._deleted&&(D.persistenceManager=yield lt.create(D,c),!D._deleted)){if(null!==($=D._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(f),D.lastNotifiedUid=(null===(J=D.currentUser)||void 0===J?void 0:J.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,g.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f,!0)}})()}initializeCurrentUser(c){var f=this;return(0,g.Z)(function*(){var D;const $=yield f.assertedPersistence.getCurrentUser();let J=$,Oe=!1;if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ot=null===(D=f.redirectUser)||void 0===D?void 0:D._redirectEventId,kt=J?._redirectEventId,fn=yield f.tryRedirectSignIn(c);(!ot||ot===kt)&&fn?.user&&(J=fn.user,Oe=!0)}if(!J)return f.directlySetCurrentUser(null);if(!J._redirectEventId){if(Oe)try{yield f.beforeStateQueue.runMiddleware(J)}catch(ot){J=$,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ot))}return J?f.reloadAndSetCurrentUserOrClear(J):f.directlySetCurrentUser(null)}return me(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===J._redirectEventId?f.directlySetCurrentUser(J):f.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(c){var f=this;return(0,g.Z)(function*(){let D=null;try{D=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch{yield f._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,g.Z)(function*(){var D;try{yield Qn(c)}catch($){if("auth/network-request-failed"!==(null===(D=$)||void 0===D?void 0:D.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Ve(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var c=this;return(0,g.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,g.Z)(function*(){const D=c?(0,j.m9)(c):null;return D&&me(D.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(D&&D._clone(f))})()}_updateCurrentUser(c,f=!1){var D=this;return(0,g.Z)(function*(){if(!D._deleted)return c&&me(D.tenantId===c.tenantId,D,"tenant-id-mismatch"),f||(yield D.beforeStateQueue.runMiddleware(c)),D.queue((0,g.Z)(function*(){yield D.directlySetCurrentUser(c),D.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,g.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var f=this;return this.queue((0,g.Z)(function*(){yield f.assertedPersistence.setPersistence(fe(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new j.LL("auth","Firebase",c())}onAuthStateChanged(c,f,D){return this.registerStateListener(this.authStateSubscription,c,f,D)}beforeAuthStateChanged(c,f){return this.beforeStateQueue.pushCallback(c,f)}onIdTokenChanged(c,f,D){return this.registerStateListener(this.idTokenSubscription,c,f,D)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var D=this;return(0,g.Z)(function*(){const $=yield D.getOrInitRedirectPersistenceManager(f);return null===c?$.removeCurrentUser():$.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,g.Z)(function*(){if(!f.redirectPersistenceManager){const D=c&&fe(c)||f._popupRedirectResolver;me(D,f,"argument-error"),f.redirectPersistenceManager=yield lt.create(f,[fe(D._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,g.Z)(function*(){var D,$;return f._isInitialized&&(yield f.queue((0,g.Z)(function*(){}))),(null===(D=f._currentUser)||void 0===D?void 0:D._redirectEventId)===c?f._currentUser:(null===($=f.redirectUser)||void 0===$?void 0:$._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,g.Z)(function*(){if(c===f.currentUser)return f.queue((0,g.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,D,$){if(this._deleted)return()=>{};const J="function"==typeof f?f:f.next.bind(f),Oe=this._isInitialized?Promise.resolve():this._initializationPromise;return me(Oe,this,"internal-error"),Oe.then(()=>J(this.currentUser)),"function"==typeof f?c.addObserver(f,D,$):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,g.Z)(function*(){f.currentUser&&f.currentUser!==c&&f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh(),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Fn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,g.Z)(function*(){var f;const D={"X-Client-Version":c.clientVersion};c.app.options.appId&&(D["X-Firebase-gmpid"]=c.app.options.appId);const $=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return $&&(D["X-Firebase-Client"]=$),D})()}}function Mr(E){return(0,j.m9)(E)}class di{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,j.ne)(f=>this.observer=f)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fs(E){const c=E.indexOf(":");return c<0?"":E.substr(0,c+1)}function Fs(E){if(!E)return null;const c=Number(E);return isNaN(c)?null:c}class ii{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return Je("not implemented")}_getIdTokenResponse(c){return Je("not implemented")}_linkToIdToken(c,f){return Je("not implemented")}_getReauthenticationResolver(c){return Je("not implemented")}}function Lr(E,c){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,g.Z)(function*(E,c){return gn(E,"POST","/v1/accounts:resetPassword",Ht(E,c))})).apply(this,arguments)}function _r(E,c){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,g.Z)(function*(E,c){return gn(E,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ds(E,c){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,g.Z)(function*(E,c){return gn(E,"POST","/v1/accounts:update",Ht(E,c))})).apply(this,arguments)}function rs(){return(rs=(0,g.Z)(function*(E,c){return un(E,"POST","/v1/accounts:signInWithPassword",Ht(E,c))})).apply(this,arguments)}function xi(E,c){return ps.apply(this,arguments)}function ps(){return(ps=(0,g.Z)(function*(E,c){return gn(E,"POST","/v1/accounts:sendOobCode",Ht(E,c))})).apply(this,arguments)}function Hr(E,c){return is.apply(this,arguments)}function is(){return(is=(0,g.Z)(function*(E,c){return xi(E,c)})).apply(this,arguments)}function Ur(E,c){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,g.Z)(function*(E,c){return xi(E,c)})).apply(this,arguments)}function lo(E,c){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,g.Z)(function*(E,c){return xi(E,c)})).apply(this,arguments)}function Wo(E,c){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,g.Z)(function*(E,c){return xi(E,c)})).apply(this,arguments)}function bs(){return(bs=(0,g.Z)(function*(E,c){return un(E,"POST","/v1/accounts:signInWithEmailLink",Ht(E,c))})).apply(this,arguments)}function co(){return(co=(0,g.Z)(function*(E,c){return un(E,"POST","/v1/accounts:signInWithEmailLink",Ht(E,c))})).apply(this,arguments)}class zs extends ii{constructor(c,f,D,$=null){super("password",D),this._email=c,this._password=f,this._tenantId=$}static _fromEmailAndPassword(c,f){return new zs(c,f,"password")}static _fromEmailAndCode(c,f,D=null){return new zs(c,f,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,g.Z)(function*(){switch(f.signInMethod){case"password":return function Ls(E,c){return rs.apply(this,arguments)}(c,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function ui(E,c){return bs.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:_e(c,"internal-error")}})()}_linkToIdToken(c,f){var D=this;return(0,g.Z)(function*(){switch(D.signInMethod){case"password":return _r(c,{idToken:f,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Gs(E,c){return co.apply(this,arguments)}(c,{idToken:f,email:D._email,oobCode:D._password});default:_e(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function mr(E,c){return Me.apply(this,arguments)}function Me(){return(Me=(0,g.Z)(function*(E,c){return un(E,"POST","/v1/accounts:signInWithIdp",Ht(E,c))})).apply(this,arguments)}class He extends ii{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new He(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):_e("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:D,signInMethod:$}=f,J=(0,ue._T)(f,["providerId","signInMethod"]);if(!D||!$)return null;const Oe=new He(D,$);return Oe.idToken=J.idToken||void 0,Oe.accessToken=J.accessToken||void 0,Oe.secret=J.secret,Oe.nonce=J.nonce,Oe.pendingToken=J.pendingToken||null,Oe}_getIdTokenResponse(c){return mr(c,this.buildRequest())}_linkToIdToken(c,f){const D=this.buildRequest();return D.idToken=f,mr(c,D)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,mr(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,j.xO)(f)}return c}}function ft(E,c){return xt.apply(this,arguments)}function xt(){return(xt=(0,g.Z)(function*(E,c){return gn(E,"POST","/v1/accounts:sendVerificationCode",Ht(E,c))})).apply(this,arguments)}function xn(){return(xn=(0,g.Z)(function*(E,c){return un(E,"POST","/v1/accounts:signInWithPhoneNumber",Ht(E,c))})).apply(this,arguments)}function cr(){return(cr=(0,g.Z)(function*(E,c){const f=yield un(E,"POST","/v1/accounts:signInWithPhoneNumber",Ht(E,c));if(f.temporaryProof)throw Or(E,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const ss={USER_NOT_FOUND:"user-not-found"};function Js(){return(Js=(0,g.Z)(function*(E,c){return un(E,"POST","/v1/accounts:signInWithPhoneNumber",Ht(E,Object.assign(Object.assign({},c),{operation:"REAUTH"})),ss)})).apply(this,arguments)}class wi extends ii{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new wi({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new wi({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function Yt(E,c){return xn.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function $r(E,c){return cr.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function _o(E,c){return Js.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:D,verificationCode:$}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:D,code:$}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:D,phoneNumber:$,temporaryProof:J}=c;return D||f||$||J?new wi({verificationId:f,verificationCode:D,phoneNumber:$,temporaryProof:J}):null}}class Us{constructor(c){var f,D,$,J,Oe,ot;const kt=(0,j.zd)((0,j.pd)(c)),fn=null!==(f=kt.apiKey)&&void 0!==f?f:null,On=null!==(D=kt.oobCode)&&void 0!==D?D:null,Rn=function Ii(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=kt.mode)&&void 0!==$?$:null);me(fn&&On&&Rn,"argument-error"),this.apiKey=fn,this.operation=Rn,this.code=On,this.continueUrl=null!==(J=kt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Oe=kt.languageCode)&&void 0!==Oe?Oe:null,this.tenantId=null!==(ot=kt.tenantId)&&void 0!==ot?ot:null}static parseLink(c){const f=function gs(E){const c=(0,j.zd)((0,j.pd)(E)).link,f=c?(0,j.zd)((0,j.pd)(c)).deep_link_id:null,D=(0,j.zd)((0,j.pd)(E)).deep_link_id;return(D?(0,j.zd)((0,j.pd)(D)).link:null)||D||f||c||E}(c);try{return new Us(f)}catch{return null}}}let qi=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(f,D){return zs._fromEmailAndPassword(f,D)}static credentialWithLink(f,D){const $=Us.parseLink(D);return me($,"argument-error"),zs._fromEmailAndCode(f,$.code,$.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Vi{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Ci extends Vi{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class os extends Ci{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return me("providerId"in f&&"signInMethod"in f,"argument-error"),He._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return me(c.idToken||c.accessToken,"argument-error"),He._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return os.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return os.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:D,oauthTokenSecret:$,pendingToken:J,nonce:Oe,providerId:ot}=c;if(!D&&!$&&!f&&!J||!ot)return null;try{return new os(ot)._credential({idToken:f,accessToken:D,nonce:Oe,pendingToken:J})}catch{return null}}}let Ws=(()=>{class E extends Ci{constructor(){super("facebook.com")}static credential(f){return He._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return E.credentialFromTaggedObject(f)}static credentialFromError(f){return E.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return E.credential(f.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ms=(()=>{class E extends Ci{constructor(){super("google.com"),this.addScope("profile")}static credential(f,D){return He._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:D})}static credentialFromResult(f){return E.credentialFromTaggedObject(f)}static credentialFromError(f){return E.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:D,oauthAccessToken:$}=f;if(!D&&!$)return null;try{return E.credential(D,$)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),ys=(()=>{class E extends Ci{constructor(){super("github.com")}static credential(f){return He._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return E.credentialFromTaggedObject(f)}static credentialFromError(f){return E.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return E.credential(f.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class as extends ii{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return mr(c,this.buildRequest())}_linkToIdToken(c,f){const D=this.buildRequest();return D.idToken=f,mr(c,D)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,mr(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:D,signInMethod:$,pendingToken:J}=f;return D&&$&&J&&D===$?new as(D,J):null}static _create(c,f){return new as(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Kr extends Vi{constructor(c){me(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Kr.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Kr.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=as.fromJSON(c);return me(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:D}=c;if(!f||!D)return null;try{return as._create(D,f)}catch{return null}}}let gi=(()=>{class E extends Ci{constructor(){super("twitter.com")}static credential(f,D){return He._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:D})}static credentialFromResult(f){return E.credentialFromTaggedObject(f)}static credentialFromError(f){return E.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:D,oauthTokenSecret:$}=f;if(!D||!$)return null;try{return E.credential(D,$)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function _s(E,c){return vo.apply(this,arguments)}function vo(){return(vo=(0,g.Z)(function*(E,c){return un(E,"POST","/v1/accounts:signUp",Ht(E,c))})).apply(this,arguments)}class Di{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,D,$=!1){return(0,g.Z)(function*(){const J=yield _n._fromIdTokenResponse(c,D,$),Oe=ko(D);return new Di({user:J,providerId:Oe,_tokenResponse:D,operationType:f})})()}static _forOperation(c,f,D){return(0,g.Z)(function*(){yield c._updateTokensIfNecessary(D,!0);const $=ko(D);return new Di({user:c,providerId:$,_tokenResponse:D,operationType:f})})()}}function ko(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function dr(){return(dr=(0,g.Z)(function*(E){var c;const f=Mr(E);if(yield f._initializationPromise,null!==(c=f.currentUser)&&void 0!==c&&c.isAnonymous)return new Di({user:f.currentUser,providerId:null,operationType:"signIn"});const D=yield _s(f,{returnSecureToken:!0}),$=yield Di._fromIdTokenResponse(f,"signIn",D,!0);return yield f._updateCurrentUser($.user),$})).apply(this,arguments)}class Ri extends j.ZR{constructor(c,f,D,$){var J;super(f.code,f.message),this.operationType=D,this.user=$,Object.setPrototypeOf(this,Ri.prototype),this.customData={appName:c.name,tenantId:null!==(J=c.tenantId)&&void 0!==J?J:void 0,_serverResponse:f.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(c,f,D,$){return new Ri(c,f,D,$)}}function Eo(E,c,f,D){return("reauthenticate"===c?f._getReauthenticationResolver(E):f._getIdTokenResponse(E)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Ri._fromErrorAndOperation(E,J,c,D):J})}function Vr(E){return new Set(E.map(({providerId:c})=>c).filter(c=>!!c))}function Gn(){return(Gn=(0,g.Z)(function*(E,c){const f=(0,j.m9)(E);yield Yn(!0,f,c);const{providerUserInfo:D}=yield hr(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),$=Vr(D||[]);return f.providerData=f.providerData.filter(J=>$.has(J.providerId)),$.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function Ts(E,c){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,g.Z)(function*(E,c,f=!1){const D=yield wr(E,c._linkToIdToken(E.auth,yield E.getIdToken()),f);return Di._forOperation(E,"link",D)})).apply(this,arguments)}function Yn(E,c,f){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,g.Z)(function*(E,c,f){yield Qn(c);const $=!1===E?"provider-already-linked":"no-such-provider";me(Vr(c.providerData).has(f)===E,c.auth,$)})).apply(this,arguments)}function vs(E,c){return ca.apply(this,arguments)}function ca(){return(ca=(0,g.Z)(function*(E,c,f=!1){var D;const{auth:$}=E,J="reauthenticate";try{const Oe=yield wr(E,Eo($,J,c,E),f);me(Oe.idToken,$,"internal-error");const ot=qt(Oe.idToken);me(ot,$,"internal-error");const{sub:kt}=ot;return me(E.uid===kt,$,"user-mismatch"),Di._forOperation(E,J,Oe)}catch(Oe){throw"auth/user-not-found"===(null===(D=Oe)||void 0===D?void 0:D.code)&&_e($,"user-mismatch"),Oe}})).apply(this,arguments)}function Zi(E,c){return qo.apply(this,arguments)}function qo(){return(qo=(0,g.Z)(function*(E,c,f=!1){const D="signIn",$=yield Eo(E,D,c),J=yield Di._fromIdTokenResponse(E,D,$);return f||(yield E._updateCurrentUser(J.user)),J})).apply(this,arguments)}function si(E,c){return vn.apply(this,arguments)}function vn(){return(vn=(0,g.Z)(function*(E,c){return Zi(Mr(E),c)})).apply(this,arguments)}function Qr(E,c){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,g.Z)(function*(E,c){const f=(0,j.m9)(E);return yield Yn(!1,f,c.providerId),Ts(f,c)})).apply(this,arguments)}function Xs(E,c){return As.apply(this,arguments)}function As(){return(As=(0,g.Z)(function*(E,c){return vs((0,j.m9)(E),c)})).apply(this,arguments)}function hi(E,c){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,g.Z)(function*(E,c){return un(E,"POST","/v1/accounts:signInWithCustomToken",Ht(E,c))})).apply(this,arguments)}function Ko(){return(Ko=(0,g.Z)(function*(E,c){const f=Mr(E),D=yield hi(f,{token:c,returnSecureToken:!0}),$=yield Di._fromIdTokenResponse(f,"signIn",D);return yield f._updateCurrentUser($.user),$})).apply(this,arguments)}class vt{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?Ln._fromServerResponse(c,f):_e(c,"internal-error")}}class Ln extends vt{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new Ln(f)}}function eo(E,c,f){var D;me((null===(D=f.url)||void 0===D?void 0:D.length)>0,E,"invalid-continue-uri"),me(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(me(f.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(me(f.android.packageName.length>0,E,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function Yr(){return(Yr=(0,g.Z)(function*(E,c,f){const D=(0,j.m9)(E),$={requestType:"PASSWORD_RESET",email:c};f&&eo(D,$,f),yield Ur(D,$)})).apply(this,arguments)}function us(){return(us=(0,g.Z)(function*(E,c,f){yield Lr((0,j.m9)(E),{oobCode:c,newPassword:f})})).apply(this,arguments)}function Fo(){return(Fo=(0,g.Z)(function*(E,c){yield Ds((0,j.m9)(E),{oobCode:c})})).apply(this,arguments)}function to(E,c){return no.apply(this,arguments)}function no(){return(no=(0,g.Z)(function*(E,c){const f=(0,j.m9)(E),D=yield Lr(f,{oobCode:c}),$=D.requestType;switch(me($,f,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(D.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(D.mfaInfo,f,"internal-error");default:me(D.email,f,"internal-error")}let J=null;return D.mfaInfo&&(J=vt._fromServerResponse(Mr(f),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:J},operation:$}})).apply(this,arguments)}function V(){return(V=(0,g.Z)(function*(E,c){const{data:f}=yield to((0,j.m9)(E),c);return f.email})).apply(this,arguments)}function R(){return(R=(0,g.Z)(function*(E,c,f){const D=Mr(E),$=yield _s(D,{returnSecureToken:!0,email:c,password:f}),J=yield Di._fromIdTokenResponse(D,"signIn",$);return yield D._updateCurrentUser(J.user),J})).apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(E,c,f){const D=(0,j.m9)(E),$={requestType:"EMAIL_SIGNIN",email:c};me(f.handleCodeInApp,D,"argument-error"),f&&eo(D,$,f),yield lo(D,$)})).apply(this,arguments)}function bi(){return(bi=(0,g.Z)(function*(E,c,f){const D=(0,j.m9)(E),$=qi.credentialWithLink(c,f||Qe());return me($._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),si(D,$)})).apply(this,arguments)}function ls(E,c){return Do.apply(this,arguments)}function Do(){return(Do=(0,g.Z)(function*(E,c){return gn(E,"POST","/v1/accounts:createAuthUri",Ht(E,c))})).apply(this,arguments)}function To(){return(To=(0,g.Z)(function*(E,c){const D={identifier:c,continueUri:Pe()?Qe():"http://localhost"},{signinMethods:$}=yield ls((0,j.m9)(E),D);return $||[]})).apply(this,arguments)}function Qo(){return(Qo=(0,g.Z)(function*(E,c){const f=(0,j.m9)(E),$={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};c&&eo(f.auth,$,c);const{email:J}=yield Hr(f.auth,$);J!==E.email&&(yield E.reload())})).apply(this,arguments)}function da(){return(da=(0,g.Z)(function*(E,c,f){const D=(0,j.m9)(E),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:c};f&&eo(D.auth,J,f);const{email:Oe}=yield Wo(D.auth,J);Oe!==E.email&&(yield E.reload())})).apply(this,arguments)}function cs(E,c){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,g.Z)(function*(E,c){return gn(E,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ha(){return(ha=(0,g.Z)(function*(E,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const D=(0,j.m9)(E),J={idToken:yield D.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},Oe=yield wr(D,cs(D.auth,J));D.displayName=Oe.displayName||null,D.photoURL=Oe.photoUrl||null;const ot=D.providerData.find(({providerId:kt})=>"password"===kt);ot&&(ot.displayName=D.displayName,ot.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Oe)})).apply(this,arguments)}function O(E,c,f){return K.apply(this,arguments)}function K(){return(K=(0,g.Z)(function*(E,c,f){const{auth:D}=E,J={idToken:yield E.getIdToken(),returnSecureToken:!0};c&&(J.email=c),f&&(J.password=f);const Oe=yield wr(E,_r(D,J));yield E._updateTokensIfNecessary(Oe,!0)})).apply(this,arguments)}class Ze{constructor(c,f,D={}){this.isNewUser=c,this.providerId=f,this.profile=D}}class ct extends Ze{constructor(c,f,D,$){super(c,f,D),this.username=$}}class tn extends Ze{constructor(c,f){super(c,"facebook.com",f)}}class Zn extends ct{constructor(c,f){super(c,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class vr extends Ze{constructor(c,f){super(c,"google.com",f)}}class Ir extends ct{constructor(c,f,D){super(c,"twitter.com",f,D)}}function Jn(E){const{user:c,_tokenResponse:f}=E;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Ee(E){var c,f;if(!E)return null;const{providerId:D}=E,$=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},J=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!D&&E?.idToken){const Oe=null===(f=null===(c=qt(E.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(Oe)return new Ze(J,"anonymous"!==Oe&&"custom"!==Oe?Oe:null)}if(!D)return null;switch(D){case"facebook.com":return new tn(J,$);case"github.com":return new Zn(J,$);case"google.com":return new vr(J,$);case"twitter.com":return new Ir(J,$,E.screenName||null);case"custom":case"anonymous":return new Ze(J,null);default:return new Ze(J,D,$)}}(f)}class Vs{constructor(c,f,D){this.type=c,this.credential=f,this.auth=D}static _fromIdtoken(c,f){return new Vs("enroll",c,f)}static _fromMfaPendingCredential(c){return new Vs("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,D;if(c?.multiFactorSession){if(null!==(f=c.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Vs._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(D=c.multiFactorSession)&&void 0!==D&&D.idToken)return Vs._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Lo{constructor(c,f,D){this.session=c,this.hints=f,this.signInResolver=D}static _fromError(c,f){const D=Mr(c),$=f.customData._serverResponse,J=($.mfaInfo||[]).map(ot=>vt._fromServerResponse(D,ot));me($.mfaPendingCredential,D,"internal-error");const Oe=Vs._fromMfaPendingCredential($.mfaPendingCredential);return new Lo(Oe,J,function(){var ot=(0,g.Z)(function*(kt){const fn=yield kt._process(D,Oe);delete $.mfaInfo,delete $.mfaPendingCredential;const On=Object.assign(Object.assign({},$),{idToken:fn.idToken,refreshToken:fn.refreshToken});switch(f.operationType){case"signIn":const Rn=yield Di._fromIdTokenResponse(D,f.operationType,On);return yield D._updateCurrentUser(Rn.user),Rn;case"reauthenticate":return me(f.user,D,"internal-error"),Di._forOperation(f.user,f.operationType,On);default:_e(D,"internal-error")}});return function(kt){return ot.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,g.Z)(function*(){return f.signInResolver(c)})()}}function Ma(E,c){return gn(E,"POST","/v2/accounts/mfaEnrollment:start",Ht(E,c))}class Ja{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(D=>vt._fromServerResponse(c.auth,D)))})}static _fromUser(c){return new Ja(c)}getSession(){var c=this;return(0,g.Z)(function*(){return Vs._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,f){var D=this;return(0,g.Z)(function*(){const $=c,J=yield D.getSession(),Oe=yield wr(D.user,$._process(D.user.auth,J,f));return yield D.user._updateTokensIfNecessary(Oe),D.user.reload()})()}unenroll(c){var f=this;return(0,g.Z)(function*(){var D;const $="string"==typeof c?c:c.uid,J=yield f.user.getIdToken(),Oe=yield wr(f.user,function wa(E,c){return gn(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(E,c))}(f.user.auth,{idToken:J,mfaEnrollmentId:$}));f.enrolledFactors=f.enrolledFactors.filter(({uid:ot})=>ot!==$),yield f.user._updateTokensIfNecessary(Oe);try{yield f.user.reload()}catch(ot){if("auth/user-token-expired"!==(null===(D=ot)||void 0===D?void 0:D.code))throw ot}})()}}const ja=new WeakMap,Uo="__sak";class Jo{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Uo,"1"),this.storage.removeItem(Uo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const xa=(()=>{class E extends Jo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,D)=>this.onStorageEvent(f,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xo(){const E=(0,j.z$)();return sn(E)||re(E)}()&&function on(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Dn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const D of Object.keys(this.listeners)){const $=this.storage.getItem(D),J=this.localCache[D];$!==J&&f(D,J,$)}}onStorageEvent(f,D=!1){if(!f.key)return void this.forAllChangedKeys((ot,kt,fn)=>{this.notifyListeners(ot,fn)});const $=f.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ot=this.storage.getItem($);if(f.newValue!==ot)null!==f.newValue?this.storage.setItem($,f.newValue):this.storage.removeItem($);else if(this.localCache[$]===f.newValue&&!D)return}const J=()=>{const ot=this.storage.getItem($);!D&&this.localCache[$]===ot||this.notifyListeners($,ot)},Oe=this.storage.getItem($);!function Kt(){return(0,j.w1)()&&10===document.documentMode}()||Oe===f.newValue||f.newValue===f.oldValue?J():setTimeout(J,10)}notifyListeners(f,D){this.localCache[f]=D;const $=this.listeners[f];if($)for(const J of Array.from($))J(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,D,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:D,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,D){var $=()=>super._set,J=this;return(0,g.Z)(function*(){yield $().call(J,f,D),J.localCache[f]=JSON.stringify(D)})()}_get(f){var D=()=>super._get,$=this;return(0,g.Z)(function*(){const J=yield D().call($,f);return $.localCache[f]=JSON.stringify(J),J})()}_remove(f){var D=()=>super._remove,$=this;return(0,g.Z)(function*(){yield D().call($,f),delete $.localCache[f]})()}}return E.type="LOCAL",E})(),Yi=(()=>{class E extends Jo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,D){}_removeListener(f,D){}}return E.type="SESSION",E})();let eu=(()=>{class E{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const D=this.receivers.find(J=>J.isListeningto(f));if(D)return D;const $=new E(f);return this.receivers.push($),$}isListeningto(f){return this.eventTarget===f}handleEvent(f){var D=this;return(0,g.Z)(function*(){const $=f,{eventId:J,eventType:Oe,data:ot}=$.data,kt=D.handlersMap[Oe];if(!kt?.size)return;$.ports[0].postMessage({status:"ack",eventId:J,eventType:Oe});const fn=Array.from(kt).map(function(){var Rn=(0,g.Z)(function*(js){return js($.origin,ot)});return function(js){return Rn.apply(this,arguments)}}()),On=yield function io(E){return Promise.all(E.map(function(){var c=(0,g.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(D){return{fulfilled:!1,reason:D}}});return function(f){return c.apply(this,arguments)}}()))}(fn);$.ports[0].postMessage({status:"done",eventId:J,eventType:Oe,response:On})})()}_subscribe(f,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(D)}_unsubscribe(f,D){this.handlersMap[f]&&D&&this.handlersMap[f].delete(D),(!D||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function fa(E="",c=10){let f="";for(let D=0;D<c;D++)f+=Math.floor(10*Math.random());return E+f}class bt{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,D=50){var $=this;return(0,g.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Oe,ot;return new Promise((kt,fn)=>{const On=fa("",20);J.port1.start();const Rn=setTimeout(()=>{fn(new Error("unsupported_event"))},D);ot={messageChannel:J,onMessage(js){const Si=js;if(Si.data.eventId===On)switch(Si.data.status){case"ack":clearTimeout(Rn),Oe=setTimeout(()=>{fn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Oe),kt(Si.data.response);break;default:clearTimeout(Rn),clearTimeout(Oe),fn(new Error("invalid_response"))}}},$.handlers.add(ot),J.port1.addEventListener("message",ot.onMessage),$.target.postMessage({eventType:c,eventId:On,data:f},[J.port2])}).finally(()=>{ot&&$.removeMessageHandler(ot)})})()}}function An(){return window}function pa(){return typeof An().WorkerGlobalScope<"u"&&"function"==typeof An().importScripts}function In(){return(In=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const et="firebaseLocalStorageDb",Xr="firebaseLocalStorage",ea="fbase_key";class xo{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Ca(E,c){return E.transaction([Xr],c?"readwrite":"readonly").objectStore(Xr)}function Vo(){const E=indexedDB.open(et,1);return new Promise((c,f)=>{E.addEventListener("error",()=>{f(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore(Xr,{keyPath:ea})}catch($){f($)}}),E.addEventListener("success",(0,g.Z)(function*(){const D=E.result;D.objectStoreNames.contains(Xr)?c(D):(D.close(),yield function nu(){const E=indexedDB.deleteDatabase(et);return new xo(E).toPromise()}(),c(yield Vo()))}))})}function ta(E,c,f){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,g.Z)(function*(E,c,f){const D=Ca(E,!0).put({[ea]:c,value:f});return new xo(D).toPromise()})).apply(this,arguments)}function na(){return(na=(0,g.Z)(function*(E,c){const f=Ca(E,!1).get(c),D=yield new xo(f).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Bo(E,c){const f=Ca(E,!0).delete(c);return new xo(f).toPromise()}const ra=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,g.Z)(function*(){return f.db||(f.db=yield Vo()),f.db})()}_withRetries(f){var D=this;return(0,g.Z)(function*(){let $=0;for(;;)try{const J=yield D._openDb();return yield f(J)}catch(J){if($++>3)throw J;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,g.Z)(function*(){return pa()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,g.Z)(function*(){f.receiver=eu._getInstance(function Bt(){return pa()?self:null}()),f.receiver._subscribe("keyChanged",function(){var D=(0,g.Z)(function*($,J){return{keyProcessed:(yield f._poll()).includes(J.key)}});return function($,J){return D.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var D=(0,g.Z)(function*($,J){return["keyChanged"]});return function($,J){return D.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,g.Z)(function*(){var D,$;if(f.activeServiceWorker=yield function nn(){return In.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new bt(f.activeServiceWorker);const J=yield f.sender._send("ping",{},800);!J||(null===(D=J[0])||void 0===D?void 0:D.fulfilled)&&(null===($=J[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var D=this;return(0,g.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function tu(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:f},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Vo();return yield ta(f,Uo,"1"),yield Bo(f,Uo),!0}catch{}return!1})()}_withPendingWrite(f){var D=this;return(0,g.Z)(function*(){D.pendingWrites++;try{yield f()}finally{D.pendingWrites--}})()}_set(f,D){var $=this;return(0,g.Z)(function*(){return $._withPendingWrite((0,g.Z)(function*(){return yield $._withRetries(J=>ta(J,f,D)),$.localCache[f]=D,$.notifyServiceWorker(f)}))})()}_get(f){var D=this;return(0,g.Z)(function*(){const $=yield D._withRetries(J=>function Ra(E,c){return na.apply(this,arguments)}(J,f));return D.localCache[f]=$,$})()}_remove(f){var D=this;return(0,g.Z)(function*(){return D._withPendingWrite((0,g.Z)(function*(){return yield D._withRetries($=>Bo($,f)),delete D.localCache[f],D.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,g.Z)(function*(){const D=yield f._withRetries(Oe=>{const ot=Ca(Oe,!1).getAll();return new xo(ot).toPromise()});if(!D)return[];if(0!==f.pendingWrites)return[];const $=[],J=new Set;for(const{fbase_key:Oe,value:ot}of D)J.add(Oe),JSON.stringify(f.localCache[Oe])!==JSON.stringify(ot)&&(f.notifyListeners(Oe,ot),$.push(Oe));for(const Oe of Object.keys(f.localCache))f.localCache[Oe]&&!J.has(Oe)&&(f.notifyListeners(Oe,null),$.push(Oe));return $})()}notifyListeners(f,D){this.localCache[f]=D;const $=this.listeners[f];if($)for(const J of Array.from($))J(D)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function Br(E,c){return gn(E,"POST","/v2/accounts/mfaSignIn:start",Ht(E,c))}function Xn(){return(Xn=(0,g.Z)(function*(E){return(yield gn(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gr(E){return new Promise((c,f)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=c,D.onerror=$=>{const J=st("internal-error");J.customData=$,f(J)},D.type="text/javascript",D.charset="UTF-8",function Ho(){var E,c;return null!==(c=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==c?c:document}().appendChild(D)})}function Ut(E){return`__${E}${Math.floor(1e6*Math.random())}`}const so=1e12;class zr{constructor(c){this.auth=c,this.counter=so,this._widgets=new Map}render(c,f){const D=this.counter;return this._widgets.set(D,new fu(c,this.auth.name,f||{})),this.counter++,D}reset(c){var f;const D=c||so;null===(f=this._widgets.get(D))||void 0===f||f.delete(),this._widgets.delete(D)}getResponse(c){var f;return(null===(f=this._widgets.get(c||so))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,g.Z)(function*(){var D;return null===(D=f._widgets.get(c||so))||void 0===D||D.execute(),""})()}}class fu{constructor(c,f,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof c?document.getElementById(c):c;me($,"argument-error",{appName:f}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function P(E){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<E;D++)c.push(f.charAt(Math.floor(Math.random()*f.length)));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const m=Ut("rcb"),y=new Mt(3e4,6e4);class W{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=An().grecaptcha)||void 0===c||!c.render)}load(c,f=""){return me(function X(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(f),c,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(An().grecaptcha):new Promise((D,$)=>{const J=An().setTimeout(()=>{$(st(c,"network-request-failed"))},y.get());An()[m]=()=>{An().clearTimeout(J),delete An()[m];const ot=An().grecaptcha;if(!ot)return void $(st(c,"internal-error"));const kt=ot.render;ot.render=(fn,On)=>{const Rn=kt(fn,On);return this.counter++,Rn},this.hostLanguage=f,D(ot)},Gr(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:m,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(J),$(st(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var f;return!(null===(f=An().grecaptcha)||void 0===f||!f.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ve{load(c){return(0,g.Z)(function*(){return new zr(c)})()}clearedOneInstance(){}}const Te="recaptcha",Ge={theme:"light",type:"image"};class ut{constructor(c,f=Object.assign({},Ge),D){this.parameters=f,this.type=Te,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mr(D),this.isInvisible="invisible"===this.parameters.size,me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof c?document.getElementById(c):c;me($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ve:new W,this.validateStartingState()}verify(){var c=this;return(0,g.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),D=c.getAssertedRecaptcha();return D.getResponse(f)||new Promise(J=>{const Oe=ot=>{!ot||(c.tokenChangeListeners.delete(Oe),J(ot))};c.tokenChangeListeners.add(Oe),c.isInvisible&&D.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(D=>D(f)),"function"==typeof c)c(f);else if("string"==typeof c){const D=An()[c];"function"==typeof D&&D(f)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,g.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const D=document.createElement("div");f.appendChild(D),f=D}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,g.Z)(function*(){me(Pe()&&!pa(),c.auth,"internal-error"),yield function De(){let E=null;return new Promise(c=>{"complete"!==document.readyState?(E=()=>c(),window.addEventListener("load",E)):c()}).catch(c=>{throw E&&window.removeEventListener("load",E),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function Ji(E){return Xn.apply(this,arguments)}(c.auth);me(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qt{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=wi._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function Vn(){return(Vn=(0,g.Z)(function*(E,c,f){const D=Mr(E),$=yield ei(D,c,(0,j.m9)(f));return new Qt($,J=>si(D,J))})).apply(this,arguments)}function hn(){return(hn=(0,g.Z)(function*(E,c,f){const D=(0,j.m9)(E);yield Yn(!1,D,"phone");const $=yield ei(D.auth,c,(0,j.m9)(f));return new Qt($,J=>Qr(D,J))})).apply(this,arguments)}function pr(){return(pr=(0,g.Z)(function*(E,c,f){const D=(0,j.m9)(E),$=yield ei(D.auth,c,(0,j.m9)(f));return new Qt($,J=>Xs(D,J))})).apply(this,arguments)}function ei(E,c,f){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,g.Z)(function*(E,c,f){var D;const $=yield f.verify();try{let J;if(me("string"==typeof $,E,"argument-error"),me(f.type===Te,E,"argument-error"),J="string"==typeof c?{phoneNumber:c}:c,"session"in J){const Oe=J.session;if("phoneNumber"in J)return me("enroll"===Oe.type,E,"internal-error"),(yield Ma(E,{idToken:Oe.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{me("signin"===Oe.type,E,"internal-error");const ot=(null===(D=J.multiFactorHint)||void 0===D?void 0:D.uid)||J.multiFactorUid;return me(ot,E,"missing-multi-factor-info"),(yield Br(E,{mfaPendingCredential:Oe.credential,mfaEnrollmentId:ot,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Oe}=yield ft(E,{phoneNumber:J.phoneNumber,recaptchaToken:$});return Oe}}finally{f._reset()}})).apply(this,arguments)}function ia(){return(ia=(0,g.Z)(function*(E,c){yield Ts((0,j.m9)(E),c)})).apply(this,arguments)}let ti=(()=>{class E{constructor(f){this.providerId=E.PROVIDER_ID,this.auth=Mr(f)}verifyPhoneNumber(f,D){return ei(this.auth,f,(0,j.m9)(D))}static credential(f,D){return wi._fromVerification(f,D)}static credentialFromResult(f){return E.credentialFromTaggedObject(f)}static credentialFromError(f){return E.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:D,temporaryProof:$}=f;return D&&$?wi._fromTokenResponse(D,$):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Ti(E,c){return c?fe(c):(me(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class ji extends ii{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return mr(c,this._buildIdpRequest())}_linkToIdToken(c,f){return mr(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return mr(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function yi(E){return Zi(E.auth,new ji(E),E.bypassAuthState)}function Dr(E){const{auth:c,user:f}=E;return me(f,c,"internal-error"),vs(f,new ji(E),E.bypassAuthState)}function I(E){return C.apply(this,arguments)}function C(){return(C=(0,g.Z)(function*(E){const{auth:c,user:f}=E;return me(f,c,"internal-error"),Ts(f,new ji(E),E.bypassAuthState)})).apply(this,arguments)}class v{constructor(c,f,D,$,J=!1){this.auth=c,this.resolver=D,this.user=$,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,g.Z)(function*(D,$){c.pendingPromise={resolve:D,reject:$};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(J){c.reject(J)}});return function(D,$){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,g.Z)(function*(){const{urlResponse:D,sessionId:$,postBody:J,tenantId:Oe,error:ot,type:kt}=c;if(ot)return void f.reject(ot);const fn={auth:f.auth,requestUri:D,sessionId:$,tenantId:Oe||void 0,postBody:J||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(kt)(fn))}catch(On){f.reject(On)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return yi;case"linkViaPopup":case"linkViaRedirect":return I;case"reauthViaPopup":case"reauthViaRedirect":return Dr;default:_e(this.auth,"internal-error")}}resolve(c){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const S=new Mt(2e3,1e4);function G(){return(G=(0,g.Z)(function*(E,c,f){const D=Mr(E);yt(E,c,Vi);const $=Ti(D,f);return new $t(D,"signInViaPopup",c,$).executeNotNull()})).apply(this,arguments)}function ne(){return(ne=(0,g.Z)(function*(E,c,f){const D=(0,j.m9)(E);yt(D.auth,c,Vi);const $=Ti(D.auth,f);return new $t(D.auth,"reauthViaPopup",c,$,D).executeNotNull()})).apply(this,arguments)}function Et(){return(Et=(0,g.Z)(function*(E,c,f){const D=(0,j.m9)(E);yt(D.auth,c,Vi);const $=Ti(D.auth,f);return new $t(D.auth,"linkViaPopup",c,$,D).executeNotNull()})).apply(this,arguments)}let $t=(()=>{class E extends v{constructor(f,D,$,J,Oe){super(f,D,J,Oe),this.provider=$,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var f=this;return(0,g.Z)(function*(){const D=yield f.execute();return me(D,f.auth,"internal-error"),D})()}onExecution(){var f=this;return(0,g.Z)(function*(){ae(1===f.filter.length,"Popup operations only handle one event");const D=fa();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],D),f.authWindow.associatedEvent=D,f.resolver._originValidation(f.auth).catch($=>{f.reject($)}),f.resolver._isIframeWebStorageSupported(f.auth,$=>{$||f.reject(st(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(st(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const f=()=>{var D,$;this.pollId=null!==($=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(st(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,S.get())};f()}}return E.currentPopupAction=null,E})();const Nn=new Map;class ar extends v{constructor(c,f,D=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,D),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,g.Z)(function*(){let D=Nn.get(f.auth._key());if(!D){try{const J=(yield function ds(E,c){return xs.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;D=()=>Promise.resolve(J)}catch($){D=()=>Promise.reject($)}Nn.set(f.auth._key(),D)}return f.bypassAuthState||Nn.set(f.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,D=this;return(0,g.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(D,c);if("unknown"!==c.type){if(c.eventId){const $=yield D.auth._redirectUserForId(c.eventId);if($)return D.user=$,f().call(D,c);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function xs(){return(xs=(0,g.Z)(function*(E,c){const f=xu(c),D=Rs(E);if(!(yield D._isAvailable()))return!1;const $="true"===(yield D._get(f));return yield D._remove(f),$})).apply(this,arguments)}function Er(E,c){return ki.apply(this,arguments)}function ki(){return(ki=(0,g.Z)(function*(E,c){return Rs(E)._set(xu(c),"true")})).apply(this,arguments)}function No(E,c){Nn.set(E._key(),c)}function Rs(E){return fe(E._redirectPersistence)}function xu(E){return Se("pendingRedirect",E.config.apiKey,E.name)}function N(){return(N=(0,g.Z)(function*(E,c,f){const D=Mr(E);yt(E,c,Vi);const $=Ti(D,f);return yield Er($,D),$._openRedirect(D,c,"signInViaRedirect")})).apply(this,arguments)}function de(){return(de=(0,g.Z)(function*(E,c,f){const D=(0,j.m9)(E);yt(D.auth,c,Vi);const $=Ti(D.auth,f);yield Er($,D.auth);const J=yield Sn(D);return $._openRedirect(D.auth,c,"reauthViaRedirect",J)})).apply(this,arguments)}function Ct(){return(Ct=(0,g.Z)(function*(E,c,f){const D=(0,j.m9)(E);yt(D.auth,c,Vi);const $=Ti(D.auth,f);yield Yn(!1,D,c.providerId),yield Er($,D.auth);const J=yield Sn(D);return $._openRedirect(D.auth,c,"linkViaRedirect",J)})).apply(this,arguments)}function Mn(){return(Mn=(0,g.Z)(function*(E,c){return yield Mr(E)._initializationPromise,Bn(E,c,!1)})).apply(this,arguments)}function Bn(E,c){return ir.apply(this,arguments)}function ir(){return(ir=(0,g.Z)(function*(E,c,f=!1){const D=Mr(E),$=Ti(D,c),Oe=yield new ar(D,$,f).execute();return Oe&&!f&&(delete Oe.user._redirectEventId,yield D._persistUserIfCurrent(Oe.user),yield D._setRedirectUser(null,c)),Oe})).apply(this,arguments)}function Sn(E){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,g.Z)(function*(E){const c=fa(`${E.uid}:::`);return E._redirectEventId=c,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),c})).apply(this,arguments)}class pu{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(c,D)&&(f=!0,this.sendToConsumer(c,D),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Xi(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ga(E);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var D;if(c.error&&!Ga(c)){const $=(null===(D=c.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";f.onError(st(this.auth,$))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const D=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&D}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ru(c))}saveEventToCache(c){this.cachedEventUids.add(ru(c)),this.lastProcessedEventTime=Date.now()}}function ru(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(c=>c).join("-")}function Ga({type:E,error:c}){return"unknown"===E&&"auth/no-auth-event"===c?.code}function Na(E){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,g.Z)(function*(E,c={}){return gn(E,"GET","/v1/projects",c)})).apply(this,arguments)}const gu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,za=/^https?/;function ih(){return(ih=(0,g.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:c}=yield Na(E);for(const f of c)try{if(vl(f))return}catch{}_e(E,"unauthorized-domain")})).apply(this,arguments)}function vl(E){const c=Qe(),{protocol:f,hostname:D}=new URL(c);if(E.startsWith("chrome-extension://")){const Oe=new URL(E);return""===Oe.hostname&&""===D?"chrome-extension:"===f&&E.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&Oe.hostname===D}if(!za.test(f))return!1;if(gu.test(E))return D===E;const $=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(D)}const ec=new Mt(3e4,6e4);function El(){const E=An().___jsl;if(E?.H)for(const c of Object.keys(E.H))if(E.H[c].r=E.H[c].r||[],E.H[c].L=E.H[c].L||[],E.H[c].r=[...E.H[c].L],E.CP)for(let f=0;f<E.CP.length;f++)E.CP[f]=null}let Ku=null;function po(E){return Ku=Ku||function wl(E){return new Promise((c,f)=>{var D,$,J;function Oe(){El(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{El(),f(st(E,"network-request-failed"))},timeout:ec.get()})}if(null!==($=null===(D=An().gapi)||void 0===D?void 0:D.iframes)&&void 0!==$&&$.Iframe)c(gapi.iframes.getContext());else{if(null===(J=An().gapi)||void 0===J||!J.load){const ot=Ut("iframefcb");return An()[ot]=()=>{gapi.load?Oe():f(st(E,"network-request-failed"))},Gr(`https://apis.google.com/js/api.js?onload=${ot}`).catch(kt=>f(kt))}Oe()}}).catch(c=>{throw Ku=null,c})}(E),Ku}const sh=new Mt(5e3,15e3),Lf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uf(E){const c=E.config;me(c.authDomain,E,"auth-domain-config-required");const f=c.emulator?Tt(c,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,D={apiKey:c.apiKey,appName:E.name,v:ce.SDK_VERSION},$=Gc.get(E.config.apiHost);$&&(D.eid=$);const J=E._getFrameworks();return J.length&&(D.fw=J.join(",")),`${f}?${(0,j.xO)(D).slice(1)}`}function Qu(){return Qu=(0,g.Z)(function*(E){const c=yield po(E),f=An().gapi;return me(f,E,"internal-error"),c.open({where:document.body,url:Uf(E),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lf,dontclear:!0},D=>new Promise(function(){var $=(0,g.Z)(function*(J,Oe){yield D.restyle({setHideOnLeave:!1});const ot=st(E,"network-request-failed"),kt=An().setTimeout(()=>{Oe(ot)},sh.get());function fn(){An().clearTimeout(kt),J(D)}D.ping(fn).then(fn,()=>{Oe(ot)})});return function(J,Oe){return $.apply(this,arguments)}}()))}),Qu.apply(this,arguments)}const qa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ga{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pa(E,c,f,D,$,J){me(E.config.authDomain,E,"auth-domain-config-required"),me(E.config.apiKey,E,"invalid-api-key");const Oe={apiKey:E.config.apiKey,appName:E.name,authType:f,redirectUrl:D,v:ce.SDK_VERSION,eventId:$};if(c instanceof Vi){c.setDefaultLanguage(E.languageCode),Oe.providerId=c.providerId||"",(0,j.xb)(c.getCustomParameters())||(Oe.customParameters=JSON.stringify(c.getCustomParameters()));for(const[kt,fn]of Object.entries(J||{}))Oe[kt]=fn}if(c instanceof Ci){const kt=c.getScopes().filter(fn=>""!==fn);kt.length>0&&(Oe.scopes=kt.join(","))}E.tenantId&&(Oe.tid=E.tenantId);const ot=Oe;for(const kt of Object.keys(ot))void 0===ot[kt]&&delete ot[kt];return`${function Wc({config:E}){return E.emulator?Tt(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,j.xO)(ot).slice(1)}`}const mu="webStorageSupport";class ba extends class Cl{constructor(c){this.factorId=c}_process(c,f,D){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,D);case"signin":return this._finalizeSignIn(c,f.credential);default:return Je("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new ba(c)}_finalizeEnroll(c,f,D){return function hu(E,c){return gn(E,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(E,c))}(c,{idToken:f,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function Cn(E,c){return gn(E,"POST","/v2/accounts/mfaSignIn:finalize",Ht(E,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yu=(()=>{class E{constructor(){}static assertion(f){return ba._fromCredential(f)}}return E.FACTOR_ID="phone",E})();var rc="@firebase/auth",qc="0.20.10";class lh{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,g.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(D=>{var $;c((null===($=D)||void 0===$?void 0:$.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);!f||(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _u(){return window}function vu(){return(vu=(0,g.Z)(function*(E,c,f){var D;const{BuildInfo:$}=_u();ae(c.sessionId,"AuthEvent did not contain a session ID");const J=yield Qc(c.sessionId),Oe={};return re()?Oe.ibi=$.packageName:qn()?Oe.apn=$.packageName:_e(E,"operation-not-supported-in-this-environment"),$.displayName&&(Oe.appDisplayName=$.displayName),Oe.sessionId=J,Pa(E,f,c.type,void 0,null!==(D=c.eventId)&&void 0!==D?D:void 0,Oe)})).apply(this,arguments)}function bl(){return(bl=(0,g.Z)(function*(E){const{BuildInfo:c}=_u(),f={};re()?f.iosBundleId=c.packageName:qn()?f.androidPackageName=c.packageName:_e(E,"operation-not-supported-in-this-environment"),yield Na(E,f)})).apply(this,arguments)}function Kc(){return(Kc=(0,g.Z)(function*(E,c,f){const{cordova:D}=_u();let $=()=>{};try{yield new Promise((J,Oe)=>{let ot=null;function kt(){var Rn;J();const js=null===(Rn=D.plugins.browsertab)||void 0===Rn?void 0:Rn.close;"function"==typeof js&&js(),"function"==typeof f?.close&&f.close()}function fn(){ot||(ot=window.setTimeout(()=>{Oe(st(E,"redirect-cancelled-by-user"))},2e3))}function On(){"visible"===document?.visibilityState&&fn()}c.addPassiveListener(kt),document.addEventListener("resume",fn,!1),qn()&&document.addEventListener("visibilitychange",On,!1),$=()=>{c.removePassiveListener(kt),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",On,!1),ot&&window.clearTimeout(ot)}})}finally{$()}})).apply(this,arguments)}function Qc(E){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,g.Z)(function*(E){const c=hs(E),f=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(f)).map($=>$.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function hs(E){if(ae(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const c=new ArrayBuffer(E.length),f=new Uint8Array(c);for(let D=0;D<E.length;D++)f[D]=E.charCodeAt(D);return f}(0,j.Pz)("authIdTokenMaxAge"),function ch(E){(0,ce._registerComponent)(new ye.wA("auth",(c,{options:f})=>{const D=c.getProvider("app").getImmediate(),$=c.getProvider("heartbeat"),{apiKey:J,authDomain:Oe}=D.options;return((ot,kt)=>{me(J&&!J.includes(":"),"invalid-api-key",{appName:ot.name}),me(!Oe?.includes(":"),"argument-error",{appName:ot.name});const fn={apiKey:J,authDomain:Oe,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fn(E)},On=new bn(ot,kt,fn);return function $e(E,c){const f=c?.persistence||[],D=(Array.isArray(f)?f:[f]).map(fe);c?.errorMap&&E._updateErrorMap(c.errorMap),E._initializeWithPersistence(D,c?.popupRedirectResolver)}(On,f),On})(D,$)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,D)=>{c.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new ye.wA("auth-internal",c=>{const f=Mr(c.getProvider("auth").getImmediate());return new lh(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(rc,qc,function jf(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,ce.registerVersion)(rc,qc,"esm2017")}("Browser");class Sl extends pu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(c)),super.onEvent(c)}initialized(){var c=this;return(0,g.Z)(function*(){yield c.initPromise})()}}function Yu(E){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,g.Z)(function*(E){const c=yield Ta()._get(Ju(E));return c&&(yield Ta()._remove(Ju(E))),c})).apply(this,arguments)}function su(){const E=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const D=Math.floor(Math.random()*c.length);E.push(c.charAt(D))}return E.join("")}function Ta(){return fe(xa)}function Ju(E){return Se("authEvent",E.config.apiKey,E.name)}function ou(E){if(!E?.includes("?"))return{};const[c,...f]=E.split("?");return(0,j.zd)(f.join("?"))}function jr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:st("no-auth-event")}}function go(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Za(E=(0,j.z$)()){return!("file:"!==go()&&"ionic:"!==go()&&"capacitor:"!==go()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function mh(){try{const E=self.localStorage,c=fa();if(E)return E.setItem(c,"1"),E.removeItem(c),!function Xu(E=(0,j.z$)()){return function ka(){return(0,j.w1)()&&11===document?.documentMode}()||function nd(E=(0,j.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,j.hl)()}catch{return oc()&&(0,j.hl)()}return!1}function oc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ur(){return(function Wf(){return"http:"===go()||"https:"===go()}()||(0,j.ru)()||Za())&&!function sc(){return(0,j.b$)()||(0,j.UG)()}()&&mh()&&!oc()}function ac(){return Za()&&typeof document<"u"}function Ou(){return(Ou=(0,g.Z)(function*(){return!!ac()&&new Promise(E=>{const c=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),E(!0)})})})).apply(this,arguments)}const mo={LOCAL:"local",NONE:"none",SESSION:"session"},ku=me,au="persistence";function Al(E){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,g.Z)(function*(E){yield E._initializationPromise;const c=uc(),f=Se(au,E.config.apiKey,E.name);c&&c.setItem(f,E._getPersistence())})).apply(this,arguments)}function uc(){var E;try{return(null===(E=function Pu(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const lc=me;class sa{constructor(){this.browserResolver=fe(class $o{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yi,this._completeRedirectFn=Bn,this._overrideRedirectResult=No}_openPopup(c,f,D,$){var J=this;return(0,g.Z)(function*(){var Oe;ae(null===(Oe=J.eventManagers[c._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const ot=Pa(c,f,D,Qe(),$);return function tc(E,c,f,D=500,$=600){const J=Math.max((window.screen.availHeight-$)/2,0).toString(),Oe=Math.max((window.screen.availWidth-D)/2,0).toString();let ot="";const kt=Object.assign(Object.assign({},qa),{width:D.toString(),height:$.toString(),top:J,left:Oe}),fn=(0,j.z$)().toLowerCase();f&&(ot=kn(fn)?"_blank":f),Pt(fn)&&(c=c||"http://localhost",kt.scrollbars="yes");const On=Object.entries(kt).reduce((js,[Si,od])=>`${js}${Si}=${od},`,"");if(function ht(E=(0,j.z$)()){var c;return re(E)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(fn)&&"_self"!==ot)return function Ru(E,c){const f=document.createElement("a");f.href=E,f.target=c;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(D)}(c||"",ot),new ga(null);const Rn=window.open(c||"",ot,On);me(Rn,E,"popup-blocked");try{Rn.focus()}catch{}return new ga(Rn)}(c,ot,fa())})()}_openRedirect(c,f,D,$){var J=this;return(0,g.Z)(function*(){return yield J._originValidation(c),function ci(E){An().location.href=E}(Pa(c,f,D,Qe(),$)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:$,promise:J}=this.eventManagers[f];return $?Promise.resolve($):(ae(J,"If manager is not set, promise should be"),J)}const D=this.initAndGetManager(c);return this.eventManagers[f]={promise:D},D.catch(()=>{delete this.eventManagers[f]}),D}initAndGetManager(c){var f=this;return(0,g.Z)(function*(){const D=yield function ah(E){return Qu.apply(this,arguments)}(c),$=new pu(c);return D.register("authEvent",J=>(me(J?.authEvent,c,"invalid-auth-event"),{status:$.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:$},f.iframes[c._key()]=D,$})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(mu,{type:mu},$=>{var J;const Oe=null===(J=$?.[0])||void 0===J?void 0:J[mu];void 0!==Oe&&f(!!Oe),_e(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Wa(E){return ih.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return Dn()||sn()||re()}}),this.cordovaResolver=fe(class td{constructor(){this._redirectPersistence=Yi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bn,this._overrideRedirectResult=No}_initialize(c){var f=this;return(0,g.Z)(function*(){const D=c._key();let $=f.eventManagers.get(D);return $||($=new Sl(c),f.eventManagers.set(D,$),f.attachCallbackListeners(c,$)),$})()}_openPopup(c){_e(c,"operation-not-supported-in-this-environment")}_openRedirect(c,f,D,$){var J=this;return(0,g.Z)(function*(){!function ic(E){var c,f,D,$,J,Oe,ot,kt,fn,On;const Rn=_u();me("function"==typeof(null===(c=Rn?.universalLinks)||void 0===c?void 0:c.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof(null===(f=Rn?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me("function"==typeof(null===(J=null===($=null===(D=Rn?.cordova)||void 0===D?void 0:D.plugins)||void 0===$?void 0:$.browsertab)||void 0===J?void 0:J.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(kt=null===(ot=null===(Oe=Rn?.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===ot?void 0:ot.browsertab)||void 0===kt?void 0:kt.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(On=null===(fn=Rn?.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===On?void 0:On.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const Oe=yield J._initialize(c);yield Oe.initialized(),Oe.resetRedirect(),function Fi(){Nn.clear()}(),yield J._originValidation(c);const ot=function hh(E,c,f=null){return{type:c,eventId:f,urlResponse:null,sessionId:su(),postBody:null,tenantId:E.tenantId,error:st(E,"no-auth-event")}}(c,D,$);yield function Gf(E,c){return Ta()._set(Ju(E),c)}(c,ot);const kt=yield function Go(E,c,f){return vu.apply(this,arguments)}(c,ot,f),fn=yield function Nu(E){const{cordova:c}=_u();return new Promise(f=>{c.plugins.browsertab.isAvailable(D=>{let $=null;D?c.plugins.browsertab.openUrl(E):$=c.InAppBrowser.open(E,function Le(E=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),f($)})})}(kt);return function $f(E,c,f){return Kc.apply(this,arguments)}(c,Oe,fn)})()}_isIframeWebStorageSupported(c,f){throw new Error("Method not implemented.")}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Eu(E){return bl.apply(this,arguments)}(c)),this.originValidationPromises[f]}attachCallbackListeners(c,f){const{universalLinks:D,handleOpenURL:$,BuildInfo:J}=_u(),Oe=setTimeout((0,g.Z)(function*(){yield Yu(c),f.onEvent(jr())}),500),ot=function(){var On=(0,g.Z)(function*(Rn){clearTimeout(Oe);const js=yield Yu(c);let Si=null;js&&Rn?.url&&(Si=function Xc(E,c){var f,D;const $=function Is(E){const c=ou(E),f=c.link?decodeURIComponent(c.link):void 0,D=ou(f).link,$=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return ou($).link||$||D||f||E}(c);if($.includes("/__/auth/callback")){const J=ou($),Oe=J.firebaseError?function fh(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(J.firebaseError)):null,ot=null===(D=null===(f=Oe?.code)||void 0===f?void 0:f.split("auth/"))||void 0===D?void 0:D[1],kt=ot?st(ot):null;return kt?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:$,postBody:null}}return null}(js,Rn.url)),f.onEvent(Si||jr())});return function(js){return On.apply(this,arguments)}}();typeof D<"u"&&"function"==typeof D.subscribe&&D.subscribe(null,ot);const kt=$,fn=`${J.packageName.toLowerCase()}://`;_u().handleOpenURL=function(){var On=(0,g.Z)(function*(Rn){if(Rn.toLowerCase().startsWith(fn)&&ot({url:Rn}),"function"==typeof kt)try{kt(Rn)}catch(js){console.error(js)}});return function(Rn){return On.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Yi,this._completeRedirectFn=Bn,this._overrideRedirectResult=No}_initialize(c){var f=this;return(0,g.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,f,D,$){var J=this;return(0,g.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openPopup(c,f,D,$)})()}_openRedirect(c,f,D,$){var J=this;return(0,g.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openRedirect(c,f,D,$)})()}_isIframeWebStorageSupported(c,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,f)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return ac()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,g.Z)(function*(){if(c.underlyingResolver)return;const f=yield function rd(){return Ou.apply(this,arguments)}();c.underlyingResolver=f?c.cordovaResolver:c.browserResolver})()}}function Lu(E){return E.unwrap()}function qf(E){return Ml(E)}function Ml(E){const{_tokenResponse:c}=E instanceof j.ZR?E.customData:E;if(!c)return null;if(!(E instanceof j.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return ti.credentialFromResult(E);const f=c.providerId;if(!f||"password"===f)return null;let D;switch(f){case"google.com":D=ms;break;case"facebook.com":D=Ws;break;case"github.com":D=ys;break;case"twitter.com":D=gi;break;default:const{oauthIdToken:$,oauthAccessToken:J,oauthTokenSecret:Oe,pendingToken:ot,nonce:kt}=c;return J||Oe||$||ot?ot?f.startsWith("saml.")?as._create(f,ot):He._fromParams({providerId:f,signInMethod:f,pendingToken:ot,idToken:$,accessToken:J}):new os(f).credential({idToken:$,accessToken:J,rawNonce:kt}):null}return E instanceof j.ZR?D.credentialFromError(E):D.credentialFromResult(E)}function Bs(E,c){return c.catch(f=>{throw f instanceof j.ZR&&function ao(E,c){var f,D;const $=null===(f=c.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(D=c)||void 0===D?void 0:D.code))c.resolver=new id(E,function Cr(E,c){var f;const D=(0,j.m9)(E),$=c;return me(c.customData.operationType,D,"argument-error"),me(null===(f=$.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,D,"argument-error"),Lo._fromError(D,$)}(E,c));else if($){const J=Ml(c),Oe=c;J&&(Oe.credential=J,Oe.tenantId=$.tenantId||void 0,Oe.email=$.email||void 0,Oe.phoneNumber=$.phoneNumber||void 0)}}(E,f),f}).then(f=>{const $=f.user;return{operationType:f.operationType,credential:qf(f),additionalUserInfo:Jn(f),user:Ka.getOrCreate($)}})}function Uu(E,c){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,g.Z)(function*(E,c){const f=yield c;return{verificationId:f.verificationId,confirm:D=>Bs(E,f.confirm(D))}})).apply(this,arguments)}class id{constructor(c,f){this.resolver=f,this.auth=function cc(E){return E.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Bs(Lu(this.auth),this.resolver.resolveSignIn(c))}}class Ka{constructor(c){this._delegate=c,this.multiFactor=function Qi(E){const c=(0,j.m9)(E);return ja.has(c)||ja.set(c,Ja._fromUser(c)),ja.get(c)}(c)}static getOrCreate(c){return Ka.USER_MAP.has(c)||Ka.USER_MAP.set(c,new Ka(c)),Ka.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var f=this;return(0,g.Z)(function*(){return Bs(f.auth,Qr(f._delegate,c))})()}linkWithPhoneNumber(c,f){var D=this;return(0,g.Z)(function*(){return Uu(D.auth,function an(E,c,f){return hn.apply(this,arguments)}(D._delegate,c,f))})()}linkWithPopup(c){var f=this;return(0,g.Z)(function*(){return Bs(f.auth,function je(E,c,f){return Et.apply(this,arguments)}(f._delegate,c,sa))})()}linkWithRedirect(c){var f=this;return(0,g.Z)(function*(){return yield Al(Mr(f.auth)),function Ue(E,c,f){return function tt(E,c,f){return Ct.apply(this,arguments)}(E,c,f)}(f._delegate,c,sa)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var f=this;return(0,g.Z)(function*(){return Bs(f.auth,Xs(f._delegate,c))})()}reauthenticateWithPhoneNumber(c,f){return Uu(this.auth,function kr(E,c,f){return pr.apply(this,arguments)}(this._delegate,c,f))}reauthenticateWithPopup(c){return Bs(this.auth,function ee(E,c,f){return ne.apply(this,arguments)}(this._delegate,c,sa))}reauthenticateWithRedirect(c){var f=this;return(0,g.Z)(function*(){return yield Al(Mr(f.auth)),function U(E,c,f){return function Z(E,c,f){return de.apply(this,arguments)}(E,c,f)}(f._delegate,c,sa)})()}sendEmailVerification(c){return function Ea(E,c){return Qo.apply(this,arguments)}(this._delegate,c)}unlink(c){var f=this;return(0,g.Z)(function*(){return yield function Rr(E,c){return Gn.apply(this,arguments)}(f._delegate,c),f})()}updateEmail(c){return function A(E,c){return O((0,j.m9)(E),c,null)}(this._delegate,c)}updatePassword(c){return function z(E,c){return O((0,j.m9)(E),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function ws(E,c){return ia.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Ao(E,c){return ha.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,f){return function So(E,c,f){return da.apply(this,arguments)}(this._delegate,c,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ka.USER_MAP=new WeakMap;const Fa=me;let sd=(()=>{class E{constructor(f,D){if(this.app=f,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$}=f.options;Fa($,"invalid-api-key",{appName:f.name}),Fa($,"invalid-api-key",{appName:f.name});const J=typeof window<"u"?sa:void 0;this._delegate=D.initialize({options:{persistence:vh($,f.name),popupRedirectResolver:J}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ka.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,D){!function ks(E,c,f){const D=Mr(E);me(D._canInitEmulator,D,"emulator-config-failed"),me(/^https?:\/\//.test(c),D,"invalid-emulator-scheme");const $=!!f?.disableWarnings,J=fs(c),{host:Oe,port:ot}=function qr(E){const c=fs(E),f=/(\/\/)?([^?#/]+)/.exec(E.substr(c.length));if(!f)return{host:"",port:null};const D=f[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(D);if($){const J=$[1];return{host:J,port:Fs(D.substr(J.length+1))}}{const[J,Oe]=D.split(":");return{host:J,port:Fs(Oe)}}}(c);D.config.emulator={url:`${J}//${Oe}${null===ot?"":`:${ot}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Oe,port:ot,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function ns(){function E(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,f,D)}applyActionCode(f){return function Ki(E,c){return Fo.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return to(this._delegate,f)}confirmPasswordReset(f,D){return function Es(E,c,f){return us.apply(this,arguments)}(this._delegate,f,D)}createUserWithEmailAndPassword(f,D){var $=this;return(0,g.Z)(function*(){return Bs($._delegate,function k(E,c,f){return R.apply(this,arguments)}($._delegate,f,D))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function bo(E,c){return To.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function rr(E,c){return"EMAIL_SIGNIN"===Us.parseLink(c)?.operation}(0,f)}getRedirectResult(){var f=this;return(0,g.Z)(function*(){Fa(ur(),f._delegate,"operation-not-supported-in-this-environment");const D=yield function jt(E,c){return Mn.apply(this,arguments)}(f._delegate,sa);return D?Bs(f._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function ph(E,c){Mr(E)._logFramework(c)}(this._delegate,f)}onAuthStateChanged(f,D,$){const{next:J,error:Oe,complete:ot}=dc(f,D,$);return this._delegate.onAuthStateChanged(J,Oe,ot)}onIdTokenChanged(f,D,$){const{next:J,error:Oe,complete:ot}=dc(f,D,$);return this._delegate.onIdTokenChanged(J,Oe,ot)}sendSignInLinkToEmail(f,D){return function rt(E,c,f){return en.apply(this,arguments)}(this._delegate,f,D)}sendPasswordResetEmail(f,D){return function Io(E,c,f){return Yr.apply(this,arguments)}(this._delegate,f,D||void 0)}setPersistence(f){var D=this;return(0,g.Z)(function*(){let $;switch(function yh(E,c){ku(Object.values(mo).includes(c),E,"invalid-persistence-type"),(0,j.b$)()?ku(c!==mo.SESSION,E,"unsupported-persistence-type"):(0,j.UG)()?ku(c===mo.NONE,E,"unsupported-persistence-type"):oc()?ku(c===mo.NONE||c===mo.LOCAL&&(0,j.hl)(),E,"unsupported-persistence-type"):ku(c===mo.NONE||mh(),E,"unsupported-persistence-type")}(D._delegate,f),f){case mo.SESSION:$=Yi;break;case mo.LOCAL:$=(yield fe(ra)._isAvailable())?ra:xa;break;case mo.NONE:$=he;break;default:return _e("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence($)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Bs(this._delegate,function la(E){return dr.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Bs(this._delegate,si(this._delegate,f))}signInWithCustomToken(f){return Bs(this._delegate,function wo(E,c){return Ko.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,D){return Bs(this._delegate,function Y(E,c,f){return si((0,j.m9)(E),qi.credential(c,f))}(this._delegate,f,D))}signInWithEmailLink(f,D){return Bs(this._delegate,function or(E,c,f){return bi.apply(this,arguments)}(this._delegate,f,D))}signInWithPhoneNumber(f,D){return Uu(this._delegate,function Un(E,c,f){return Vn.apply(this,arguments)}(this._delegate,f,D))}signInWithPopup(f){var D=this;return(0,g.Z)(function*(){return Fa(ur(),D._delegate,"operation-not-supported-in-this-environment"),Bs(D._delegate,function F(E,c,f){return G.apply(this,arguments)}(D._delegate,f,sa))})()}signInWithRedirect(f){var D=this;return(0,g.Z)(function*(){return Fa(ur(),D._delegate,"operation-not-supported-in-this-environment"),yield Al(D._delegate),function _i(E,c,f){return function Da(E,c,f){return N.apply(this,arguments)}(E,c,f)}(D._delegate,f,sa)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Co(E,c){return V.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=mo,E})();function dc(E,c,f){let D=E;"function"!=typeof E&&({next:D,error:c,complete:f}=E);const $=D;return{next:Oe=>$(Oe&&Ka.getOrCreate(Oe)),error:c,complete:f}}function vh(E,c){const f=function _h(E,c){const f=uc();if(!f)return[];const D=Se(au,E,c);switch(f.getItem(D)){case mo.NONE:return[he];case mo.LOCAL:return[ra,Yi];case mo.SESSION:return[Yi];default:return[]}}(E,c);if(typeof self<"u"&&!f.includes(ra)&&f.push(ra),typeof window<"u")for(const D of[xa,Yi])f.includes(D)||f.push(D);return f.includes(he)||f.push(he),f}class hc{constructor(){this.providerId="phone",this._delegate=new ti(Lu(p.Z.auth()))}static credential(c,f){return ti.credential(c,f)}verifyPhoneNumber(c,f){return this._delegate.verifyPhoneNumber(c,f)}unwrap(){return this._delegate}}hc.PHONE_SIGN_IN_METHOD=ti.PHONE_SIGN_IN_METHOD,hc.PROVIDER_ID=ti.PROVIDER_ID;const Ug=me;class xl{constructor(c,f,D=p.Z.app()){var $;Ug(null===($=D.options)||void 0===$?void 0:$.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new ut(c,f,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Zf(E){E.INTERNAL.registerComponent(new ye.wA("auth-compat",c=>{const f=c.getProvider("app-compat").getImmediate(),D=c.getProvider("auth");return new sd(f,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:qi,FacebookAuthProvider:Ws,GithubAuthProvider:ys,GoogleAuthProvider:ms,OAuthProvider:os,SAMLAuthProvider:Kr,PhoneAuthProvider:hc,PhoneMultiFactorGenerator:yu,RecaptchaVerifier:xl,TwitterAuthProvider:gi,Auth:sd,AuthCredential:ii,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.2.23")}(p.Z)},9751:(Ot,Be,L)=>{L.d(Be,{y:()=>we});var g=L(2961),p=L(727),j=L(8822),ce=L(9635),pe=L(2416),ue=L(576),ye=L(2806);let we=(()=>{class be{constructor(dt){dt&&(this._subscribe=dt)}lift(dt){const Xe=new be;return Xe.source=this,Xe.operator=dt,Xe}subscribe(dt,Xe,Rt){const nt=function le(be){return be&&be instanceof g.Lv||function se(be){return be&&(0,ue.m)(be.next)&&(0,ue.m)(be.error)&&(0,ue.m)(be.complete)}(be)&&(0,p.Nn)(be)}(dt)?dt:new g.Hp(dt,Xe,Rt);return(0,ye.x)(()=>{const{operator:Ye,source:Ft}=this;nt.add(Ye?Ye.call(nt,Ft):Ft?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(dt){try{return this._subscribe(dt)}catch(Xe){dt.error(Xe)}}forEach(dt,Xe){return new(Xe=Ne(Xe))((Rt,nt)=>{const Ye=new g.Hp({next:Ft=>{try{dt(Ft)}catch(Gt){nt(Gt),Ye.unsubscribe()}},error:nt,complete:Rt});this.subscribe(Ye)})}_subscribe(dt){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(dt)}[j.L](){return this}pipe(...dt){return(0,ce.U)(dt)(this)}toPromise(dt){return new(dt=Ne(dt))((Xe,Rt)=>{let nt;this.subscribe(Ye=>nt=Ye,Ye=>Rt(Ye),()=>Xe(nt))})}}return be.create=gt=>new be(gt),be})();function Ne(be){var gt;return null!==(gt=be??pe.v.Promise)&&void 0!==gt?gt:Promise}},4707:(Ot,Be,L)=>{L.d(Be,{t:()=>j});var g=L(7579),p=L(6063);class j extends g.x{constructor(pe=1/0,ue=1/0,ye=p.l){super(),this._bufferSize=pe,this._windowTime=ue,this._timestampProvider=ye,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ue===1/0,this._bufferSize=Math.max(1,pe),this._windowTime=Math.max(1,ue)}next(pe){const{isStopped:ue,_buffer:ye,_infiniteTimeWindow:we,_timestampProvider:Ne,_windowTime:se}=this;ue||(ye.push(pe),!we&&ye.push(Ne.now()+se)),this._trimBuffer(),super.next(pe)}_subscribe(pe){this._throwIfClosed(),this._trimBuffer();const ue=this._innerSubscribe(pe),{_infiniteTimeWindow:ye,_buffer:we}=this,Ne=we.slice();for(let se=0;se<Ne.length&&!pe.closed;se+=ye?1:2)pe.next(Ne[se]);return this._checkFinalizedStatuses(pe),ue}_trimBuffer(){const{_bufferSize:pe,_timestampProvider:ue,_buffer:ye,_infiniteTimeWindow:we}=this,Ne=(we?1:2)*pe;if(pe<1/0&&Ne<ye.length&&ye.splice(0,ye.length-Ne),!we){const se=ue.now();let le=0;for(let be=1;be<ye.length&&ye[be]<=se;be+=2)le=be;le&&ye.splice(0,le+1)}}}},7579:(Ot,Be,L)=>{L.d(Be,{x:()=>ye});var g=L(9751),p=L(727);const ce=(0,L(3888).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=L(8737),ue=L(2806);let ye=(()=>{class Ne extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const be=new we(this,this);return be.operator=le,be}_throwIfClosed(){if(this.closed)throw new ce}next(le){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(le)}})}error(le){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:be}=this;for(;be.length;)be.shift().error(le)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:be,isStopped:gt,observers:dt}=this;return be||gt?p.Lc:(this.currentObservers=null,dt.push(le),new p.w0(()=>{this.currentObservers=null,(0,pe.P)(dt,le)}))}_checkFinalizedStatuses(le){const{hasError:be,thrownError:gt,isStopped:dt}=this;be?le.error(gt):dt&&le.complete()}asObservable(){const le=new g.y;return le.source=this,le}}return Ne.create=(se,le)=>new we(se,le),Ne})();class we extends ye{constructor(se,le){super(),this.destination=se,this.source=le}next(se){var le,be;null===(be=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===be||be.call(le,se)}error(se){var le,be;null===(be=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===be||be.call(le,se)}complete(){var se,le;null===(le=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===le||le.call(se)}_subscribe(se){var le,be;return null!==(be=null===(le=this.source)||void 0===le?void 0:le.subscribe(se))&&void 0!==be?be:p.Lc}}},2961:(Ot,Be,L)=>{L.d(Be,{Hp:()=>Rt,Lv:()=>be});var g=L(576),p=L(727),j=L(2416),ce=L(7849);function pe(){}const ue=Ne("C",void 0,void 0);function Ne(_e,st,it){return{kind:_e,value:st,error:it}}var se=L(3410),le=L(2806);class be extends p.w0{constructor(st){super(),this.isStopped=!1,st?(this.destination=st,(0,p.Nn)(st)&&st.add(this)):this.destination=Gt}static create(st,it,yt){return new Rt(st,it,yt)}next(st){this.isStopped?Ft(function we(_e){return Ne("N",_e,void 0)}(st),this):this._next(st)}error(st){this.isStopped?Ft(function ye(_e){return Ne("E",void 0,_e)}(st),this):(this.isStopped=!0,this._error(st))}complete(){this.isStopped?Ft(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(st){this.destination.next(st)}_error(st){try{this.destination.error(st)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const gt=Function.prototype.bind;function dt(_e,st){return gt.call(_e,st)}class Xe{constructor(st){this.partialObserver=st}next(st){const{partialObserver:it}=this;if(it.next)try{it.next(st)}catch(yt){nt(yt)}}error(st){const{partialObserver:it}=this;if(it.error)try{it.error(st)}catch(yt){nt(yt)}else nt(st)}complete(){const{partialObserver:st}=this;if(st.complete)try{st.complete()}catch(it){nt(it)}}}class Rt extends be{constructor(st,it,yt){let at;if(super(),(0,g.m)(st)||!st)at={next:st??void 0,error:it??void 0,complete:yt??void 0};else{let me;this&&j.v.useDeprecatedNextContext?(me=Object.create(st),me.unsubscribe=()=>this.unsubscribe(),at={next:st.next&&dt(st.next,me),error:st.error&&dt(st.error,me),complete:st.complete&&dt(st.complete,me)}):at=st}this.destination=new Xe(at)}}function nt(_e){j.v.useDeprecatedSynchronousErrorHandling?(0,le.O)(_e):(0,ce.h)(_e)}function Ft(_e,st){const{onStoppedNotification:it}=j.v;it&&se.z.setTimeout(()=>it(_e,st))}const Gt={closed:!0,next:pe,error:function Ye(_e){throw _e},complete:pe}},727:(Ot,Be,L)=>{L.d(Be,{Lc:()=>ue,w0:()=>pe,Nn:()=>ye});var g=L(576);const j=(0,L(3888).d)(Ne=>function(le){Ne(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((be,gt)=>`${gt+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var ce=L(8737);class pe{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const dt of le)dt.remove(this);else le.remove(this);const{initialTeardown:be}=this;if((0,g.m)(be))try{be()}catch(dt){se=dt instanceof j?dt.errors:[dt]}const{_finalizers:gt}=this;if(gt){this._finalizers=null;for(const dt of gt)try{we(dt)}catch(Xe){se=se??[],Xe instanceof j?se=[...se,...Xe.errors]:se.push(Xe)}}if(se)throw new j(se)}}add(se){var le;if(se&&se!==this)if(this.closed)we(se);else{if(se instanceof pe){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(se)}}_hasParent(se){const{_parentage:le}=this;return le===se||Array.isArray(le)&&le.includes(se)}_addParent(se){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(se),le):le?[le,se]:se}_removeParent(se){const{_parentage:le}=this;le===se?this._parentage=null:Array.isArray(le)&&(0,ce.P)(le,se)}remove(se){const{_finalizers:le}=this;le&&(0,ce.P)(le,se),se instanceof pe&&se._removeParent(this)}}pe.EMPTY=(()=>{const Ne=new pe;return Ne.closed=!0,Ne})();const ue=pe.EMPTY;function ye(Ne){return Ne instanceof pe||Ne&&"closed"in Ne&&(0,g.m)(Ne.remove)&&(0,g.m)(Ne.add)&&(0,g.m)(Ne.unsubscribe)}function we(Ne){(0,g.m)(Ne)?Ne():Ne.unsubscribe()}},2416:(Ot,Be,L)=>{L.d(Be,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Ot,Be,L)=>{L.d(Be,{z:()=>pe});var g=L(8189),j=L(7669),ce=L(8996);function pe(...ue){return function p(){return(0,g.J)(1)}()((0,ce.D)(ue,(0,j.yG)(ue)))}},515:(Ot,Be,L)=>{L.d(Be,{E:()=>p});const p=new(L(9751).y)(pe=>pe.complete())},8996:(Ot,Be,L)=>{L.d(Be,{D:()=>st});var g=L(8421),p=L(5363),j=L(9468),ue=L(9751),we=L(2202),Ne=L(576),se=L(9672);function be(it,yt){if(!it)throw new Error("Iterable cannot be null");return new ue.y(at=>{(0,se.f)(at,yt,()=>{const me=it[Symbol.asyncIterator]();(0,se.f)(at,yt,()=>{me.next().then(Je=>{Je.done?at.complete():at.next(Je.value)})},0,!0)})})}var gt=L(3670),dt=L(8239),Xe=L(1144),Rt=L(6495),nt=L(2206),Ye=L(4532),Ft=L(3260);function st(it,yt){return yt?function _e(it,yt){if(null!=it){if((0,gt.c)(it))return function ce(it,yt){return(0,g.Xf)(it).pipe((0,j.R)(yt),(0,p.Q)(yt))}(it,yt);if((0,Xe.z)(it))return function ye(it,yt){return new ue.y(at=>{let me=0;return yt.schedule(function(){me===it.length?at.complete():(at.next(it[me++]),at.closed||this.schedule())})})}(it,yt);if((0,dt.t)(it))return function pe(it,yt){return(0,g.Xf)(it).pipe((0,j.R)(yt),(0,p.Q)(yt))}(it,yt);if((0,nt.D)(it))return be(it,yt);if((0,Rt.T)(it))return function le(it,yt){return new ue.y(at=>{let me;return(0,se.f)(at,yt,()=>{me=it[we.h](),(0,se.f)(at,yt,()=>{let Je,ae;try{({value:Je,done:ae}=me.next())}catch(Ae){return void at.error(Ae)}ae?at.complete():at.next(Je)},0,!0)}),()=>(0,Ne.m)(me?.return)&&me.return()})}(it,yt);if((0,Ft.L)(it))return function Gt(it,yt){return be((0,Ft.Q)(it),yt)}(it,yt)}throw(0,Ye.z)(it)}(it,yt):(0,g.Xf)(it)}},8421:(Ot,Be,L)=>{L.d(Be,{Xf:()=>gt});var g=L(655),p=L(1144),j=L(8239),ce=L(9751),pe=L(3670),ue=L(2206),ye=L(4532),we=L(6495),Ne=L(3260),se=L(576),le=L(7849),be=L(8822);function gt(_e){if(_e instanceof ce.y)return _e;if(null!=_e){if((0,pe.c)(_e))return function dt(_e){return new ce.y(st=>{const it=_e[be.L]();if((0,se.m)(it.subscribe))return it.subscribe(st);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,p.z)(_e))return function Xe(_e){return new ce.y(st=>{for(let it=0;it<_e.length&&!st.closed;it++)st.next(_e[it]);st.complete()})}(_e);if((0,j.t)(_e))return function Rt(_e){return new ce.y(st=>{_e.then(it=>{st.closed||(st.next(it),st.complete())},it=>st.error(it)).then(null,le.h)})}(_e);if((0,ue.D)(_e))return Ye(_e);if((0,we.T)(_e))return function nt(_e){return new ce.y(st=>{for(const it of _e)if(st.next(it),st.closed)return;st.complete()})}(_e);if((0,Ne.L)(_e))return function Ft(_e){return Ye((0,Ne.Q)(_e))}(_e)}throw(0,ye.z)(_e)}function Ye(_e){return new ce.y(st=>{(function Gt(_e,st){var it,yt,at,me;return(0,g.mG)(this,void 0,void 0,function*(){try{for(it=(0,g.KL)(_e);!(yt=yield it.next()).done;)if(st.next(yt.value),st.closed)return}catch(Je){at={error:Je}}finally{try{yt&&!yt.done&&(me=it.return)&&(yield me.call(it))}finally{if(at)throw at.error}}st.complete()})})(_e,st).catch(it=>st.error(it))})}},6451:(Ot,Be,L)=>{L.d(Be,{T:()=>ue});var g=L(8189),p=L(8421),j=L(515),ce=L(7669),pe=L(8996);function ue(...ye){const we=(0,ce.yG)(ye),Ne=(0,ce._6)(ye,1/0),se=ye;return se.length?1===se.length?(0,p.Xf)(se[0]):(0,g.J)(Ne)((0,pe.D)(se,we)):j.E}},9646:(Ot,Be,L)=>{L.d(Be,{of:()=>j});var g=L(7669),p=L(8996);function j(...ce){const pe=(0,g.yG)(ce);return(0,p.D)(ce,pe)}},5403:(Ot,Be,L)=>{L.d(Be,{x:()=>p});var g=L(2961);function p(ce,pe,ue,ye,we){return new j(ce,pe,ue,ye,we)}class j extends g.Lv{constructor(pe,ue,ye,we,Ne,se){super(pe),this.onFinalize=Ne,this.shouldUnsubscribe=se,this._next=ue?function(le){try{ue(le)}catch(be){pe.error(be)}}:super._next,this._error=we?function(le){try{we(le)}catch(be){pe.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(le){pe.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},6590:(Ot,Be,L)=>{L.d(Be,{d:()=>j});var g=L(4482),p=L(5403);function j(ce){return(0,g.e)((pe,ue)=>{let ye=!1;pe.subscribe((0,p.x)(ue,we=>{ye=!0,ue.next(we)},()=>{ye||ue.next(ce),ue.complete()}))})}},9300:(Ot,Be,L)=>{L.d(Be,{h:()=>j});var g=L(4482),p=L(5403);function j(ce,pe){return(0,g.e)((ue,ye)=>{let we=0;ue.subscribe((0,p.x)(ye,Ne=>ce.call(pe,Ne,we++)&&ye.next(Ne)))})}},590:(Ot,Be,L)=>{L.d(Be,{P:()=>ye});var g=L(6805),p=L(9300),j=L(5698),ce=L(6590),pe=L(8068),ue=L(4671);function ye(we,Ne){const se=arguments.length>=2;return le=>le.pipe(we?(0,p.h)((be,gt)=>we(be,gt,le)):ue.y,(0,j.q)(1),se?(0,ce.d)(Ne):(0,pe.T)(()=>new g.K))}},4004:(Ot,Be,L)=>{L.d(Be,{U:()=>j});var g=L(4482),p=L(5403);function j(ce,pe){return(0,g.e)((ue,ye)=>{let we=0;ue.subscribe((0,p.x)(ye,Ne=>{ye.next(ce.call(pe,Ne,we++))}))})}},8189:(Ot,Be,L)=>{L.d(Be,{J:()=>j});var g=L(5577),p=L(4671);function j(ce=1/0){return(0,g.z)(p.y,ce)}},5577:(Ot,Be,L)=>{L.d(Be,{z:()=>we});var g=L(4004),p=L(8421),j=L(4482),ce=L(9672),pe=L(5403),ye=L(576);function we(Ne,se,le=1/0){return(0,ye.m)(se)?we((be,gt)=>(0,g.U)((dt,Xe)=>se(be,dt,gt,Xe))((0,p.Xf)(Ne(be,gt))),le):("number"==typeof se&&(le=se),(0,j.e)((be,gt)=>function ue(Ne,se,le,be,gt,dt,Xe,Rt){const nt=[];let Ye=0,Ft=0,Gt=!1;const _e=()=>{Gt&&!nt.length&&!Ye&&se.complete()},st=yt=>Ye<be?it(yt):nt.push(yt),it=yt=>{dt&&se.next(yt),Ye++;let at=!1;(0,p.Xf)(le(yt,Ft++)).subscribe((0,pe.x)(se,me=>{gt?.(me),dt?st(me):se.next(me)},()=>{at=!0},void 0,()=>{if(at)try{for(Ye--;nt.length&&Ye<be;){const me=nt.shift();Xe?(0,ce.f)(se,Xe,()=>it(me)):it(me)}_e()}catch(me){se.error(me)}}))};return Ne.subscribe((0,pe.x)(se,st,()=>{Gt=!0,_e()})),()=>{Rt?.()}}(be,gt,Ne,le)))}},5363:(Ot,Be,L)=>{L.d(Be,{Q:()=>ce});var g=L(9672),p=L(4482),j=L(5403);function ce(pe,ue=0){return(0,p.e)((ye,we)=>{ye.subscribe((0,j.x)(we,Ne=>(0,g.f)(we,pe,()=>we.next(Ne),ue),()=>(0,g.f)(we,pe,()=>we.complete(),ue),Ne=>(0,g.f)(we,pe,()=>we.error(Ne),ue)))})}},5026:(Ot,Be,L)=>{L.d(Be,{R:()=>ce});var g=L(4482),p=L(5403);function j(pe,ue,ye,we,Ne){return(se,le)=>{let be=ye,gt=ue,dt=0;se.subscribe((0,p.x)(le,Xe=>{const Rt=dt++;gt=be?pe(gt,Xe,Rt):(be=!0,Xe),we&&le.next(gt)},Ne&&(()=>{be&&le.next(gt),le.complete()})))}}function ce(pe,ue){return(0,g.e)(j(pe,ue,arguments.length>=2,!0))}},3099:(Ot,Be,L)=>{L.d(Be,{B:()=>pe});var g=L(8421),p=L(7579),j=L(2961),ce=L(4482);function pe(ye={}){const{connector:we=(()=>new p.x),resetOnError:Ne=!0,resetOnComplete:se=!0,resetOnRefCountZero:le=!0}=ye;return be=>{let gt,dt,Xe,Rt=0,nt=!1,Ye=!1;const Ft=()=>{dt?.unsubscribe(),dt=void 0},Gt=()=>{Ft(),gt=Xe=void 0,nt=Ye=!1},_e=()=>{const st=gt;Gt(),st?.unsubscribe()};return(0,ce.e)((st,it)=>{Rt++,!Ye&&!nt&&Ft();const yt=Xe=Xe??we();it.add(()=>{Rt--,0===Rt&&!Ye&&!nt&&(dt=ue(_e,le))}),yt.subscribe(it),!gt&&Rt>0&&(gt=new j.Hp({next:at=>yt.next(at),error:at=>{Ye=!0,Ft(),dt=ue(Gt,Ne,at),yt.error(at)},complete:()=>{nt=!0,Ft(),dt=ue(Gt,se),yt.complete()}}),(0,g.Xf)(st).subscribe(gt))})(be)}}function ue(ye,we,...Ne){if(!0===we)return void ye();if(!1===we)return;const se=new j.Hp({next:()=>{se.unsubscribe(),ye()}});return we(...Ne).subscribe(se)}},8675:(Ot,Be,L)=>{L.d(Be,{O:()=>ce});var g=L(7272),p=L(7669),j=L(4482);function ce(...pe){const ue=(0,p.yG)(pe);return(0,j.e)((ye,we)=>{(ue?(0,g.z)(pe,ye,ue):(0,g.z)(pe,ye)).subscribe(we)})}},9468:(Ot,Be,L)=>{L.d(Be,{R:()=>p});var g=L(4482);function p(j,ce=0){return(0,g.e)((pe,ue)=>{ue.add(j.schedule(()=>pe.subscribe(ue),ce))})}},3900:(Ot,Be,L)=>{L.d(Be,{w:()=>ce});var g=L(8421),p=L(4482),j=L(5403);function ce(pe,ue){return(0,p.e)((ye,we)=>{let Ne=null,se=0,le=!1;const be=()=>le&&!Ne&&we.complete();ye.subscribe((0,j.x)(we,gt=>{Ne?.unsubscribe();let dt=0;const Xe=se++;(0,g.Xf)(pe(gt,Xe)).subscribe(Ne=(0,j.x)(we,Rt=>we.next(ue?ue(gt,Rt,Xe,dt++):Rt),()=>{Ne=null,be()}))},()=>{le=!0,be()}))})}},5698:(Ot,Be,L)=>{L.d(Be,{q:()=>ce});var g=L(515),p=L(4482),j=L(5403);function ce(pe){return pe<=0?()=>g.E:(0,p.e)((ue,ye)=>{let we=0;ue.subscribe((0,j.x)(ye,Ne=>{++we<=pe&&(ye.next(Ne),pe<=we&&ye.complete())}))})}},8505:(Ot,Be,L)=>{L.d(Be,{b:()=>pe});var g=L(576),p=L(4482),j=L(5403),ce=L(4671);function pe(ue,ye,we){const Ne=(0,g.m)(ue)||ye||we?{next:ue,error:ye,complete:we}:ue;return Ne?(0,p.e)((se,le)=>{var be;null===(be=Ne.subscribe)||void 0===be||be.call(Ne);let gt=!0;se.subscribe((0,j.x)(le,dt=>{var Xe;null===(Xe=Ne.next)||void 0===Xe||Xe.call(Ne,dt),le.next(dt)},()=>{var dt;gt=!1,null===(dt=Ne.complete)||void 0===dt||dt.call(Ne),le.complete()},dt=>{var Xe;gt=!1,null===(Xe=Ne.error)||void 0===Xe||Xe.call(Ne,dt),le.error(dt)},()=>{var dt,Xe;gt&&(null===(dt=Ne.unsubscribe)||void 0===dt||dt.call(Ne)),null===(Xe=Ne.finalize)||void 0===Xe||Xe.call(Ne)}))}):ce.y}},8068:(Ot,Be,L)=>{L.d(Be,{T:()=>ce});var g=L(6805),p=L(4482),j=L(5403);function ce(ue=pe){return(0,p.e)((ye,we)=>{let Ne=!1;ye.subscribe((0,j.x)(we,se=>{Ne=!0,we.next(se)},()=>Ne?we.complete():we.error(ue())))})}function pe(){return new g.K}},4408:(Ot,Be,L)=>{L.d(Be,{o:()=>pe});var g=L(727);class p extends g.w0{constructor(ye,we){super()}schedule(ye,we=0){return this}}const j={setInterval(ue,ye,...we){const{delegate:Ne}=j;return Ne?.setInterval?Ne.setInterval(ue,ye,...we):setInterval(ue,ye,...we)},clearInterval(ue){const{delegate:ye}=j;return(ye?.clearInterval||clearInterval)(ue)},delegate:void 0};var ce=L(8737);class pe extends p{constructor(ye,we){super(ye,we),this.scheduler=ye,this.work=we,this.pending=!1}schedule(ye,we=0){var Ne;if(this.closed)return this;this.state=ye;const se=this.id,le=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(le,se,we)),this.pending=!0,this.delay=we,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(le,this.id,we),this}requestAsyncId(ye,we,Ne=0){return j.setInterval(ye.flush.bind(ye,this),Ne)}recycleAsyncId(ye,we,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return we;null!=we&&j.clearInterval(we)}execute(ye,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(ye,we);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,we){let se,Ne=!1;try{this.work(ye)}catch(le){Ne=!0,se=le||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:ye,scheduler:we}=this,{actions:Ne}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Ne,this),null!=ye&&(this.id=this.recycleAsyncId(we,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ot,Be,L)=>{L.d(Be,{v:()=>j});var g=L(6063);class p{constructor(pe,ue=p.now){this.schedulerActionCtor=pe,this.now=ue}schedule(pe,ue=0,ye){return new this.schedulerActionCtor(this,pe).schedule(ye,ue)}}p.now=g.l.now;class j extends p{constructor(pe,ue=p.now){super(pe,ue),this.actions=[],this._active=!1}flush(pe){const{actions:ue}=this;if(this._active)return void ue.push(pe);let ye;this._active=!0;do{if(ye=pe.execute(pe.state,pe.delay))break}while(pe=ue.shift());if(this._active=!1,ye){for(;pe=ue.shift();)pe.unsubscribe();throw ye}}}},4986:(Ot,Be,L)=>{L.d(Be,{z:()=>j});var g=L(4408);const j=new(L(7565).v)(g.o)},6063:(Ot,Be,L)=>{L.d(Be,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(Ot,Be,L)=>{L.d(Be,{z:()=>g});const g={setTimeout(p,j,...ce){const{delegate:pe}=g;return pe?.setTimeout?pe.setTimeout(p,j,...ce):setTimeout(p,j,...ce)},clearTimeout(p){const{delegate:j}=g;return(j?.clearTimeout||clearTimeout)(p)},delegate:void 0}},2202:(Ot,Be,L)=>{L.d(Be,{h:()=>p});const p=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ot,Be,L)=>{L.d(Be,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ot,Be,L)=>{L.d(Be,{K:()=>p});const p=(0,L(3888).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Ot,Be,L)=>{L.d(Be,{_6:()=>ue,jO:()=>ce,yG:()=>pe});var g=L(576);function j(ye){return ye[ye.length-1]}function ce(ye){return(0,g.m)(j(ye))?ye.pop():void 0}function pe(ye){return function p(ye){return ye&&(0,g.m)(ye.schedule)}(j(ye))?ye.pop():void 0}function ue(ye,we){return"number"==typeof j(ye)?ye.pop():we}},4742:(Ot,Be,L)=>{L.d(Be,{D:()=>pe});const{isArray:g}=Array,{getPrototypeOf:p,prototype:j,keys:ce}=Object;function pe(ye){if(1===ye.length){const we=ye[0];if(g(we))return{args:we,keys:null};if(function ue(ye){return ye&&"object"==typeof ye&&p(ye)===j}(we)){const Ne=ce(we);return{args:Ne.map(se=>we[se]),keys:Ne}}}return{args:ye,keys:null}}},8737:(Ot,Be,L)=>{function g(p,j){if(p){const ce=p.indexOf(j);0<=ce&&p.splice(ce,1)}}L.d(Be,{P:()=>g})},3888:(Ot,Be,L)=>{function g(p){const ce=p(pe=>{Error.call(pe),pe.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}L.d(Be,{d:()=>g})},1810:(Ot,Be,L)=>{function g(p,j){return p.reduce((ce,pe,ue)=>(ce[pe]=j[ue],ce),{})}L.d(Be,{n:()=>g})},2806:(Ot,Be,L)=>{L.d(Be,{O:()=>ce,x:()=>j});var g=L(2416);let p=null;function j(pe){if(g.v.useDeprecatedSynchronousErrorHandling){const ue=!p;if(ue&&(p={errorThrown:!1,error:null}),pe(),ue){const{errorThrown:ye,error:we}=p;if(p=null,ye)throw we}}else pe()}function ce(pe){g.v.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=pe)}},9672:(Ot,Be,L)=>{function g(p,j,ce,pe=0,ue=!1){const ye=j.schedule(function(){ce(),ue?p.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(p.add(ye),!ue)return ye}L.d(Be,{f:()=>g})},4671:(Ot,Be,L)=>{function g(p){return p}L.d(Be,{y:()=>g})},1144:(Ot,Be,L)=>{L.d(Be,{z:()=>g});const g=p=>p&&"number"==typeof p.length&&"function"!=typeof p},2206:(Ot,Be,L)=>{L.d(Be,{D:()=>p});var g=L(576);function p(j){return Symbol.asyncIterator&&(0,g.m)(j?.[Symbol.asyncIterator])}},576:(Ot,Be,L)=>{function g(p){return"function"==typeof p}L.d(Be,{m:()=>g})},3670:(Ot,Be,L)=>{L.d(Be,{c:()=>j});var g=L(8822),p=L(576);function j(ce){return(0,p.m)(ce[g.L])}},6495:(Ot,Be,L)=>{L.d(Be,{T:()=>j});var g=L(2202),p=L(576);function j(ce){return(0,p.m)(ce?.[g.h])}},8239:(Ot,Be,L)=>{L.d(Be,{t:()=>p});var g=L(576);function p(j){return(0,g.m)(j?.then)}},3260:(Ot,Be,L)=>{L.d(Be,{L:()=>ce,Q:()=>j});var g=L(655),p=L(576);function j(pe){return(0,g.FC)(this,arguments,function*(){const ye=pe.getReader();try{for(;;){const{value:we,done:Ne}=yield(0,g.qq)(ye.read());if(Ne)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(we)}}finally{ye.releaseLock()}})}function ce(pe){return(0,p.m)(pe?.getReader)}},4482:(Ot,Be,L)=>{L.d(Be,{A:()=>p,e:()=>j});var g=L(576);function p(ce){return(0,g.m)(ce?.lift)}function j(ce){return pe=>{if(p(pe))return pe.lift(function(ue){try{return ce(ue,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ot,Be,L)=>{L.d(Be,{Z:()=>ce});var g=L(4004);const{isArray:p}=Array;function ce(pe){return(0,g.U)(ue=>function j(pe,ue){return p(ue)?pe(...ue):pe(ue)}(pe,ue))}},9635:(Ot,Be,L)=>{L.d(Be,{U:()=>j,z:()=>p});var g=L(4671);function p(...ce){return j(ce)}function j(ce){return 0===ce.length?g.y:1===ce.length?ce[0]:function(ue){return ce.reduce((ye,we)=>we(ye),ue)}}},7849:(Ot,Be,L)=>{L.d(Be,{h:()=>j});var g=L(2416),p=L(3410);function j(ce){p.z.setTimeout(()=>{const{onUnhandledError:pe}=g.v;if(!pe)throw ce;pe(ce)})}},4532:(Ot,Be,L)=>{function g(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Be,{z:()=>g})},655:(Ot,Be,L)=>{function ce(ae,Ae){var fe={};for(var Fe in ae)Object.prototype.hasOwnProperty.call(ae,Fe)&&Ae.indexOf(Fe)<0&&(fe[Fe]=ae[Fe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(Fe=Object.getOwnPropertySymbols(ae);$e<Fe.length;$e++)Ae.indexOf(Fe[$e])<0&&Object.prototype.propertyIsEnumerable.call(ae,Fe[$e])&&(fe[Fe[$e]]=ae[Fe[$e]])}return fe}function we(ae,Ae,fe,Fe){return new(fe||(fe=Promise))(function(Qe,Pe){function qe(Mt){try{Ve(Fe.next(Mt))}catch(Tt){Pe(Tt)}}function ze(Mt){try{Ve(Fe.throw(Mt))}catch(Tt){Pe(Tt)}}function Ve(Mt){Mt.done?Qe(Mt.value):function $e(Qe){return Qe instanceof fe?Qe:new fe(function(Pe){Pe(Qe)})}(Mt.value).then(qe,ze)}Ve((Fe=Fe.apply(ae,Ae||[])).next())})}function nt(ae){return this instanceof nt?(this.v=ae,this):new nt(ae)}function Ye(ae,Ae,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Fe=fe.apply(ae,Ae||[]),Qe=[];return $e={},Pe("next"),Pe("throw"),Pe("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function Pe(Zt){Fe[Zt]&&($e[Zt]=function(Dt){return new Promise(function(En,Ht){Qe.push([Zt,Dt,En,Ht])>1||qe(Zt,Dt)})})}function qe(Zt,Dt){try{!function ze(Zt){Zt.value instanceof nt?Promise.resolve(Zt.value.v).then(Ve,Mt):Tt(Qe[0][2],Zt)}(Fe[Zt](Dt))}catch(En){Tt(Qe[0][3],En)}}function Ve(Zt){qe("next",Zt)}function Mt(Zt){qe("throw",Zt)}function Tt(Zt,Dt){Zt(Dt),Qe.shift(),Qe.length&&qe(Qe[0][0],Qe[0][1])}}function Gt(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,Ae=ae[Symbol.asyncIterator];return Ae?Ae.call(ae):(ae=function be(ae){var Ae="function"==typeof Symbol&&Symbol.iterator,fe=Ae&&ae[Ae],Fe=0;if(fe)return fe.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&Fe>=ae.length&&(ae=void 0),{value:ae&&ae[Fe++],done:!ae}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),fe={},Fe("next"),Fe("throw"),Fe("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function Fe(Qe){fe[Qe]=ae[Qe]&&function(Pe){return new Promise(function(qe,ze){!function $e(Qe,Pe,qe,ze){Promise.resolve(ze).then(function(Ve){Qe({value:Ve,done:qe})},Pe)}(qe,ze,(Pe=ae[Qe](Pe)).done,Pe.value)})}}}L.d(Be,{FC:()=>Ye,KL:()=>Gt,_T:()=>ce,mG:()=>we,qq:()=>nt})},6895:(Ot,Be,L)=>{L.d(Be,{Do:()=>Gt,EM:()=>Ri,HT:()=>pe,JF:()=>Ts,K0:()=>ye,Mx:()=>Wi,O5:()=>Hr,PM:()=>Di,S$:()=>nt,V_:()=>se,Ye:()=>_e,b0:()=>Ft,bD:()=>Zr,ez:()=>as,mk:()=>_r,q:()=>j,sg:()=>rs,w_:()=>ue});var g=L(4650);let p=null;function j(){return p}function pe(A){p||(p=A)}class ue{}const ye=new g.OlP("DocumentToken");let we=(()=>{class A{historyGo(O){throw new Error("Not implemented")}}return A.\u0275fac=function(O){return new(O||A)},A.\u0275prov=g.Yz7({token:A,factory:function(){return function Ne(){return(0,g.LFG)(le)}()},providedIn:"platform"}),A})();const se=new g.OlP("Location Initialized");let le=(()=>{class A extends we{constructor(O){super(),this._doc=O,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(O){const K=j().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",O,!1),()=>K.removeEventListener("popstate",O)}onHashChange(O){const K=j().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",O,!1),()=>K.removeEventListener("hashchange",O)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(O){this.location.pathname=O}pushState(O,K,Ee){be()?this._history.pushState(O,K,Ee):this.location.hash=Ee}replaceState(O,K,Ee){be()?this._history.replaceState(O,K,Ee):this.location.hash=Ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return A.\u0275fac=function(O){return new(O||A)(g.LFG(ye))},A.\u0275prov=g.Yz7({token:A,factory:function(){return function gt(){return new le((0,g.LFG)(ye))}()},providedIn:"platform"}),A})();function be(){return!!window.history.pushState}function dt(A,z){if(0==A.length)return z;if(0==z.length)return A;let O=0;return A.endsWith("/")&&O++,z.startsWith("/")&&O++,2==O?A+z.substring(1):1==O?A+z:A+"/"+z}function Xe(A){const z=A.match(/#|\?|$/),O=z&&z.index||A.length;return A.slice(0,O-("/"===A[O-1]?1:0))+A.slice(O)}function Rt(A){return A&&"?"!==A[0]?"?"+A:A}let nt=(()=>{class A{historyGo(O){throw new Error("Not implemented")}}return A.\u0275fac=function(O){return new(O||A)},A.\u0275prov=g.Yz7({token:A,factory:function(){return(0,g.f3M)(Ft)},providedIn:"root"}),A})();const Ye=new g.OlP("appBaseHref");let Ft=(()=>{class A extends nt{constructor(O,K){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return dt(this._baseHref,O)}path(O=!1){const K=this._platformLocation.pathname+Rt(this._platformLocation.search),Ee=this._platformLocation.hash;return Ee&&O?`${K}${Ee}`:K}pushState(O,K,Ee,Ze){const ct=this.prepareExternalUrl(Ee+Rt(Ze));this._platformLocation.pushState(O,K,ct)}replaceState(O,K,Ee,Ze){const ct=this.prepareExternalUrl(Ee+Rt(Ze));this._platformLocation.replaceState(O,K,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return A.\u0275fac=function(O){return new(O||A)(g.LFG(we),g.LFG(Ye,8))},A.\u0275prov=g.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),Gt=(()=>{class A extends nt{constructor(O,K){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(O){const K=dt(this._baseHref,O);return K.length>0?"#"+K:K}pushState(O,K,Ee,Ze){let ct=this.prepareExternalUrl(Ee+Rt(Ze));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.pushState(O,K,ct)}replaceState(O,K,Ee,Ze){let ct=this.prepareExternalUrl(Ee+Rt(Ze));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.replaceState(O,K,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return A.\u0275fac=function(O){return new(O||A)(g.LFG(we),g.LFG(Ye,8))},A.\u0275prov=g.Yz7({token:A,factory:A.\u0275fac}),A})(),_e=(()=>{class A{constructor(O){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const K=this._locationStrategy.getBaseHref();this._baseHref=Xe(yt(K)),this._locationStrategy.onPopState(Ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ee.state,type:Ee.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,K=""){return this.path()==this.normalize(O+Rt(K))}normalize(O){return A.stripTrailingSlash(function it(A,z){return A&&z.startsWith(A)?z.substring(A.length):z}(this._baseHref,yt(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,K="",Ee=null){this._locationStrategy.pushState(Ee,"",O,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Rt(K)),Ee)}replaceState(O,K="",Ee=null){this._locationStrategy.replaceState(Ee,"",O,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Rt(K)),Ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{const K=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",K){this._urlChangeListeners.forEach(Ee=>Ee(O,K))}subscribe(O,K,Ee){return this._subject.subscribe({next:O,error:K,complete:Ee})}}return A.normalizeQueryParams=Rt,A.joinWithSlash=dt,A.stripTrailingSlash=Xe,A.\u0275fac=function(O){return new(O||A)(g.LFG(nt))},A.\u0275prov=g.Yz7({token:A,factory:function(){return function st(){return new _e((0,g.LFG)(nt))}()},providedIn:"root"}),A})();function yt(A){return A.replace(/\/index.html$/,"")}function Wi(A,z){z=encodeURIComponent(z);for(const O of A.split(";")){const K=O.indexOf("="),[Ee,Ze]=-1==K?[O,""]:[O.slice(0,K),O.slice(K+1)];if(Ee.trim()===z)return decodeURIComponent(Ze)}return null}let _r=(()=>{class A{constructor(O,K,Ee,Ze){this._iterableDiffers=O,this._keyValueDiffers=K,this._ngEl=Ee,this._renderer=Ze,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(O){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof O?O.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(O){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof O?O.split(/\s+/):O,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const O=this._iterableDiffer.diff(this._rawClass);O&&this._applyIterableChanges(O)}else if(this._keyValueDiffer){const O=this._keyValueDiffer.diff(this._rawClass);O&&this._applyKeyValueChanges(O)}}_applyKeyValueChanges(O){O.forEachAddedItem(K=>this._toggleClass(K.key,K.currentValue)),O.forEachChangedItem(K=>this._toggleClass(K.key,K.currentValue)),O.forEachRemovedItem(K=>{K.previousValue&&this._toggleClass(K.key,!1)})}_applyIterableChanges(O){O.forEachAddedItem(K=>{if("string"!=typeof K.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(K.item)}`);this._toggleClass(K.item,!0)}),O.forEachRemovedItem(K=>this._toggleClass(K.item,!1))}_applyClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(K=>this._toggleClass(K,!0)):Object.keys(O).forEach(K=>this._toggleClass(K,!!O[K])))}_removeClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(K=>this._toggleClass(K,!1)):Object.keys(O).forEach(K=>this._toggleClass(K,!1)))}_toggleClass(O,K){(O=O.trim())&&O.split(/\s+/g).forEach(Ee=>{K?this._renderer.addClass(this._ngEl.nativeElement,Ee):this._renderer.removeClass(this._ngEl.nativeElement,Ee)})}}return A.\u0275fac=function(O){return new(O||A)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},A.\u0275dir=g.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),A})();class Ls{constructor(z,O,K,Ee){this.$implicit=z,this.ngForOf=O,this.index=K,this.count=Ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rs=(()=>{class A{constructor(O,K,Ee){this._viewContainer=O,this._template=K,this._differs=Ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const K=this._viewContainer;O.forEachOperation((Ee,Ze,ct)=>{if(null==Ee.previousIndex)K.createEmbeddedView(this._template,new Ls(Ee.item,this._ngForOf,-1,-1),null===ct?void 0:ct);else if(null==ct)K.remove(null===Ze?void 0:Ze);else if(null!==Ze){const tn=K.get(Ze);K.move(tn,ct),xi(tn,Ee)}});for(let Ee=0,Ze=K.length;Ee<Ze;Ee++){const tn=K.get(Ee).context;tn.index=Ee,tn.count=Ze,tn.ngForOf=this._ngForOf}O.forEachIdentityChange(Ee=>{xi(K.get(Ee.currentIndex),Ee)})}static ngTemplateContextGuard(O,K){return!0}}return A.\u0275fac=function(O){return new(O||A)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},A.\u0275dir=g.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function xi(A,z){A.context.$implicit=z.item}let Hr=(()=>{class A{constructor(O,K){this._viewContainer=O,this._context=new is,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){Ur("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){Ur("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,K){return!0}}return A.\u0275fac=function(O){return new(O||A)(g.Y36(g.s_b),g.Y36(g.Rgc))},A.\u0275dir=g.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class is{constructor(){this.$implicit=null,this.ngIf=null}}function Ur(A,z){if(z&&!z.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,g.AaK)(z)}'.`)}let as=(()=>{class A{}return A.\u0275fac=function(O){return new(O||A)},A.\u0275mod=g.oAB({type:A}),A.\u0275inj=g.cJS({}),A})();const Zr="browser";function Di(A){return"server"===A}let Ri=(()=>{class A{}return A.\u0275prov=(0,g.Yz7)({token:A,providedIn:"root",factory:()=>new Eo((0,g.LFG)(ye),window)}),A})();class Eo{constructor(z,O){this.document=z,this.window=O,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const O=function Rr(A,z){const O=A.getElementById(z)||A.getElementsByName(z)[0];if(O)return O;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const K=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let Ee=K.currentNode;for(;Ee;){const Ze=Ee.shadowRoot;if(Ze){const ct=Ze.getElementById(z)||Ze.querySelector(`[name="${z}"]`);if(ct)return ct}Ee=K.nextNode()}}return null}(this.document,z);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=z)}}scrollToElement(z){const O=z.getBoundingClientRect(),K=O.left+this.window.pageXOffset,Ee=O.top+this.window.pageYOffset,Ze=this.offset();this.window.scrollTo(K-Ze[0],Ee-Ze[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=Vr(this.window.history)||Vr(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Vr(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class Ts{}},4650:(Ot,Be,L)=>{L.d(Be,{$8M:()=>Cn,$Z:()=>Im,AFp:()=>vE,AaK:()=>we,CHM:()=>eo,CRH:()=>K0,CZH:()=>zy,CqO:()=>ny,D6c:()=>MC,DdM:()=>k0,EJc:()=>GI,EiD:()=>Ta,EpF:()=>If,F4k:()=>ty,FYo:()=>$,FiY:()=>jt,G48:()=>dC,GfV:()=>kt,Gpc:()=>le,JOm:()=>Iu,JVY:()=>qc,Jzz:()=>Xd,KtG:()=>Io,L6k:()=>lh,LAX:()=>ch,LFG:()=>_i,LSH:()=>td,Lbi:()=>BI,Lck:()=>Ow,MAs:()=>Wd,MMx:()=>hv,NdJ:()=>Zd,OlP:()=>zr,Oqu:()=>Dg,PXZ:()=>sC,Q6J:()=>cg,QGY:()=>pg,QP$:()=>kn,QbO:()=>jI,Qsj:()=>J,R0b:()=>Mu,RDi:()=>Uf,Rgc:()=>Pg,SBq:()=>c,Sil:()=>WI,Suo:()=>Z0,TTD:()=>Ci,TgZ:()=>qd,VKq:()=>F0,W1O:()=>X0,X6Q:()=>cC,XFs:()=>St,Xpm:()=>mt,Xts:()=>sc,Y36:()=>ol,YKP:()=>T0,YNc:()=>L_,Yjl:()=>lt,Yz7:()=>Dt,Z0I:()=>jn,ZZ4:()=>Lv,_Bn:()=>b0,_UZ:()=>hg,_Vd:()=>Vu,_c5:()=>SC,_uU:()=>vy,aQg:()=>Uv,c2e:()=>HI,cJS:()=>Ht,cg1:()=>Rf,dDg:()=>tC,dqk:()=>nr,eBb:()=>jf,eFA:()=>NE,ekj:()=>Su,eoX:()=>ME,f3M:()=>N,g9A:()=>wE,h0i:()=>Pf,hGG:()=>AC,hij:()=>Af,iGM:()=>q0,ifc:()=>qt,ip1:()=>_E,jDz:()=>A0,kL8:()=>Nf,lG2:()=>Se,lqb:()=>sa,lri:()=>SE,mCW:()=>iu,n5z:()=>ln,oAB:()=>_n,oxw:()=>Df,pB0:()=>dh,q3G:()=>Is,q4F:()=>fn,qLn:()=>dd,qOj:()=>_f,qZA:()=>Gl,qzn:()=>yu,rWj:()=>AE,sBO:()=>hC,sIi:()=>Bl,s_b:()=>Hy,soG:()=>Wy,tb:()=>IE,tp0:()=>Bn,uIk:()=>$d,vHH:()=>Xe,vpe:()=>_l,wAp:()=>zn,xp6:()=>_p,z2F:()=>qy,z3N:()=>ba,zSh:()=>Al,zs3:()=>Gu});var g=L(7579),p=L(727),j=L(9751),ce=L(6451),pe=L(3099);function ue(n){for(let r in n)if(n[r]===ue)return r;throw Error("Could not find renamed property on target object.")}function ye(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function we(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(we).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ne(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const se=ue({__forward_ref__:ue});function le(n){return n.__forward_ref__=le,n.toString=function(){return we(this())},n}function be(n){return gt(n)?n():n}function gt(n){return"function"==typeof n&&n.hasOwnProperty(se)&&n.__forward_ref__===le}class Xe extends Error{constructor(r,s){super(function Rt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function nt(n){return"string"==typeof n?n:null==n?"":String(n)}function st(n,r){throw new Xe(-201,!1)}function ze(n,r){null==n&&function Ve(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Dt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ht(n){return{providers:n.providers||[],imports:n.imports||[]}}function gn(n){return Kn(n,Wt)||Kn(n,Or)}function jn(n){return null!==gn(n)}function Kn(n,r){return n.hasOwnProperty(r)?n[r]:null}function br(n){return n&&(n.hasOwnProperty(Tr)||n.hasOwnProperty(mn))?n[Tr]:null}const Wt=ue({\u0275prov:ue}),Tr=ue({\u0275inj:ue}),Or=ue({ngInjectableDef:ue}),mn=ue({ngInjectorDef:ue});var St=(()=>((St=St||{})[St.Default=0]="Default",St[St.Host=1]="Host",St[St.Self=2]="Self",St[St.SkipSelf=4]="SkipSelf",St[St.Optional=8]="Optional",St))();let hr;function Sr(n){const r=hr;return hr=n,r}function Jr(n,r,s){const a=gn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&St.Optional?null:void 0!==r?r:void st(we(n))}function yr(n){return{toString:n}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),qt=(()=>{return(n=qt||(qt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",qt;var n})();const nr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fi={},wn=[],Li=ue({\u0275cmp:ue}),Qn=ue({\u0275dir:ue}),zi=ue({\u0275pipe:ue}),$n=ue({\u0275mod:ue}),Ar=ue({\u0275fac:ue}),dn=ue({__NG_ELEMENT_ID__:ue});let zt=0;function mt(n){return yr(()=>{const s=!0===n.standalone,a={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||wn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||qt.Emulated,id:"c"+zt++,styles:n.styles||wn,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,w=n.features;return l.inputs=he(n.inputs,a),l.outputs=he(n.outputs),w&&w.forEach(b=>b(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(yn).filter(pn):null,l.pipeDefs=h?()=>("function"==typeof h?h():h).map(sn).filter(pn):null,l})}function yn(n){return ke(n)||Pt(n)}function pn(n){return null!==n}function _n(n){return yr(()=>({type:n.type,bootstrap:n.bootstrap||wn,declarations:n.declarations||wn,imports:n.imports||wn,exports:n.exports||wn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function he(n,r){if(null==n)return fi;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}const Se=mt;function lt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ke(n){return n[Li]||null}function Pt(n){return n[Qn]||null}function sn(n){return n[zi]||null}function kn(n){const r=ke(n)||Pt(n)||sn(n);return null!==r&&r.standalone}function lr(n,r){const s=n[$n]||null;if(!s&&!0===r)throw new Error(`Type ${we(n)} does not have '\u0275mod' property.`);return s}function Ur(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ei(n){return Array.isArray(n)&&!0===n[1]}function lo(n){return 0!=(8&n.flags)}function Ui(n){return 2==(2&n.flags)}function Wo(n){return 1==(1&n.flags)}function Pr(n){return null!==n.template}function ui(n){return 0!=(256&n[2])}function qi(n,r){return n.hasOwnProperty(Ar)?n[Ar]:null}class Vi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ci(){return os}function os(n){return n.type.prototype.ngOnChanges&&(n.setInput=ms),Ws}function Ws(){const n=Po(this),r=n?.current;if(r){const s=n.previous;if(s===fi)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function ms(n,r,s,a){const l=Po(n)||function as(n,r){return n[ys]=r}(n,{previous:fi,current:null}),h=l.current||(l.current={}),w=l.previous,b=this.declaredInputs[s],x=w[b];h[b]=new Vi(x&&x.currentValue,r,w===fi),n[a]=r}Ci.ngInherit=!0;const ys="__ngSimpleChanges__";function Po(n){return n[ys]||null}function dr(n){for(;Array.isArray(n);)n=n[0];return n}function Vr(n,r){return dr(r[n])}function Rr(n,r){return dr(r[n.index])}function Ts(n,r){return n.data[r]}function Yn(n,r){const s=r[n];return Ur(s)?s:s[0]}function vs(n){return 64==(64&n[2])}function Zi(n,r){return null==r?null:n[r]}function qo(n){n[18]=0}function si(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const vn={lFrame:Ao(null),bindingsEnabled:!0};function Ms(){return vn.bindingsEnabled}function vt(){return vn.lFrame.lView}function Ln(){return vn.lFrame.tView}function eo(n){return vn.lFrame.contextLView=n,n[8]}function Io(n){return vn.lFrame.contextLView=null,n}function Yr(){let n=Es();for(;null!==n&&64===n.type;)n=n.parent;return n}function Es(){return vn.lFrame.currentTNode}function Ki(n,r){const s=vn.lFrame;s.currentTNode=n,s.isParent=r}function Fo(){return vn.lFrame.isParent}function R(){const n=vn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function en(){return vn.lFrame.bindingIndex++}function rr(n){const r=vn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function ls(n,r){const s=vn.lFrame;s.bindingIndex=s.bindingRootIndex=n,bo(r)}function bo(n){vn.lFrame.currentDirectiveIndex=n}function Ea(){return vn.lFrame.currentQueryIndex}function Qo(n){vn.lFrame.currentQueryIndex=n}function So(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function da(n,r,s){if(s&St.SkipSelf){let l=r,h=n;for(;!(l=l.parent,null!==l||s&St.Host||(l=So(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,n=h}const a=vn.lFrame=Yo();return a.currentTNode=r,a.lView=n,!0}function cs(n){const r=Yo(),s=n[1];vn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Yo(){const n=vn.lFrame,r=null===n?null:n.child;return null===r?Ao(n):r}function Ao(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ha(){const n=vn.lFrame;return vn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const A=ha;function z(){const n=ha();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ee(){return vn.lFrame.selectedIndex}function Ze(n){vn.lFrame.selectedIndex=n}function ct(){const n=vn.lFrame;return Ts(n.tView,n.selectedIndex)}function xr(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:b,ngAfterViewInit:x,ngAfterViewChecked:H,ngOnDestroy:Q}=h;w&&(n.contentHooks||(n.contentHooks=[])).push(-s,w),b&&((n.contentHooks||(n.contentHooks=[])).push(s,b),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,b)),x&&(n.viewHooks||(n.viewHooks=[])).push(-s,x),H&&((n.viewHooks||(n.viewHooks=[])).push(s,H),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,H)),null!=Q&&(n.destroyHooks||(n.destroyHooks=[])).push(s,Q)}}function Nr(n,r,s){Bi(n,r,3,s)}function ro(n,r,s,a){(3&n[2])===s&&Bi(n,r,s,a)}function qs(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Bi(n,r,s,a){const h=a??-1,w=r.length-1;let b=0;for(let x=void 0!==a?65535&n[18]:0;x<w;x++)if("number"==typeof r[x+1]){if(b=r[x],null!=a&&b>=a)break}else r[x]<0&&(n[18]+=65536),(b<h||-1==h)&&(Mo(n,s,r,x),n[18]=(4294901760&n[18])+x+2),x++}function Mo(n,r,s,a){const l=s[a]<0,h=s[a+1],b=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(b)}finally{}}}else try{h.call(b)}finally{}}class Ks{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Qi(n,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const h=s[a++],w=s[a++],b=s[a++];n.setAttribute(r,w,b,h)}else{const h=l,w=s[++a];Jo(h)?n.setProperty(r,h,w):n.setAttribute(r,h,w),a++}}return a}function Uo(n){return 3===n||4===n||6===n}function Jo(n){return 64===n.charCodeAt(0)}function Xo(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Xa(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function Xa(n,r,s,a,l){let h=0,w=n.length;if(-1===r)w=-1;else for(;h<n.length;){const b=n[h++];if("number"==typeof b){if(b===r){w=-1;break}if(b>r){w=h-1;break}}}for(;h<n.length;){const b=n[h];if("number"==typeof b)break;if(b===s){if(null===a)return void(null!==l&&(n[h+1]=l));if(a===n[h+1])return void(n[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==w&&(n.splice(w,0,r),h=w+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==l&&n.splice(h++,0,l)}function Ia(n){return-1!==n}function Oi(n){return 32767&n}function mi(n,r){let s=function xa(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let Yi=!0;function io(n){const r=Yi;return Yi=n,r}let An=0;const ci={};function nn(n,r){const s=tu(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,In(a.data,n),In(r,null),In(a.blueprint,null));const l=Bt(n,r),h=n.injectorIndex;if(Ia(l)){const w=Oi(l),b=mi(l,r),x=b[1].data;for(let H=0;H<8;H++)r[h+H]=b[w+H]|x[w+H]}return r[h+8]=l,h}function In(n,r){n.push(0,0,0,0,0,0,0,0,r)}function tu(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Bt(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=Br(l),null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function et(n,r,s){!function pa(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(dn)&&(a=s[dn]),null==a&&(a=s[dn]=An++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function Xr(n,r,s){if(s&St.Optional||void 0!==n)return n;st()}function ea(n,r,s,a){if(s&St.Optional&&void 0===a&&(a=null),0==(s&(St.Self|St.Host))){const l=n[9],h=Sr(void 0);try{return l?l.get(r,a,s&St.Optional):Jr(r,a,s&St.Optional)}finally{Sr(h)}}return Xr(a,0,s)}function xo(n,r,s,a=St.Default,l){if(null!==n){if(1024&r[2]){const w=function ra(n,r,s,a,l){let h=n,w=r;for(;null!==h&&null!==w&&1024&w[2]&&!(256&w[2]);){const b=Ca(h,w,s,a|St.Self,ci);if(b!==ci)return b;let x=h.parent;if(!x){const H=w[21];if(H){const Q=H.get(s,ci,a);if(Q!==ci)return Q}x=Br(w),w=w[15]}h=x}return l}(n,r,s,a,ci);if(w!==ci)return w}const h=Ca(n,r,s,a,ci);if(h!==ci)return h}return ea(r,s,a,l)}function Ca(n,r,s,a,l){const h=function Ha(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(dn)?n[dn]:void 0;return"number"==typeof r?r>=0?255&r:$a:r}(s);if("function"==typeof h){if(!da(r,n,a))return a&St.Host?Xr(l,0,a):ea(r,s,a,l);try{const w=h(a);if(null!=w||a&St.Optional)return w;st()}finally{A()}}else if("number"==typeof h){let w=null,b=tu(n,r),x=-1,H=a&St.Host?r[16][6]:null;for((-1===b||a&St.SkipSelf)&&(x=-1===b?Bt(n,r):r[b+8],-1!==x&&na(a,!1)?(w=r[1],b=Oi(x),r=mi(x,r)):b=-1);-1!==b;){const Q=r[1];if(Ra(h,b,Q.data)){const ie=nu(b,r,s,w,a,H);if(ie!==ci)return ie}x=r[b+8],-1!==x&&na(a,r[1].data[b+8]===H)&&Ra(h,b,r)?(w=Q,b=Oi(x),r=mi(x,r)):b=-1}}return l}function nu(n,r,s,a,l,h){const w=r[1],b=w.data[n+8],Q=Vo(b,w,s,null==a?Ui(b)&&Yi:a!=w&&0!=(3&b.type),l&St.Host&&h===b);return null!==Q?ta(r,w,Q,b):ci}function Vo(n,r,s,a,l){const h=n.providerIndexes,w=r.data,b=1048575&h,x=n.directiveStart,Q=h>>20,xe=l?b+Q:n.directiveEnd;for(let We=a?b:b+Q;We<xe;We++){const _t=w[We];if(We<x&&s===_t||We>=x&&_t.type===s)return We}if(l){const We=w[x];if(We&&Pr(We)&&We.type===s)return x}return null}function ta(n,r,s,a){let l=n[s];const h=r.data;if(function Vs(n){return n instanceof Ks}(l)){const w=l;w.resolving&&function Ft(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Ye(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():nt(n)}(h[s]));const b=io(w.canSeeViewProviders);w.resolving=!0;const x=w.injectImpl?Sr(w.injectImpl):null;da(n,a,St.Default);try{l=n[s]=w.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function li(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const w=os(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,w)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==x&&Sr(x),io(b),w.resolving=!1,A()}}return l}function Ra(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function na(n,r){return!(n&St.Self||n&St.Host&&r)}class Bo{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return xo(this._tNode,this._lView,r,a,s)}}function $a(){return new Bo(Yr(),vt())}function ln(n){return yr(()=>{const r=n.prototype.constructor,s=r[Ar]||jo(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const h=l[Ar]||jo(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function jo(n){return gt(n)?()=>{const r=jo(be(n));return r&&r()}:qi(n)}function Br(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function Cn(n){return function wt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(Uo(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(Yr(),n)}const Xn="__parameters__";function Ro(n,r,s){return yr(()=>{const a=function Ut(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const w=new l(...h);return b.annotation=w,b;function b(x,H,Q){const ie=x.hasOwnProperty(Xn)?x[Xn]:Object.defineProperty(x,Xn,{value:[]})[Xn];for(;ie.length<=Q;)ie.push(null);return(ie[Q]=ie[Q]||[]).push(w),x}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class zr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Dt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function an(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),an(a,r)):r!==n&&r.push(a)}return r}function hn(n,r){n.forEach(s=>Array.isArray(s)?hn(s,r):r(s))}function kr(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function pr(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function yi(n,r,s){let a=I(n,r);return a>=0?n[1|a]=s:(a=~a,function ia(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Dr(n,r){const s=I(n,r);if(s>=0)return n[1|s]}function I(n,r){return function v(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const h=a+(l-a>>1),w=n[h<<s];if(r===w)return h<<s;w>r?l=h:a=h+1}return~(l<<s)}(n,r,1)}const Nn={},ar="__NG_DI_FLAG__",ds="ngTempTokenPath",Er=/\n/gm,Fi="__source";let No;function Rs(n){const r=No;return No=n,r}function xu(n,r=St.Default){if(void 0===No)throw new Xe(-203,!1);return null===No?Jr(n,void 0,r):No.get(n,r&St.Optional?null:void 0,r)}function _i(n,r=St.Default){return(function tr(){return hr}()||xu)(be(n),r)}function N(n,r=St.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),_i(n,r)}function U(n){const r=[];for(let s=0;s<n.length;s++){const a=be(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Xe(900,!1);let l,h=St.Default;for(let w=0;w<a.length;w++){const b=a[w],x=de(b);"number"==typeof x?-1===x?l=b.token:h|=x:l=b}r.push(_i(l,h))}else r.push(_i(a))}return r}function Z(n,r){return n[ar]=r,n.prototype[ar]=r,n}function de(n){return n[ar]}const jt=Z(Ro("Optional"),8),Bn=Z(Ro("SkipSelf"),4);let Gc,Qu;function Uf(n){Gc=n}function Oa(n){return function qa(){if(void 0===Qu&&(Qu=null,nr.trustedTypes))try{Qu=nr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qu}()?.createHTML(n)||n}class Pa{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Wc extends Pa{getTypeName(){return"HTML"}}class mu extends Pa{getTypeName(){return"Style"}}class $o extends Pa{getTypeName(){return"Script"}}class Il extends Pa{getTypeName(){return"URL"}}class Cl extends Pa{getTypeName(){return"ResourceURL"}}function ba(n){return n instanceof Pa?n.changingThisBreaksApplicationSecurity:n}function yu(n,r){const s=function rc(n){return n instanceof Pa&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function qc(n){return new Wc(n)}function lh(n){return new mu(n)}function jf(n){return new $o(n)}function ch(n){return new Il(n)}function dh(n){return new Cl(n)}class Dl{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Oa(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Hf{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Oa(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Oa(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let l=s.length-1;0<l;l--){const w=s.item(l).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&r.removeAttribute(w)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const _u=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function iu(n){return(n=String(n)).match(_u)?n:"unsafe:"+n}function Go(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function vu(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Eu=Go("area,br,col,hr,img,wbr"),bl=Go("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nu=Go("rp,rt"),Qc=vu(Eu,vu(bl,Go("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vu(Nu,Go("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vu(Nu,bl)),Tl=Go("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sl=vu(Tl,Go("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Go("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hh=Go("script,style,template");class Gf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Qc.hasOwnProperty(s))return this.sanitizedSomething=!0,!hh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const h=a.item(l),w=h.name,b=w.toLowerCase();if(!Sl.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let x=h.value;Tl[b]&&(x=iu(x)),this.buf.push(" ",w,'="',Xc(x),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Qc.hasOwnProperty(s)&&!Eu.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Xc(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Yu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jc=/([^\#-~ |!])/g;function Xc(n){return n.replace(/&/g,"&amp;").replace(Yu,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Jc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let su;function Ta(n,r){let s=null;try{su=su||function Zc(n){const r=new Hf(n);return function Lg(){try{return!!(new window.DOMParser).parseFromString(Oa(""),"text/html")}catch{return!1}}()?new Dl(r):r}(n);let a=r?String(r):"";s=su.getInertBodyElement(a);let l=5,h=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=h,h=s.innerHTML,s=su.getInertBodyElement(a)}while(a!==h);return Oa((new Gf).sanitizeChildren(Ju(s)||s))}finally{if(s){const a=Ju(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ju(n){return"content"in n&&function fh(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Is=(()=>((Is=Is||{})[Is.NONE=0]="NONE",Is[Is.HTML=1]="HTML",Is[Is.STYLE=2]="STYLE",Is[Is.SCRIPT=3]="SCRIPT",Is[Is.URL=4]="URL",Is[Is.RESOURCE_URL=5]="RESOURCE_URL",Is))();function td(n){const r=function Za(){const n=vt();return n&&n[12]}();return r?r.sanitize(Is.URL,n)||"":yu(n,"URL")?ba(n):iu(nt(n))}const sc=new zr("ENVIRONMENT_INITIALIZER"),ka=new zr("INJECTOR",-1),nd=new zr("INJECTOR_DEF_TYPES");class Xu{get(r,s=Nn){if(s===Nn){const a=new Error(`NullInjectorError: No provider for ${we(r)}!`);throw a.name="NullInjectorError",a}return s}}function mh(...n){return{\u0275providers:oc(0,n)}}function oc(n,...r){const s=[],a=new Set;let l;return hn(r,h=>{const w=h;ac(w,s,[],a)&&(l||(l=[]),l.push(w))}),void 0!==l&&ur(l,s),s}function ur(n,r){for(let s=0;s<n.length;s++){const{providers:l}=n[s];hn(l,h=>{r.push(h)})}}function ac(n,r,s,a){if(!(n=be(n)))return!1;let l=null,h=br(n);const w=!h&&ke(n);if(h||w){if(w&&!w.standalone)return!1;l=n}else{const x=n.ngModule;if(h=br(x),!h)return!1;l=x}const b=a.has(l);if(w){if(b)return!1;if(a.add(l),w.dependencies){const x="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const H of x)ac(H,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!b){let H;a.add(l);try{hn(h.imports,Q=>{ac(Q,r,s,a)&&(H||(H=[]),H.push(Q))})}finally{}void 0!==H&&ur(H,r)}if(!b){const H=qi(l)||(()=>new l);r.push({provide:l,useFactory:H,deps:wn},{provide:nd,useValue:l,multi:!0},{provide:sc,useValue:()=>_i(l),multi:!0})}const x=h.providers;null==x||b||hn(x,Q=>{r.push(Q)})}}return l!==n&&void 0!==n.providers}const Ou=ue({provide:String,useValue:ue});function Pu(n){return null!==n&&"object"==typeof n&&Ou in n}function au(n){return"function"==typeof n}const Al=new zr("Set Injector scope."),Fu={},_h={};let uc;function lc(){return void 0===uc&&(uc=new Xu),uc}class sa{}class Lu extends sa{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fa(r,w=>this.processProvider(w)),this.records.set(ka,Bs(void 0,this)),l.has("environment")&&this.records.set(sa,Bs(void 0,this));const h=this.records.get(Al);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(nd.multi,wn,St.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Rs(this),a=Sr(void 0);try{return r()}finally{Rs(s),Sr(a)}}get(r,s=Nn,a=St.Default){this.assertNotDestroyed();const l=Rs(this),h=Sr(void 0);try{if(!(a&St.SkipSelf)){let b=this.records.get(r);if(void 0===b){const x=function id(n){return"function"==typeof n||"object"==typeof n&&n instanceof zr}(r)&&gn(r);b=x&&this.injectableDefInScope(x)?Bs(cc(r),Fu):null,this.records.set(r,b)}if(null!=b)return this.hydrate(r,b)}return(a&St.Self?lc():this.parent).get(r,s=a&St.Optional&&s===Nn?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[ds]=w[ds]||[]).unshift(we(r)),l)throw w;return function Ue(n,r,s,a){const l=n[ds];throw r[Fi]&&l.unshift(r[Fi]),n.message=function tt(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=we(r);if(Array.isArray(r))l=r.map(we).join(" -> ");else if("object"==typeof r){let h=[];for(let w in r)if(r.hasOwnProperty(w)){let b=r[w];h.push(w+":"+("string"==typeof b?JSON.stringify(b):we(b)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(Er,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[ds]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{Sr(h),Rs(l)}}resolveInjectorInitializers(){const r=Rs(this),s=Sr(void 0);try{const a=this.get(sc.multi,wn,St.Self);for(const l of a)l()}finally{Rs(r),Sr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(we(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(r){let s=au(r=be(r))?r:be(r&&r.provide);const a=function ao(n){return Pu(n)?Bs(void 0,n.useValue):Bs(Ml(n),Fu)}(r);if(au(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=Bs(void 0,Fu,!0),l.factory=()=>U(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Fu&&(s.value=_h,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Sa(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=be(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function cc(n){const r=gn(n),s=null!==r?r.factory:qi(n);if(null!==s)return s;if(n instanceof zr)throw new Xe(204,!1);if(n instanceof Function)return function qf(n){const r=n.length;if(r>0)throw function ei(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new Xe(204,!1);const s=function er(n){const r=n&&(n[Wt]||n[Or]);if(r){const s=function un(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Xe(204,!1)}function Ml(n,r,s){let a;if(au(n)){const l=be(n);return qi(l)||cc(l)}if(Pu(n))a=()=>be(n.useValue);else if(function ku(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...U(n.deps||[]));else if(function mo(n){return!(!n||!n.useExisting)}(n))a=()=>_i(be(n.useExisting));else{const l=be(n&&(n.useClass||n.provide));if(!function Uu(n){return!!n.deps}(n))return qi(l)||cc(l);a=()=>new l(...U(n.deps))}return a}function Bs(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Ka(n){return!!n.\u0275providers}function Fa(n,r){for(const s of n)Array.isArray(s)?Fa(s,r):Ka(s)?Fa(s.\u0275providers,r):r(s)}class dc{}class xl{resolveComponentFactory(r){throw function vh(n){const r=Error(`No component factory found for ${we(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Vu=(()=>{class n{}return n.NULL=new xl,n})();function Zf(){return E(Yr(),vt())}function E(n,r){return new c(Rr(n,r))}let c=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Zf,n})();function f(n){return n instanceof c?n.nativeElement:n}class ${}let J=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Oe(){const n=vt(),s=Yn(Yr().index,n);return(Ur(s)?s:n)[11]}(),n})(),ot=(()=>{class n{}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:()=>null}),n})();class kt{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const fn=new kt("14.2.6"),On={};function Jf(n){return n.ngOriginalError}class dd{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Jf(r);for(;s&&Jf(s);)s=Jf(s);return s||null}}const hd=new Map;let Oo=0;const Bu="__ngContext__";function Hs(n,r){Ur(r)?(n[Bu]=r[20],function tp(n){hd.set(n[20],n)}(r)):n[Bu]=r}function ju(n){return n instanceof Function?n():n}var Iu=(()=>((Iu=Iu||{})[Iu.Important=1]="Important",Iu[Iu.DashCase=2]="DashCase",Iu))();function gd(n,r){return undefined(n,r)}function Hu(n){const r=n[3];return Ei(r)?r[3]:r}function xh(n){return ya(n[13])}function Rh(n){return ya(n[4])}function ya(n){for(;null!==n&&!Ei(n);)n=n[4];return n}function $u(n,r,s,a,l){if(null!=a){let h,w=!1;Ei(a)?h=a:Ur(a)&&(w=!0,a=a[0]);const b=dr(a);0===n&&null!==s?null==l?Jg(r,s,b):sl(r,s,b,l||null,!0):1===n&&null!==s?sl(r,s,b,l||null,!0):2===n?function rm(n,r,s){const a=yd(n,r);a&&function Pl(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,b,w):3===n&&r.destroyNode(b),null!=h&&function sm(n,r,s,a,l){const h=s[7];h!==dr(s)&&$u(r,n,a,h,l);for(let b=10;b<s.length;b++){const x=s[b];_d(x[1],x,n,r,a,h)}}(r,n,h,s,l)}}function rl(n,r,s){return n.createElement(r,s)}function ap(n,r){const s=n[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,si(l,-1)),s.splice(a,1)}function up(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&ap(l,a),r>0&&(n[s-1][4]=a[4]);const h=pr(n,10+r);!function Zg(n,r){_d(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const w=h[19];null!==w&&w.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Qg(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&_d(n,r,s,3,null,null),function _c(n){let r=n[13];if(!r)return lp(n[1],n);for(;r;){let s=null;if(Ur(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)Ur(r)&&lp(r[1],r),r=r[3];null===r&&(r=n),Ur(r)&&lp(r[1],r),s=r&&r[4]}r=s}}(r)}}function lp(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Nh(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Ks)){const h=s[a+1];if(Array.isArray(h))for(let w=0;w<h.length;w+=2){const b=l[h[w]],x=h[w+1];try{x.call(b)}finally{}}else try{h.call(l)}finally{}}}}(n,r),function c_(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const w=s[h+1],b="function"==typeof w?w(r):dr(r[w]),x=a[l=s[h+2]],H=s[h+3];"boolean"==typeof H?b.removeEventListener(s[h],x,H):H>=0?a[l=H]():a[l=-H].unsubscribe(),h+=2}else{const w=a[l=s[h+1]];s[h].call(w)}if(null!==a){for(let h=l+1;h<a.length;h++)(0,a[h])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Ei(r[3])){s!==r[3]&&ap(s,r);const a=r[19];null!==a&&a.detachView(n)}!function el(n){hd.delete(n[20])}(r)}}function cp(n,r,s){return function Yg(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===qt.None||l===qt.Emulated)return null}return Rr(a,s)}(n,r.parent,s)}function sl(n,r,s,a,l){n.insertBefore(r,s,a,l)}function Jg(n,r,s){n.appendChild(r,s)}function dp(n,r,s,a,l){null!==a?sl(n,r,s,a,l):Jg(n,r,s)}function yd(n,r){return n.parentNode(r)}let tm=function hp(n,r,s){return 40&n.type?Rr(n,s):null};function Qs(n,r,s,a){const l=cp(n,a,r),h=r[11],b=function em(n,r,s){return tm(n,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let x=0;x<s.length;x++)dp(h,l,s[x],b,!1);else dp(h,l,s,b,!1)}function kh(n,r){if(null!==r){const s=r.type;if(3&s)return Rr(r,n);if(4&s)return pp(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return kh(n,a);{const l=n[r.index];return Ei(l)?pp(-1,l):dr(l)}}if(32&s)return gd(r,n)()||dr(n[r.index]);{const a=nm(n,r);return null!==a?Array.isArray(a)?a[0]:kh(Hu(n[16]),a):kh(n,r.next)}}return null}function nm(n,r){return null!==r?n[16][6].projection[r.projection]:null}function pp(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return kh(a,l)}return r[7]}function Fh(n,r,s,a,l,h,w){for(;null!=s;){const b=a[s.index],x=s.type;if(w&&0===r&&(b&&Hs(dr(b),a),s.flags|=4),64!=(64&s.flags))if(8&x)Fh(n,r,s.child,a,l,h,!1),$u(r,n,l,b,h);else if(32&x){const H=gd(s,a);let Q;for(;Q=H();)$u(r,n,l,Q,h);$u(r,n,l,b,h)}else 16&x?im(n,r,a,s,l,h):$u(r,n,l,b,h);s=w?s.projectionNext:s.next}}function _d(n,r,s,a,l,h){Fh(s,a,n.firstChild,r,l,h,!1)}function im(n,r,s,a,l,h){const w=s[16],x=w[6].projection[a.projection];if(Array.isArray(x))for(let H=0;H<x.length;H++)$u(r,n,l,x[H],h);else Fh(n,r,x,w[3],l,h,!0)}function Uh(n,r,s){n.setAttribute(r,"style",s)}function kl(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function vd(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||n.charCodeAt(l+h)<=32)return l}s=l+1}}const Vh="ng-template";function am(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==vd(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function um(n){return 4===n.type&&n.value!==Vh}function lm(n,r,s){return r===(4!==n.type||s?n.value:Vh)}function cm(n,r,s){let a=4;const l=n.attrs||[],h=function dm(n){for(let r=0;r<n.length;r++)if(Uo(n[r]))return r;return n.length}(l);let w=!1;for(let b=0;b<r.length;b++){const x=r[b];if("number"!=typeof x){if(!w)if(4&a){if(a=2|1&a,""!==x&&!lm(n,x,s)||""===x&&1===r.length){if(La(a))return!1;w=!0}}else{const H=8&a?x:r[++b];if(8&a&&null!==n.attrs){if(!am(n.attrs,H,s)){if(La(a))return!1;w=!0}continue}const ie=d_(8&a?"class":x,l,um(n),s);if(-1===ie){if(La(a))return!1;w=!0;continue}if(""!==H){let xe;xe=ie>h?"":l[ie+1].toLowerCase();const We=8&a?xe:null;if(We&&-1!==vd(We,H,0)||2&a&&H!==xe){if(La(a))return!1;w=!0}}}}else{if(!w&&!La(a)&&!La(x))return!1;if(w&&La(x))continue;w=!1,a=x|1&a}}return La(a)||w}function La(n){return 0==(1&n)}function d_(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const w=r[l];if(w===n)return l;if(3===w||6===w)h=!0;else{if(1===w||2===w){let b=r[++l];for(;"string"==typeof b;)b=r[++l];continue}if(4===w)break;if(0===w){l+=4;continue}}l+=h?1:2}return-1}return function f_(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function mp(n,r,s=!1){for(let a=0;a<r.length;a++)if(cm(n,r[a],s))return!0;return!1}function Fl(n,r){return n?":not("+r.trim()+")":r}function yp(n){let r=n[0],s=1,a=2,l="",h=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&a){const b=n[++s];l+="["+w+(b.length>0?'="'+b+'"':"")+"]"}else 8&a?l+="."+w:4&a&&(l+=" "+w);else""!==l&&!La(w)&&(r+=Fl(h,l),l=""),a=w,h=h||!La(a);s++}return""!==l&&(r+=Fl(h,l)),r}const gr={};function _p(n){fm(Ln(),vt(),Ee()+n,!1)}function fm(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&Nr(r,h,s)}else{const h=n.preOrderHooks;null!==h&&ro(r,h,0,s)}Ze(s)}function Gh(n,r=null,s=null,a){const l=zh(n,r,s,a);return l.resolveInjectorInitializers(),l}function zh(n,r=null,s=null,a,l=new Set){const h=[s||wn,mh(n)];return a=a||("object"==typeof n?void 0:we(n)),new Lu(h,r||lc(),a||null,l)}let Gu=(()=>{class n{static create(s,a){if(Array.isArray(s))return Gh({name:""},a,s,"");{const l=s.name??"";return Gh({name:l},s.parent,s.providers,l)}}}return n.THROW_IF_NOT_FOUND=Nn,n.NULL=new Xu,n.\u0275prov=Dt({token:n,providedIn:"any",factory:()=>_i(ka)}),n.__NG_ELEMENT_ID__=-1,n})();function ol(n,r=St.Default){const s=vt();return null===s?_i(n,r):xo(Yr(),s,be(n),r)}function Im(){throw new Error("invalid")}function Yh(n,r){return n<<17|r<<2}function Ua(n){return n>>17&32767}function Jh(n){return 2|n}function Aa(n){return(131068&n)>>2}function Td(n,r){return-131069&n|r<<2}function Ap(n){return 1|n}function sf(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],h=s[a+1];if(-1!==h){const w=n.data[h];Qo(l),w.contentQueries(2,r[h],h)}}}function Dc(n,r,s,a,l,h,w,b,x,H,Q){const ie=r.blueprint.slice();return ie[0]=l,ie[2]=76|a,(null!==Q||n&&1024&n[2])&&(ie[2]|=1024),qo(ie),ie[3]=ie[15]=n,ie[8]=s,ie[10]=w||n&&n[10],ie[11]=b||n&&n[11],ie[12]=x||n&&n[12]||null,ie[9]=H||n&&n[9]||null,ie[6]=h,ie[20]=function ep(){return Oo++}(),ie[21]=Q,ie[16]=2==r.type?n[16]:ie,ie}function bc(n,r,s,a,l){let h=n.data[r];if(null===h)h=function xd(n,r,s,a,l){const h=Es(),w=Fo(),x=n.data[r]=function Tc(n,r,s,a,l,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?h:h&&h.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=x),null!==h&&(w?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x)),x}(n,r,s,a,l),function or(){return vn.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const w=function us(){const n=vn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===w?-1:w.injectorIndex}return Ki(h,!0),h}function Vl(n,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function Rd(n,r,s){cs(r);try{const a=n.viewQuery;null!==a&&Fr(1,a,s);const l=n.template;null!==l&&Pm(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&sf(n,r),n.staticViewQueries&&Fr(2,n.viewQuery,s);const h=n.components;null!==h&&function C_(n,r){for(let s=0;s<r.length;s++)Yp(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,z()}}function Nd(n,r,s,a){const l=r[2];if(128!=(128&l)){cs(r);try{qo(r),function rt(n){return vn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Pm(n,r,s,2,a);const w=3==(3&l);if(w){const H=n.preOrderCheckHooks;null!==H&&Nr(r,H,null)}else{const H=n.preOrderHooks;null!==H&&ro(r,H,0,null),qs(r,0)}if(function Hm(n){for(let r=xh(n);null!==r;r=Rh(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],h=l[3];0==(512&l[2])&&si(h,1),l[2]|=512}}}(r),function M_(n){for(let r=xh(n);null!==r;r=Rh(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];vs(a)&&Nd(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&sf(n,r),w){const H=n.contentCheckHooks;null!==H&&Nr(r,H)}else{const H=n.contentHooks;null!==H&&ro(r,H,1),qs(r,1)}!function Fp(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)Ze(~l);else{const h=l,w=s[++a],b=s[++a];ls(w,h),b(2,r[h])}}}finally{Ze(-1)}}(n,r);const b=n.components;null!==b&&function Lp(n,r){for(let s=0;s<r.length;s++)$m(n,r[s])}(r,b);const x=n.viewQuery;if(null!==x&&Fr(2,x,a),w){const H=n.viewCheckHooks;null!==H&&Nr(r,H)}else{const H=n.viewHooks;null!==H&&ro(r,H,2),qs(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,si(r[3],-1))}finally{z()}}}function Pm(n,r,s,a,l){const h=Ee(),w=2&a;try{Ze(-1),w&&r.length>22&&fm(n,r,22,!1),s(a,l)}finally{Ze(h)}}function Up(n,r,s){!Ms()||(function T_(n,r,s,a){const l=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||nn(s,r),Hs(a,r);const w=s.initialInputs;for(let b=l;b<h;b++){const x=n.data[b],H=Pr(x);H&&S_(r,s,x);const Q=ta(r,n,b,s);Hs(Q,r),null!==w&&A_(0,b-l,Q,x,0,w),H&&(Yn(s.index,r)[8]=Q)}}(n,r,s,Rr(s,r)),128==(128&s.flags)&&function zp(n,r,s){const a=s.directiveStart,l=s.directiveEnd,h=s.index,w=function Do(){return vn.lFrame.currentDirectiveIndex}();try{Ze(h);for(let b=a;b<l;b++){const x=n.data[b],H=r[b];bo(b),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Um(x,H)}}finally{Ze(-1),bo(w)}}(n,r,s))}function Od(n,r,s=Rr){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const w=a[h+1],b=-1===w?s(r,n):n[w];n[l++]=b}}}function km(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Pd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Pd(n,r,s,a,l,h,w,b,x,H){const Q=22+a,ie=Q+l,xe=function D_(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:gr);return s}(Q,ie),We="function"==typeof H?H():H;return xe[1]={type:n,blueprint:xe,template:s,queries:null,viewQuery:b,declTNode:r,data:xe.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:x,consts:We,incompleteFirstPass:!1}}function uf(n,r,s,a){const l=eg(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&tg(n).push(a,l.length-1))}function Bp(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function lf(n,r){const a=r.directiveEnd,l=n.data,h=r.attrs,w=[];let b=null,x=null;for(let H=r.directiveStart;H<a;H++){const Q=l[H],ie=Q.inputs,xe=null===h||um(r)?null:Kp(ie,h);w.push(xe),b=Bp(ie,H,b),x=Bp(Q.outputs,H,x)}null!==b&&(b.hasOwnProperty("class")&&(r.flags|=16),b.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=b,r.outputs=x}function Cu(n,r){const s=Yn(r,n);16&s[2]||(s[2]|=32)}function $p(n,r,s,a){let l=!1;if(Ms()){const h=function Wp(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let h=0;h<a.length;h++){const w=a[h];mp(s,w.selectors,!1)&&(l||(l=[]),et(nn(s,r),n,w.type),Pr(w)?(Vm(n,s),l.unshift(w)):l.push(w))}return l}(n,r,s),w=null===a?null:{"":-1};if(null!==h){l=!0,cf(s,n.data.length,h.length);for(let Q=0;Q<h.length;Q++){const ie=h[Q];ie.providersResolver&&ie.providersResolver(ie)}let b=!1,x=!1,H=Vl(n,r,h.length,null);for(let Q=0;Q<h.length;Q++){const ie=h[Q];s.mergedAttrs=Xo(s.mergedAttrs,ie.hostAttrs),Zp(n,s,r,H,ie),Bm(H,ie,w),null!==ie.contentQueries&&(s.flags|=8),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(s.flags|=128);const xe=ie.type.prototype;!b&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),b=!0),!x&&(xe.ngOnChanges||xe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),x=!0),H++}lf(n,s)}w&&function qp(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new Xe(-301,!1);a.push(r[l],h)}}}(s,a,w)}return s.mergedAttrs=Xo(s.mergedAttrs,s.attrs),l}function Lm(n,r,s,a,l,h){const w=h.hostBindings;if(w){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const x=~r.index;(function Gp(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(b)!=x&&b.push(x),b.push(a,l,w)}}function Um(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Vm(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Bm(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Pr(r)&&(s[""]=n)}}function cf(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Zp(n,r,s,a,l){n.data[a]=l;const h=l.factory||(l.factory=qi(l.type)),w=new Ks(h,Pr(l),ol);n.blueprint[a]=w,s[a]=w,Lm(n,r,0,a,Vl(n,s,l.hostVars,gr),l)}function S_(n,r,s){const a=Rr(r,n),l=km(s),h=n[10],w=Fd(n,Dc(n,l,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));n[r.index]=w}function Du(n,r,s,a,l,h){const w=Rr(n,r);!function kd(n,r,s,a,l,h,w){if(null==h)n.removeAttribute(r,l,s);else{const b=null==w?nt(h):w(h,a||"",l);n.setAttribute(r,l,b,s)}}(r[11],w,h,n.value,s,a,l)}function A_(n,r,s,a,l,h){const w=h[r];if(null!==w){const b=a.setInput;for(let x=0;x<w.length;){const H=w[x++],Q=w[x++],ie=w[x++];null!==b?a.setInput(s,ie,H,Q):s[Q]=ie}}}function Kp(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function df(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function $m(n,r){const s=Yn(r,n);if(vs(s)){const a=s[1];48&s[2]?Nd(a,s,a.template,s[8]):s[5]>0&&Qp(s)}}function Qp(n){for(let a=xh(n);null!==a;a=Rh(a))for(let l=10;l<a.length;l++){const h=a[l];if(vs(h))if(512&h[2]){const w=h[1];Nd(w,h,w.template,h[8])}else h[5]>0&&Qp(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=Yn(s[a],n);vs(l)&&l[5]>0&&Qp(l)}}function Yp(n,r){const s=Yn(r,n),a=s[1];(function Jp(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Rd(a,s,s[8])}function Fd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function hf(n){for(;n;){n[2]|=32;const r=Hu(n);if(ui(n)&&!r)return n;n=r}return null}function Ld(n,r,s,a=!0){const l=r[10];l.begin&&l.begin();try{Nd(n,r,n.template,s)}catch(w){throw a&&ng(r,w),w}finally{l.end&&l.end()}}function Fr(n,r,s){Qo(0),r(n,s)}function eg(n){return n[7]||(n[7]=[])}function tg(n){return n.cleanup||(n.cleanup=[])}function ng(n,r){const s=n[9],a=s?s.get(dd,null):null;a&&a.handleError(r)}function $i(n,r,s,a,l){for(let h=0;h<s.length;){const w=s[h++],b=s[h++],x=r[w],H=n.data[w];null!==H.setInput?H.setInput(x,l,a,b):x[b]=l}}function Va(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,h=0;if(null!==r)for(let w=0;w<r.length;w++){const b=r[w];"number"==typeof b?h=b:1==h?l=Ne(l,b):2==h&&(a=Ne(a,b+": "+r[++w]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}function Ud(n,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(dr(h)),Ei(h))for(let b=10;b<h.length;b++){const x=h[b],H=x[1].firstChild;null!==H&&Ud(x[1],x,H,a)}const w=s.type;if(8&w)Ud(n,r,s.child,a);else if(32&w){const b=gd(s,r);let x;for(;x=b();)a.push(x)}else if(16&w){const b=nm(r,s);if(Array.isArray(b))a.push(...b);else{const x=Hu(r[16]);Ud(x[1],x,b,a,!0)}}s=l?s.projectionNext:s.next}return a}class Vd{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Ud(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Ei(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(up(r,a),pr(s,a))}this._attachedToViewContainer=!1}Qg(this._lView[1],this._lView)}onDestroy(r){uf(this._lView[1],this._lView,null,r)}markForCheck(){hf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ld(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function l_(n,r){_d(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=r}}class ff extends Vd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Ld(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class pf extends Vu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=ke(r);return new Bd(s,this.ngModule)}}function gf(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class mf{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,On,a);return l!==On||s===On?l:this.parentInjector.get(r,s,a)}}class Bd extends dc{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Bh(n){return n.map(yp).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return gf(this.componentDef.inputs)}get outputs(){return gf(this.componentDef.outputs)}create(r,s,a,l){let h=(l=l||this.ngModule)instanceof sa?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const w=h?new mf(r,h):r,b=w.get($,null);if(null===b)throw new Xe(407,!1);const x=w.get(ot,null),H=b.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ie=a?function Vp(n,r,s){return n.selectRootElement(r,s===qt.ShadowDom)}(H,a,this.componentDef.encapsulation):rl(b.createRenderer(null,this.componentDef),Q,function Gm(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Q)),xe=this.componentDef.onPush?288:272,We=Pd(0,null,null,1,0,null,null,null,null,null),_t=Dc(null,We,null,xe,null,null,b,H,x,w,null);let Vt,rn;cs(_t);try{const Tn=function N_(n,r,s,a,l,h){const w=s[1];s[22]=n;const x=bc(w,22,2,"#host",null),H=x.mergedAttrs=r.hostAttrs;null!==H&&(Va(x,H,!0),null!==n&&(Qi(l,n,H),null!==x.classes&&kl(l,n,x.classes),null!==x.styles&&Uh(l,n,x.styles)));const Q=a.createRenderer(n,r),ie=Dc(s,km(r),null,r.onPush?32:16,s[22],x,a,Q,h||null,null,null);return w.firstCreatePass&&(et(nn(x,s),w,r.type),Vm(w,x),cf(x,s.length,1)),Fd(s,ie),s[22]=ie}(ie,this.componentDef,_t,b,H);if(ie)if(a)Qi(H,ie,["ng-version",fn.full]);else{const{attrs:Wn,classes:At}=function hm(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===l?""!==h&&r.push(h,n[++a]):8===l&&s.push(h);else{if(!La(l))break;l=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Wn&&Qi(H,ie,Wn),At&&At.length>0&&kl(H,ie,At.join(" "))}if(rn=Ts(We,22),void 0!==s){const Wn=rn.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const sr=s[At];Wn.push(null!=sr?Array.from(sr):null)}}Vt=function O_(n,r,s,a){const l=s[1],h=function Hp(n,r,s){const a=Yr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Zp(n,a,r,Vl(n,r,1,null),s),lf(n,a));const l=ta(r,n,a.directiveStart,a);Hs(l,r);const h=Rr(a,r);return h&&Hs(h,r),l}(l,s,r);if(n[8]=s[8]=h,null!==a)for(const b of a)b(h,r);if(r.contentQueries){const b=Yr();r.contentQueries(1,h,b.directiveStart)}const w=Yr();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Ze(w.index),Lm(s[1],w,0,w.directiveStart,w.directiveEnd,r),Um(r,h)),h}(Tn,this.componentDef,_t,[zm]),Rd(We,_t,null)}finally{z()}return new R_(this.componentType,Vt,E(rn,_t),_t,rn)}}class R_ extends class sd{}{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new ff(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const h=this._rootLView;$i(h[1],h,l,r,s),Cu(h,this._tNode.index)}}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function zm(){const n=Yr();xr(vt()[1],n)}function _f(n){let r=function yf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(Pr(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Xe(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const w=n;w.inputs=jd(n.inputs),w.declaredInputs=jd(n.declaredInputs),w.outputs=jd(n.outputs);const b=l.hostBindings;b&&sg(n,b);const x=l.viewQuery,H=l.contentQueries;if(x&&ig(n,x),H&&vf(n,H),ye(n.inputs,l.inputs),ye(n.declaredInputs,l.declaredInputs),ye(n.outputs,l.outputs),Pr(l)&&l.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let w=0;w<h.length;w++){const b=h[w];b&&b.ngInherit&&b(n),b===_f&&(s=!1)}}r=Object.getPrototypeOf(r)}!function rg(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Xo(l.hostAttrs,s=Xo(s,l.hostAttrs))}}(a)}function jd(n){return n===fi?{}:n===wn?[]:n}function ig(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function vf(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function sg(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Ac=null;function dl(){if(!Ac){const n=nr.Symbol;if(n&&n.iterator)Ac=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ac=a)}}}return Ac}function Bl(n){return!!ag(n)&&(Array.isArray(n)||!(n instanceof Map)&&dl()in n)}function ag(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function bu(n,r,s){return n[r]=s}function aa(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function $d(n,r,s,a){const l=vt();return aa(l,en(),r)&&(Ln(),Du(ct(),l,n,r,s,a)),$d}function Rc(n,r,s,a){return aa(n,en(),s)?r+nt(s)+a:gr}function L_(n,r,s,a,l,h,w,b){const x=vt(),H=Ln(),Q=n+22,ie=H.firstCreatePass?function zu(n,r,s,a,l,h,w,b,x){const H=r.consts,Q=bc(r,n,4,w||null,Zi(H,b));$p(r,s,Q,Zi(H,x)),xr(r,Q);const ie=Q.tViews=Pd(2,Q,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H);return null!==r.queries&&(r.queries.template(r,Q),ie.queries=r.queries.embeddedTView(Q)),Q}(Q,H,x,r,s,a,l,h,w):H.data[Q];Ki(ie,!1);const xe=x[11].createComment("");Qs(H,x,xe,ie),Hs(xe,x),Fd(x,x[Q]=df(xe,x,xe,ie)),Wo(ie)&&Up(H,x,ie),null!=w&&Od(x,ie,b)}function Wd(n){return function Ni(n,r){return n[r]}(function Co(){return vn.lFrame.contextLView}(),22+n)}function cg(n,r,s){const a=vt();return aa(a,en(),r)&&function _a(n,r,s,a,l,h,w,b){const x=Rr(r,s);let Q,H=r.inputs;!b&&null!=H&&(Q=H[a])?($i(n,s,Q,a,l),Ui(r)&&Cu(s,r.index)):3&r.type&&(a=function b_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=w?w(l,r.value||"",a):l,h.setProperty(x,a,l))}(Ln(),ct(),a,n,r,a[11],s,!1),cg}function dg(n,r,s,a,l){const w=l?"class":"style";$i(n,s,r.inputs[w],w,a)}function qd(n,r,s,a){const l=vt(),h=Ln(),w=22+n,b=l[11],x=l[w]=rl(b,r,function Jn(){return vn.lFrame.currentNamespace}()),H=h.firstCreatePass?function ey(n,r,s,a,l,h,w){const b=r.consts,H=bc(r,n,2,l,Zi(b,h));return $p(r,s,H,Zi(b,w)),null!==H.attrs&&Va(H,H.attrs,!1),null!==H.mergedAttrs&&Va(H,H.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,H),H}(w,h,l,0,r,s,a):h.data[w];Ki(H,!0);const Q=H.mergedAttrs;null!==Q&&Qi(b,x,Q);const ie=H.classes;null!==ie&&kl(b,x,ie);const xe=H.styles;return null!==xe&&Uh(b,x,xe),64!=(64&H.flags)&&Qs(h,l,x,H),0===function Xs(){return vn.lFrame.elementDepthCount}()&&Hs(x,l),function As(){vn.lFrame.elementDepthCount++}(),Wo(H)&&(Up(h,l,H),function af(n,r,s){if(lo(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const w=n.data[h];w.contentQueries&&w.contentQueries(1,s[h],h)}}}(h,H,l)),null!==a&&Od(l,H),qd}function Gl(){let n=Yr();Fo()?function to(){vn.lFrame.isParent=!1}():(n=n.parent,Ki(n,!1));const r=n;!function hi(){vn.lFrame.elementDepthCount--}();const s=Ln();return s.firstCreatePass&&(xr(s,n),lo(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function hu(n){return 0!=(16&n.flags)}(r)&&dg(s,r,vt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function wa(n){return 0!=(32&n.flags)}(r)&&dg(s,r,vt(),r.stylesWithoutHost,!1),Gl}function hg(n,r,s,a){return qd(n,r,s,a),Gl(),hg}function If(){return vt()}function pg(n){return!!n&&"function"==typeof n.then}function ty(n){return!!n&&"function"==typeof n.subscribe}const ny=ty;function Zd(n,r,s,a){const l=vt(),h=Ln(),w=Yr();return function hl(n,r,s,a,l,h,w,b){const x=Wo(a),Q=n.firstCreatePass&&tg(n),ie=r[8],xe=eg(r);let We=!0;if(3&a.type||b){const rn=Rr(a,r),Tn=b?b(rn):rn,Wn=xe.length,At=b?Ai=>b(dr(Ai[a.index])):a.index;let sr=null;if(!b&&x&&(sr=function ry(n,r,s,a){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const w=l[h];if(w===s&&l[h+1]===a){const b=r[7],x=l[h+2];return b.length>x?b[x]:null}"string"==typeof w&&(h+=2)}return null}(n,r,l,a.index)),null!==sr)(sr.__ngLastListenerFn__||sr).__ngNextListenerFn__=h,sr.__ngLastListenerFn__=h,We=!1;else{h=mg(a,r,ie,h,!1);const Ai=s.listen(Tn,l,h);xe.push(h,Ai),Q&&Q.push(l,At,Wn,Wn+1)}}else h=mg(a,r,ie,h,!1);const _t=a.outputs;let Vt;if(We&&null!==_t&&(Vt=_t[l])){const rn=Vt.length;if(rn)for(let Tn=0;Tn<rn;Tn+=2){const $s=r[Vt[Tn]][Vt[Tn+1]].subscribe(h),rh=xe.length;xe.push(h,$s),Q&&Q.push(l,a.index,rh,-(rh+1))}}}(h,l,l[11],w,n,r,0,a),Zd}function gg(n,r,s,a){try{return!1!==s(a)}catch(l){return ng(n,l),!1}}function mg(n,r,s,a,l){return function h(w){if(w===Function)return a;hf(2&n.flags?Yn(n.index,r):r);let x=gg(r,0,a,w),H=h.__ngNextListenerFn__;for(;H;)x=gg(r,0,H,w)&&x,H=H.__ngNextListenerFn__;return l&&!1===x&&(w.preventDefault(),w.returnValue=!1),x}}function Df(n=1){return function O(n){return(vn.lFrame.contextLView=function K(n,r){for(;n>0;)r=r[15],n--;return r}(n,vn.lFrame.contextLView))[8]}(n)}function uy(n,r,s,a,l){const h=n[s+1],w=null===r;let b=a?Ua(h):Aa(h),x=!1;for(;0!==b&&(!1===x||w);){const Q=n[b+1];B_(n[b],r)&&(x=!0,n[b+1]=a?Ap(Q):Jh(Q)),b=a?Ua(Q):Aa(Q)}x&&(n[s+1]=a?Jh(h):Ap(h))}function B_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&I(n,r)>=0}const uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ly(n){return n.substring(uo.key,uo.keyEnd)}function j_(n){return n.substring(uo.value,uo.valueEnd)}function vg(n,r){const s=uo.textEnd;let a=uo.key=ql(n,r,s);return s===a?-1:(a=uo.keyEnd=function wg(n,r,s){let a;for(;r<s&&(45===(a=n.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(n,a,s),a=Yd(n,a,s),a=uo.value=ql(n,a,s),a=uo.valueEnd=function $_(n,r,s){let a=-1,l=-1,h=-1,w=r,b=w;for(;w<s;){const x=n.charCodeAt(w++);if(59===x)return b;34===x||39===x?b=w=fl(n,x,w,s):r===w-4&&85===h&&82===l&&76===a&&40===x?b=w=fl(n,41,w,s):x>32&&(b=w),h=l,l=a,a=-33&x}return b}(n,a,s),Yd(n,a,s))}function ql(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function Yd(n,r,s,a){return(r=ql(n,r,s))<s&&r++,r}function fl(n,r,s,a){let l=-1,h=s;for(;h<a;){const w=n.charCodeAt(h++);if(w==r&&92!==l)return h;l=92==w&&92===l?0:w}throw new Error}function Su(n,r){return function cu(n,r,s,a){const l=vt(),h=Ln(),w=rr(2);h.firstUpdatePass&&gy(h,n,w,a),r!==gr&&aa(l,w,r)&&Z_(h,h.data[Ee()],l,l[11],n,l[w+1]=function _y(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=we(ba(n)))),n}(r,s),a,w)}(n,r,null,!0),Su}function Au(n){!function du(n,r,s,a){const l=Ln(),h=rr(2);l.firstUpdatePass&&gy(l,null,h,a);const w=vt();if(s!==gr&&aa(w,h,s)){const b=l.data[Ee()];if(qu(b,a)&&!py(l,h)){let x=a?b.classesWithoutHost:b.stylesWithoutHost;null!==x&&(s=Ne(x,s||"")),dg(l,b,w,s,a)}else!function Cg(n,r,s,a,l,h,w,b){l===gr&&(l=wn);let x=0,H=0,Q=0<l.length?l[0]:null,ie=0<h.length?h[0]:null;for(;null!==Q||null!==ie;){const xe=x<l.length?l[x+1]:void 0,We=H<h.length?h[H+1]:void 0;let Vt,_t=null;Q===ie?(x+=2,H+=2,xe!==We&&(_t=ie,Vt=We)):null===ie||null!==Q&&Q<ie?(x+=2,_t=Q):(H+=2,_t=ie,Vt=We),null!==_t&&Z_(n,r,s,a,_t,Vt,w,b),Q=x<l.length?l[x]:null,ie=H<h.length?h[H]:null}}(l,b,w,w[11],w[h+1],w[h+1]=function q_(n,r,s){if(null==s||""===s)return wn;const a=[],l=ba(s);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(a,h,l[h]);else"string"==typeof l&&r(a,l);return a}(n,r,s),a,h)}}(Zl,fy,n,!1)}function fy(n,r){for(let s=function H_(n){return function Eg(n){uo.key=0,uo.keyEnd=0,uo.value=0,uo.valueEnd=0,uo.textEnd=n.length}(n),vg(n,ql(n,0,uo.textEnd))}(r);s>=0;s=vg(r,s))Zl(n,ly(r),j_(r))}function py(n,r){return r>=n.expandoStartIndex}function gy(n,r,s,a){const l=n.data;if(null===l[s+1]){const h=l[Ee()],w=py(n,s);qu(h,a)&&null===r&&!w&&(r=!1),r=function z_(n,r,s,a){const l=function To(n){const r=vn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Uc(s=Ig(null,n,r,s,a),r.attrs,a),h=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==l)if(s=Ig(l,n,r,s,a),null===h){let x=function my(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Aa(a))return n[Ua(a)]}(n,r,a);void 0!==x&&Array.isArray(x)&&(x=Ig(null,n,r,x[1],a),x=Uc(x,r.attrs,a),function yy(n,r,s,a){n[Ua(s?r.classBindings:r.styleBindings)]=a}(n,r,a,x))}else h=function W_(n,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=Uc(a,n[h].hostAttrs,s);return Uc(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function V_(n,r,s,a,l,h){let w=h?r.classBindings:r.styleBindings,b=Ua(w),x=Aa(w);n[a]=s;let Q,H=!1;if(Array.isArray(s)){const ie=s;Q=ie[1],(null===Q||I(ie,Q)>0)&&(H=!0)}else Q=s;if(l)if(0!==x){const xe=Ua(n[b+1]);n[a+1]=Yh(xe,b),0!==xe&&(n[xe+1]=Td(n[xe+1],a)),n[b+1]=function Sp(n,r){return 131071&n|r<<17}(n[b+1],a)}else n[a+1]=Yh(b,0),0!==b&&(n[b+1]=Td(n[b+1],a)),b=a;else n[a+1]=Yh(x,0),0===b?b=a:n[x+1]=Td(n[x+1],a),x=a;H&&(n[a+1]=Jh(n[a+1])),uy(n,Q,a,!0),uy(n,Q,a,!1),function ay(n,r,s,a,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&I(h,r)>=0&&(s[a+1]=Ap(s[a+1]))}(r,Q,n,a,h),w=Yh(b,x),h?r.classBindings=w:r.styleBindings=w}(l,h,r,s,w,a)}}function Ig(n,r,s,a,l){let h=null;const w=s.directiveEnd;let b=s.directiveStylingLast;for(-1===b?b=s.directiveStart:b++;b<w&&(h=r[b],a=Uc(a,h.hostAttrs,l),h!==n);)b++;return null!==n&&(s.directiveStylingLast=b),a}function Uc(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const w=r[h];"number"==typeof w?l=w:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yi(n,w,!!s||r[++h]))}return void 0===n?null:n}function Zl(n,r,s){yi(n,r,ba(s))}function Z_(n,r,s,a,l,h,w,b){if(!(3&r.type))return;const x=n.data,H=x[b+1];Sf(function Cm(n){return 1==(1&n)}(H)?K_(x,r,s,l,Aa(H),w):void 0)||(Sf(h)||function bd(n){return 2==(2&n)}(H)&&(h=K_(x,null,s,l,b,w)),function gp(n,r,s,a,l){if(r)l?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:Iu.DashCase;null==l?n.removeStyle(s,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Iu.Important),n.setStyle(s,a,l,h))}}(a,w,Vr(Ee(),s),l,h))}function K_(n,r,s,a,l,h){const w=null===r;let b;for(;l>0;){const x=n[l],H=Array.isArray(x),Q=H?x[1]:x,ie=null===Q;let xe=s[l+1];xe===gr&&(xe=ie?wn:void 0);let We=ie?Dr(xe,a):Q===a?xe:void 0;if(H&&!Sf(We)&&(We=Dr(x,a)),Sf(We)&&(b=We,w))return b;const _t=n[l+1];l=w?Ua(_t):Aa(_t)}if(null!==r){let x=h?r.residualClasses:r.residualStyles;null!=x&&(b=Dr(x,a))}return b}function Sf(n){return void 0!==n}function qu(n,r){return 0!=(n.flags&(r?16:32))}function vy(n,r=""){const s=vt(),a=Ln(),l=n+22,h=a.firstCreatePass?bc(a,l,1,r,null):a.data[l],w=s[l]=function yc(n,r){return n.createText(r)}(s[11],r);Qs(a,s,w,h),Ki(h,!1)}function Dg(n){return Af("",n,""),Dg}function Af(n,r,s){const a=vt(),l=Rc(a,n,r,s);return l!==gr&&function Cs(n,r,s){const a=Vr(r,n);!function op(n,r,s){n.setValue(r,s)}(n[11],a,s)}(a,Ee(),l),Af}function Xd(n,r,s){Au(Rc(vt(),n,r,s))}const Yl=void 0;var nv=["en",[["a","p"],["AM","PM"],Yl],[["AM","PM"],Yl,Yl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yl,"{1} 'at' {0}",Yl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yl(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let jc={};function Rf(n){const r=function Ag(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=eh(r);if(s)return s;const a=r.split("-")[0];if(s=eh(a),s)return s;if("en"===a)return nv;throw new Xe(701,!1)}function Nf(n){return Rf(n)[zn.PluralCase]}function eh(n){return n in jc||(jc[n]=nr.ng&&nr.ng.common&&nr.ng.common.locales&&nr.ng.common.locales[n]),jc[n]}var zn=(()=>((zn=zn||{})[zn.LocaleId=0]="LocaleId",zn[zn.DayPeriodsFormat=1]="DayPeriodsFormat",zn[zn.DayPeriodsStandalone=2]="DayPeriodsStandalone",zn[zn.DaysFormat=3]="DaysFormat",zn[zn.DaysStandalone=4]="DaysStandalone",zn[zn.MonthsFormat=5]="MonthsFormat",zn[zn.MonthsStandalone=6]="MonthsStandalone",zn[zn.Eras=7]="Eras",zn[zn.FirstDayOfWeek=8]="FirstDayOfWeek",zn[zn.WeekendRange=9]="WeekendRange",zn[zn.DateFormat=10]="DateFormat",zn[zn.TimeFormat=11]="TimeFormat",zn[zn.DateTimeFormat=12]="DateTimeFormat",zn[zn.NumberSymbols=13]="NumberSymbols",zn[zn.NumberFormats=14]="NumberFormats",zn[zn.CurrencyCode=15]="CurrencyCode",zn[zn.CurrencySymbol=16]="CurrencySymbol",zn[zn.CurrencyName=17]="CurrencyName",zn[zn.Currencies=18]="Currencies",zn[zn.Directionality=19]="Directionality",zn[zn.PluralCase=20]="PluralCase",zn[zn.ExtraData=21]="ExtraData",zn))();const Jl="en-US";let Ly=Jl;function av(n,r,s,a,l){if(n=be(n),Array.isArray(n))for(let h=0;h<n.length;h++)av(n[h],r,s,a,l);else{const h=Ln(),w=vt();let b=au(n)?n:be(n.provide),x=Ml(n);const H=Yr(),Q=1048575&H.providerIndexes,ie=H.directiveStart,xe=H.providerIndexes>>20;if(au(n)||!n.multi){const We=new Ks(x,l,ol),_t=lv(b,r,l?Q:Q+xe,ie);-1===_t?(et(nn(H,w),h,b),uv(h,n,r.length),r.push(b),H.directiveStart++,H.directiveEnd++,l&&(H.providerIndexes+=1048576),s.push(We),w.push(We)):(s[_t]=We,w[_t]=We)}else{const We=lv(b,r,Q+xe,ie),_t=lv(b,r,Q,Q+xe),Vt=We>=0&&s[We],rn=_t>=0&&s[_t];if(l&&!rn||!l&&!Vt){et(nn(H,w),h,b);const Tn=function Nw(n,r,s,a,l){const h=new Ks(n,s,ol);return h.multi=[],h.index=r,h.componentProviders=0,D0(h,l,a&&!s),h}(l?Rw:xw,s.length,l,a,x);!l&&rn&&(s[_t].providerFactory=Tn),uv(h,n,r.length,0),r.push(b),H.directiveStart++,H.directiveEnd++,l&&(H.providerIndexes+=1048576),s.push(Tn),w.push(Tn)}else uv(h,n,We>-1?We:_t,D0(s[l?_t:We],x,!l&&a));!l&&a&&rn&&s[_t].componentProviders++}}}function uv(n,r,s,a){const l=au(r),h=function yh(n){return!!n.useClass}(r);if(l||h){const x=(h?be(r.useClass):r).prototype.ngOnDestroy;if(x){const H=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const Q=H.indexOf(s);-1===Q?H.push(s,[a,x]):H[Q+1].push(a,x)}else H.push(s,x)}}}function D0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function lv(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function xw(n,r,s,a){return cv(this.multi,[])}function Rw(n,r,s,a){const l=this.multi;let h;if(this.providerFactory){const w=this.providerFactory.componentProviders,b=ta(s,s[1],this.providerFactory.index,a);h=b.slice(0,w),cv(l,h);for(let x=w;x<b.length;x++)h.push(b[x])}else h=[],cv(l,h);return h}function cv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function b0(n,r=[]){return s=>{s.providersResolver=(a,l)=>function Mw(n,r,s){const a=Ln();if(a.firstCreatePass){const l=Pr(n);av(s,a.data,a.blueprint,l,!0),av(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class Pf{}class T0{}function Ow(n,r){return new S0(n,r??null)}class S0 extends Pf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pf(this);const a=lr(r);this._bootstrapComponents=ju(a.bootstrap),this._r3Injector=zh(r,s,[{provide:Pf,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],we(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class dv extends T0{constructor(r){super(),this.moduleType=r}create(r){return new S0(this.moduleType,r)}}class Pw extends Pf{constructor(r,s,a){super(),this.componentFactoryResolver=new pf(this),this.instance=null;const l=new Lu([...r,{provide:Pf,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],s||lc(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function hv(n,r,s=null){return new Pw(n,r,s).injector}let kw=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=oc(0,s.type),l=a.length>0?hv([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Dt({token:n,providedIn:"environment",factory:()=>new n(_i(sa))}),n})();function A0(n){n.getStandaloneInjector=r=>r.get(kw).getOrCreateStandaloneInjector(n)}function k0(n,r,s){const a=R()+n,l=vt();return l[a]===gr?bu(l,a,s?r.call(s):r()):function Mc(n,r){return n[r]}(l,a)}function F0(n,r,s,a){return function L0(n,r,s,a,l,h){const w=r+s;return aa(n,w,l)?bu(n,w+1,h?a.call(h,l):a(l)):function Ng(n,r){const s=n[r];return s===gr?void 0:s}(n,w+1)}(vt(),R(),n,r,s,a)}function pv(n){return r=>{setTimeout(n,void 0,r)}}const _l=class sI extends g.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,h=s||(()=>null),w=a;if(r&&"object"==typeof r){const x=r;l=x.next?.bind(x),h=x.error?.bind(x),w=x.complete?.bind(x)}this.__isAsync&&(h=pv(h),l&&(l=pv(l)),w&&(w=pv(w)));const b=super.subscribe({next:l,error:h,complete:w});return r instanceof p.w0&&r.add(b),b}};function oI(){return this._results[dl()]()}class gv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=dl(),a=gv.prototype;a[s]||(a[s]=oI)}get changes(){return this._changes||(this._changes=new _l)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=an(r);(this._changesDetected=!function Vn(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Pg=(()=>{class n{}return n.__NG_ELEMENT_ID__=lI,n})();const aI=Pg,uI=class extends aI{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=Dc(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(l[19]=w.createEmbeddedView(a)),Rd(a,l,r),new Vd(l)}};function lI(){return jy(Yr(),vt())}function jy(n,r){return 4&n.type?new uI(r,n,E(n,r)):null}let Hy=(()=>{class n{}return n.__NG_ELEMENT_ID__=cI,n})();function cI(){return G0(Yr(),vt())}const dI=Hy,H0=class extends dI{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return E(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){const r=Bt(this._hostTNode,this._hostLView);if(Ia(r)){const s=mi(r,this._hostLView),a=Oi(r);return new Bo(s[1].data[a+8],s)}return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=$0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const w=r.createEmbeddedView(s||{},h);return this.insert(w,l),w}createComponent(r,s,a,l,h){const w=r&&!function Qt(n){return"function"==typeof n}(r);let b;if(w)b=s;else{const ie=s||{};b=ie.index,a=ie.injector,l=ie.projectableNodes,h=ie.environmentInjector||ie.ngModuleRef}const x=w?r:new Bd(ke(r)),H=a||this.parentInjector;if(!h&&null==x.ngModule){const xe=(w?H:this.parentInjector).get(sa,null);xe&&(h=xe)}const Q=x.create(H,l,void 0,h);return this.insert(Q.hostView,b),Q}insert(r,s){const a=r._lView,l=a[1];if(function ca(n){return Ei(n[3])}(a)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const ie=a[3],xe=new H0(ie,ie[6],ie[3]);xe.detach(xe.indexOf(r))}}const h=this._adjustIndex(s),w=this._lContainer;!function Kg(n,r,s,a){const l=10+a,h=s.length;a>0&&(s[l-1][4]=r),a<h-10?(r[4]=s[l],kr(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const w=r[17];null!==w&&s!==w&&function il(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(w,r);const b=r[19];null!==b&&b.insertView(n),r[2]|=64}(l,a,w,h);const b=pp(h,w),x=a[11],H=yd(x,w[7]);return null!==H&&function Ol(n,r,s,a,l,h){a[0]=l,a[6]=r,_d(n,a,s,1,l,h)}(l,w[6],x,a,H,b),r.attachToViewContainerRef(),kr(mv(w),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=$0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=up(this._lContainer,s);a&&(pr(mv(this._lContainer),s),Qg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=up(this._lContainer,s);return a&&null!=pr(mv(this._lContainer),s)?new Vd(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function $0(n){return n[8]}function mv(n){return n[8]||(n[8]=[])}function G0(n,r){let s;const a=r[n.index];if(Ei(a))s=a;else{let l;if(8&n.type)l=dr(a);else{const h=r[11];l=h.createComment("");const w=Rr(n,r);sl(h,yd(h,w),l,function Xg(n,r){return n.nextSibling(r)}(h,w),!1)}r[n.index]=s=df(a,r,l,n),Fd(r,s)}return new H0(s,n,r)}class yv{constructor(r){this.queryList=r,this.matches=null}clone(){return new yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class _v{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const w=s.getByIndex(h);l.push(this.queries[w.indexInDeclarationView].clone())}return new _v(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==J0(r,s).matches&&this.queries[s].setDirty()}}class z0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class vv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new vv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ev{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Ev(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,pI(s,h)),this.matchTNodeWithReadOption(r,s,Vo(s,r,h,!1,!1))}else a===Pg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Vo(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===c||l===Hy||l===Pg&&4&s.type)this.addMatch(s.index,-2);else{const h=Vo(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function pI(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function mI(n,r,s,a){return-1===s?function gI(n,r){return 11&n.type?E(n,r):4&n.type?jy(n,r):null}(r,n):-2===s?function yI(n,r,s){return s===c?E(r,n):s===Pg?jy(r,n):s===Hy?G0(r,n):void 0}(n,r,a):ta(n,n[1],s,r)}function W0(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const h=n.data,w=s.matches,b=[];for(let x=0;x<w.length;x+=2){const H=w[x];b.push(H<0?null:mI(r,h[H],w[x+1],s.metadata.read))}l.matches=b}return l.matches}function wv(n,r,s,a){const l=n.queries.getByIndex(s),h=l.matches;if(null!==h){const w=W0(n,r,l,s);for(let b=0;b<h.length;b+=2){const x=h[b];if(x>0)a.push(w[b/2]);else{const H=h[b+1],Q=r[-x];for(let ie=10;ie<Q.length;ie++){const xe=Q[ie];xe[17]===xe[3]&&wv(xe[1],xe,H,a)}if(null!==Q[9]){const ie=Q[9];for(let xe=0;xe<ie.length;xe++){const We=ie[xe];wv(We[1],We,H,a)}}}}}return a}function q0(n){const r=vt(),s=Ln(),a=Ea();Qo(a+1);const l=J0(s,a);if(n.dirty&&function Ss(n){return 4==(4&n[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?wv(s,r,a,[]):W0(s,r,l,a);n.reset(h,f),n.notifyOnChanges()}return!0}return!1}function Z0(n,r,s,a){const l=Ln();if(l.firstCreatePass){const h=Yr();(function Y0(n,r,s){null===n.queries&&(n.queries=new vv),n.queries.track(new Ev(r,s))})(l,new z0(r,s,a),h.index),function EI(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}!function Q0(n,r,s){const a=new gv(4==(4&s));uf(n,r,a,a.destroy),null===r[19]&&(r[19]=new _v),r[19].queries.push(new yv(a))}(l,vt(),s)}function K0(){return function vI(n,r){return n[19].queries[r].queryList}(vt(),Ea())}function J0(n,r){return n.queries.getByIndex(r)}function X0(n,r){return jy(n,r)}function Gy(...n){}const _E=new zr("Application Initializer");let zy=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Gy,this.reject=Gy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(pg(h))s.push(h);else if(ny(h)){const w=new Promise((b,x)=>{h.subscribe({complete:b,error:x})});s.push(w)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(_i(_E,8))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vE=new zr("AppId",{providedIn:"root",factory:function EE(){return`${Tv()}${Tv()}${Tv()}`}});function Tv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wE=new zr("Platform Initializer"),BI=new zr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),IE=new zr("appBootstrapListener"),jI=new zr("AnimationModuleType");let HI=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Wy=new zr("LocaleId",{providedIn:"root",factory:()=>N(Wy,St.Optional|St.SkipSelf)||function $I(){return typeof $localize<"u"&&$localize.locale||Jl}()}),GI=new zr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let WI=(()=>{class n{compileModuleSync(s){return new dv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=ju(lr(s).declarations).reduce((w,b)=>{const x=ke(b);return x&&w.push(new Bd(x)),w},[]);return new zI(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KI=(()=>Promise.resolve(0))();function Sv(n){typeof Zone>"u"?KI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Mu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _l(!1),this.onMicrotaskEmpty=new _l(!1),this.onStable=new _l(!1),this.onError=new _l(!1),typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function QI(){let n=nr.requestAnimationFrame,r=nr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function XI(n){const r=()=>{!function JI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(nr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Mv(n),n.isCheckStableRunning=!0,Av(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Mv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,w,b)=>{try{return bE(n),s.invokeTask(l,h,w,b)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),TE(n)}},onInvoke:(s,a,l,h,w,b,x)=>{try{return bE(n),s.invoke(l,h,w,b,x)}finally{n.shouldCoalesceRunChangeDetection&&r(),TE(n)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,Mv(n),Av(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mu.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(Mu.isInAngularZone())throw new Xe(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,w=h.scheduleEventTask("NgZoneEvent: "+l,r,YI,Gy,Gy);try{return h.runTask(w,s,a)}finally{h.cancelTask(w)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const YI={};function Av(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Mv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TE(n){n._nesting--,Av(n)}class eC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _l,this.onMicrotaskEmpty=new _l,this.onStable=new _l,this.onError=new _l}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const SE=new zr(""),AE=new zr("");let xv,tC=(()=>{class n{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xv||(function nC(n){xv=n}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mu.assertNotInAngularZone(),Sv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(_i(Mu),_i(ME),_i(AE))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac}),n})(),ME=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return xv?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),$c=null;const xE=new zr("AllowMultipleToken"),Rv=new zr("PlatformDestroyListeners");class sC{constructor(r,s){this.name=r,this.token=s}}function NE(n,r,s=[]){const a=`Platform: ${r}`,l=new zr(a);return(h=[])=>{let w=Nv();if(!w||w.injector.get(xE,!1)){const b=[...s,...h,{provide:l,useValue:!0}];n?n(b):function oC(n){if($c&&!$c.get(xE,!1))throw new Xe(400,!1);$c=n;const r=n.get(PE);(function RE(n){const r=n.get(wE,null);r&&r.forEach(s=>s())})(n)}(function OE(n=[],r){return Gu.create({name:r,providers:[{provide:Al,useValue:"platform"},{provide:Rv,useValue:new Set([()=>$c=null])},...n]})}(b,a))}return function uC(n){const r=Nv();if(!r)throw new Xe(401,!1);return r}()}}function Nv(){return $c?.get(PE)??null}let PE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function FE(n,r){let s;return s="noop"===n?new eC:("zone.js"===n?void 0:n)||new Mu(r),s}(a?.ngZone,function kE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:Mu,useValue:l}];return l.run(()=>{const w=Gu.create({providers:h,parent:this.injector,name:s.moduleType.name}),b=s.create(w),x=b.injector.get(dd,null);if(!x)throw new Xe(402,!1);return l.runOutsideAngular(()=>{const H=l.onError.subscribe({next:Q=>{x.handleError(Q)}});b.onDestroy(()=>{Zy(this._modules,b),H.unsubscribe()})}),function LE(n,r,s){try{const a=s();return pg(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(x,l,()=>{const H=b.injector.get(zy);return H.runInitializers(),H.donePromise.then(()=>(function Mg(n){ze(n,"Expected localeId to be defined"),"string"==typeof n&&(Ly=n.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Wy,Jl)||Jl),this._moduleDoBootstrap(b),b))})})}bootstrapModule(s,a=[]){const l=UE({},a);return function rC(n,r,s){const a=new dv(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(qy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Xe(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Rv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(_i(Gu))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function UE(n,r){return Array.isArray(r)?r.reduce(UE,n):{...n,...r}}let qy=(()=>{class n{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new j.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),w=new j.y(b=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Mu.assertNotInAngularZone(),Sv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{Mu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{x.unsubscribe(),H.unsubscribe()}});this.isStable=(0,ce.T)(h,w.pipe((0,pe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof dc;if(!this._injector.get(zy).done)throw!l&&kn(s),new Xe(405,false);let w;w=l?s:this._injector.get(Vu).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const b=function iC(n){return n.isBoundToModule}(w)?void 0:this._injector.get(Pf),H=w.create(Gu.NULL,[],a||w.selector,b),Q=H.location.nativeElement,ie=H.injector.get(SE,null);return ie?.registerApplication(Q),H.onDestroy(()=>{this.detachView(H.hostView),Zy(this.components,H),ie?.unregisterApplication(Q)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Xe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Zy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(IE,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Zy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Xe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(_i(Mu),_i(sa),_i(dd))},n.\u0275prov=Dt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let BE=!0,jE=!1;function cC(){return jE=!0,BE}function dC(){if(jE)throw new Error("Cannot enable prod mode after platform setup.");BE=!1}let hC=(()=>{class n{}return n.__NG_ELEMENT_ID__=fC,n})();function fC(n){return function pC(n,r,s){if(Ui(n)&&!s){const a=Yn(n.index,r);return new Vd(a,a)}return 47&n.type?new Vd(r[16],r):null}(Yr(),vt(),16==(16&n))}class zE{constructor(){}supports(r){return Bl(r)}create(r){return new EC(r)}}const vC=(n,r)=>r;class EC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const w=!a||s&&s.currentIndex<qE(a,l,h)?s:a,b=qE(w,l,h),x=w.currentIndex;if(w===a)l--,a=a._nextRemoved;else if(s=s._next,null==w.previousIndex)l++;else{h||(h=[]);const H=b-l,Q=x-l;if(H!=Q){for(let xe=0;xe<H;xe++){const We=xe<h.length?h[xe]:h[xe]=0,_t=We+xe;Q<=_t&&_t<H&&(h[xe]=We+1)}h[w.previousIndex]=Q-H}}b!==x&&r(w,b,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Bl(r))throw new Xe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,w,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let b=0;b<this.length;b++)h=r[b],w=this._trackByFn(b,h),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,h,w,b)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,w,b),a=!0),s=s._next}else l=0,function k_(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[dl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,b=>{w=this._trackByFn(l,b),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,b,w,l)),Object.is(s.item,b)||this._addIdentityChange(s,b)):(s=this._mismatch(s,b,w,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new wC(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new WE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new WE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class wC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class WE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new IC,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qE(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class ZE{constructor(){}supports(r){return r instanceof Map||ag(r)}create(){return new CC}}class CC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||ag(r)))throw new Xe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,w=l._next;return h&&(h._next=w),w&&(w._prev=h),l._next=null,l._prev=null,l}const a=new DC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class DC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function KE(){return new Lv([new zE])}let Lv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||KE()),deps:[[n,new Bn,new jt]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Xe(901,!1)}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:KE}),n})();function QE(){return new Uv([new ZE])}let Uv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||QE()),deps:[[n,new Bn,new jt]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Xe(901,!1)}}return n.\u0275prov=Dt({token:n,providedIn:"root",factory:QE}),n})();const SC=NE(null,"core",[]);let AC=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(_i(qy))},n.\u0275mod=_n({type:n}),n.\u0275inj=Ht({}),n})();function MC(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Ot,Be,L)=>{L.d(Be,{Fj:()=>_e,NI:()=>Ui,u:()=>as,cw:()=>oe,sg:()=>Vi,u5:()=>eo,JJ:()=>Pn,JL:()=>Hn,F:()=>Ur,On:()=>ft,wV:()=>xn,UX:()=>Io,kI:()=>ae,_Y:()=>xt});var g=L(4650),p=L(6895),j=L(8996),ce=L(9751),pe=L(4742),ue=L(8421),ye=L(7669),we=L(5403),Ne=L(3268),se=L(1810),be=L(4004);let gt=(()=>{class V{constructor(R,Y){this._renderer=R,this._elementRef=Y,this.onChange=rt=>{},this.onTouched=()=>{}}setProperty(R,Y){this._renderer.setProperty(this._elementRef.nativeElement,R,Y)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return V.\u0275fac=function(R){return new(R||V)(g.Y36(g.Qsj),g.Y36(g.SBq))},V.\u0275dir=g.lG2({type:V}),V})(),dt=(()=>{class V extends gt{}return V.\u0275fac=function(){let k;return function(Y){return(k||(k=g.n5z(V)))(Y||V)}}(),V.\u0275dir=g.lG2({type:V,features:[g.qOj]}),V})();const Xe=new g.OlP("NgValueAccessor"),Ye={provide:Xe,useExisting:(0,g.Gpc)(()=>_e),multi:!0},Gt=new g.OlP("CompositionEventMode");let _e=(()=>{class V extends gt{constructor(R,Y,rt){super(R,Y),this._compositionMode=rt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ft(){const V=(0,p.q)()?(0,p.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return V.\u0275fac=function(R){return new(R||V)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Gt,8))},V.\u0275dir=g.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,Y){1&R&&g.NdJ("input",function(en){return Y._handleInput(en.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(en){return Y._compositionEnd(en.target.value)})},features:[g._Bn([Ye]),g.qOj]}),V})();function it(V){return null==V||("string"==typeof V||Array.isArray(V))&&0===V.length}function yt(V){return null!=V&&"number"==typeof V.length}const at=new g.OlP("NgValidators"),me=new g.OlP("NgAsyncValidators"),Je=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(k){return function Ae(V){return k=>{if(it(k.value)||it(V))return null;const R=parseFloat(k.value);return!isNaN(R)&&R<V?{min:{min:V,actual:k.value}}:null}}(k)}static max(k){return function fe(V){return k=>{if(it(k.value)||it(V))return null;const R=parseFloat(k.value);return!isNaN(R)&&R>V?{max:{max:V,actual:k.value}}:null}}(k)}static required(k){return function Fe(V){return it(V.value)?{required:!0}:null}(k)}static requiredTrue(k){return function $e(V){return!0===V.value?null:{required:!0}}(k)}static email(k){return function Qe(V){return it(V.value)||Je.test(V.value)?null:{email:!0}}(k)}static minLength(k){return function Pe(V){return k=>it(k.value)||!yt(k.value)?null:k.value.length<V?{minlength:{requiredLength:V,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function qe(V){return k=>yt(k.value)&&k.value.length>V?{maxlength:{requiredLength:V,actualLength:k.value.length}}:null}(k)}static pattern(k){return function ze(V){if(!V)return Ve;let k,R;return"string"==typeof V?(R="","^"!==V.charAt(0)&&(R+="^"),R+=V,"$"!==V.charAt(V.length-1)&&(R+="$"),k=new RegExp(R)):(R=V.toString(),k=V),Y=>{if(it(Y.value))return null;const rt=Y.value;return k.test(rt)?null:{pattern:{requiredPattern:R,actualValue:rt}}}}(k)}static nullValidator(k){return null}static compose(k){return gn(k)}static composeAsync(k){return Kn(k)}}function Ve(V){return null}function Mt(V){return null!=V}function Tt(V){return(0,g.QGY)(V)?(0,j.D)(V):V}function Zt(V){let k={};return V.forEach(R=>{k=null!=R?{...k,...R}:k}),0===Object.keys(k).length?null:k}function Dt(V,k){return k.map(R=>R(V))}function Ht(V){return V.map(k=>function En(V){return!V.validate}(k)?k:R=>k.validate(R))}function gn(V){if(!V)return null;const k=V.filter(Mt);return 0==k.length?null:function(R){return Zt(Dt(R,k))}}function jn(V){return null!=V?gn(Ht(V)):null}function Kn(V){if(!V)return null;const k=V.filter(Mt);return 0==k.length?null:function(R){return function le(...V){const k=(0,ye.jO)(V),{args:R,keys:Y}=(0,pe.D)(V),rt=new ce.y(en=>{const{length:rr}=R;if(!rr)return void en.complete();const or=new Array(rr);let bi=rr,ls=rr;for(let Do=0;Do<rr;Do++){let bo=!1;(0,ue.Xf)(R[Do]).subscribe((0,we.x)(en,To=>{bo||(bo=!0,ls--),or[Do]=To},()=>bi--,void 0,()=>{(!bi||!bo)&&(ls||en.next(Y?(0,se.n)(Y,or):or),en.complete())}))}});return k?rt.pipe((0,Ne.Z)(k)):rt}(Dt(R,k).map(Tt)).pipe((0,be.U)(Zt))}}function er(V){return null!=V?Kn(Ht(V)):null}function un(V,k){return null===V?[k]:Array.isArray(V)?[...V,k]:[V,k]}function br(V){return V._rawValidators}function Wt(V){return V._rawAsyncValidators}function Tr(V){return V?Array.isArray(V)?V:[V]:[]}function Or(V,k){return Array.isArray(V)?V.includes(k):V===k}function mn(V,k){const R=Tr(k);return Tr(V).forEach(rt=>{Or(R,rt)||R.push(rt)}),R}function St(V,k){return Tr(k).filter(R=>!Or(V,R))}class hr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=jn(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=er(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,R){return!!this.control&&this.control.hasError(k,R)}getError(k,R){return this.control?this.control.getError(k,R):null}}class tr extends hr{get formDirective(){return null}get path(){return null}}class Sr extends hr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jr{constructor(k){this._cd=k}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pn=(()=>{class V extends Jr{constructor(R){super(R)}}return V.\u0275fac=function(R){return new(R||V)(g.Y36(Sr,2))},V.\u0275dir=g.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,Y){2&R&&g.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)},features:[g.qOj]}),V})(),Hn=(()=>{class V extends Jr{constructor(R){super(R)}}return V.\u0275fac=function(R){return new(R||V)(g.Y36(tr,10))},V.\u0275dir=g.lG2({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,Y){2&R&&g.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)("ng-submitted",Y.isSubmitted)},features:[g.qOj]}),V})();const _n="VALID",Ce="INVALID",he="PENDING",Se="DISABLED";function lt(V){return(kn(V)?V.validators:V)||null}function ke(V){return Array.isArray(V)?jn(V):V||null}function Pt(V,k){return(kn(k)?k.asyncValidators:V)||null}function sn(V){return Array.isArray(V)?er(V):V||null}function kn(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}class ge{constructor(k,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=k,this._rawAsyncValidators=R,this._composedValidatorFn=ke(this._rawValidators),this._composedAsyncValidatorFn=sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===_n}get invalid(){return this.status===Ce}get pending(){return this.status==he}get disabled(){return this.status===Se}get enabled(){return this.status!==Se}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._rawValidators=k,this._composedValidatorFn=ke(k)}setAsyncValidators(k){this._rawAsyncValidators=k,this._composedAsyncValidatorFn=sn(k)}addValidators(k){this.setValidators(mn(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(mn(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(St(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(St(k,this._rawAsyncValidators))}hasValidator(k){return Or(this._rawValidators,k)}hasAsyncValidator(k){return Or(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=he,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const R=this._parentMarkedDirty(k.onlySelf);this.status=Se,this.errors=null,this._forEachChild(Y=>{Y.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:R}),this._onDisabledChange.forEach(Y=>Y(!0))}enable(k={}){const R=this._parentMarkedDirty(k.onlySelf);this.status=_n,this._forEachChild(Y=>{Y.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:R}),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_n||this.status===he)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Se:_n}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=he,this._hasOwnPendingAsyncValidator=!0;const R=Tt(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,R={}){this.errors=k,this._updateControlsErrors(!1!==R.emitEvent)}get(k){let R=k;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((Y,rt)=>Y&&Y._find(rt),this)}getError(k,R){const Y=R?this.get(R):this;return Y&&Y.errors?Y.errors[k]:null}hasError(k,R){return!!this.getError(k,R)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Se:this.errors?Ce:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(he)?he:this._anyControlsHaveStatus(Ce)?Ce:_n}_anyControlsHaveStatus(k){return this._anyControls(R=>R.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){kn(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}}class oe extends ge{constructor(k,R,Y){super(lt(R),Pt(Y,R)),this.controls=k,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,R){return this.controls[k]?this.controls[k]:(this.controls[k]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(k,R,Y={}){this.registerControl(k,R),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(k,R={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(k,R,Y={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],R&&this.registerControl(k,R),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,R={}){(function qn(V,k,R){V._forEachChild((Y,rt)=>{if(void 0===R[rt])throw new g.vHH(1002,"")})})(this,0,k),Object.keys(k).forEach(Y=>{(function lr(V,k,R){const Y=V.controls;if(!(k?Object.keys(Y):Y).length)throw new g.vHH(1e3,"");if(!Y[R])throw new g.vHH(1001,"")})(this,!0,Y),this.controls[Y].setValue(k[Y],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(k,R={}){null!=k&&(Object.keys(k).forEach(Y=>{const rt=this.controls[Y];rt&&rt.patchValue(k[Y],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(k={},R={}){this._forEachChild((Y,rt)=>{Y.reset(k[rt],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(k,R,Y)=>(k[Y]=R.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(R,Y)=>!!Y._syncPendingControls()||R);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(R=>{const Y=this.controls[R];Y&&k(Y,R)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[R,Y]of Object.entries(this.controls))if(this.contains(R)&&k(Y))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,Y,rt)=>((Y.enabled||this.disabled)&&(R[rt]=Y.value),R))}_reduceChildren(k,R){let Y=k;return this._forEachChild((rt,en)=>{Y=R(Y,rt,en)}),Y}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}function Dn(V,k){return[...k.path,V]}function on(V,k){Mr(V,k),k.valueAccessor.writeValue(V.value),V.disabled&&k.valueAccessor.setDisabledState?.(!0),function ks(V,k){k.valueAccessor.registerOnChange(R=>{V._pendingValue=R,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&qr(V,k)})}(V,k),function Fs(V,k){const R=(Y,rt)=>{k.valueAccessor.writeValue(Y),rt&&k.viewToModelUpdate(Y)};V.registerOnChange(R),k._registerOnDestroy(()=>{V._unregisterOnChange(R)})}(V,k),function fs(V,k){k.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&qr(V,k),"submit"!==V.updateOn&&V.markAsTouched()})}(V,k),function bn(V,k){if(k.valueAccessor.setDisabledState){const R=Y=>{k.valueAccessor.setDisabledState(Y)};V.registerOnDisabledChange(R),k._registerOnDestroy(()=>{V._unregisterOnDisabledChange(R)})}}(V,k)}function Fn(V,k,R=!0){const Y=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(Y),k.valueAccessor.registerOnTouched(Y)),di(V,k),V&&(k._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function pi(V,k){V.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(k)})}function Mr(V,k){const R=br(V);null!==k.validator?V.setValidators(un(R,k.validator)):"function"==typeof R&&V.setValidators([R]);const Y=Wt(V);null!==k.asyncValidator?V.setAsyncValidators(un(Y,k.asyncValidator)):"function"==typeof Y&&V.setAsyncValidators([Y]);const rt=()=>V.updateValueAndValidity();pi(k._rawValidators,rt),pi(k._rawAsyncValidators,rt)}function di(V,k){let R=!1;if(null!==V){if(null!==k.validator){const rt=br(V);if(Array.isArray(rt)&&rt.length>0){const en=rt.filter(rr=>rr!==k.validator);en.length!==rt.length&&(R=!0,V.setValidators(en))}}if(null!==k.asyncValidator){const rt=Wt(V);if(Array.isArray(rt)&&rt.length>0){const en=rt.filter(rr=>rr!==k.asyncValidator);en.length!==rt.length&&(R=!0,V.setAsyncValidators(en))}}}const Y=()=>{};return pi(k._rawValidators,Y),pi(k._rawAsyncValidators,Y),R}function qr(V,k){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function ns(V,k){Mr(V,k)}function Ds(V,k){if(!V.hasOwnProperty("model"))return!1;const R=V.model;return!!R.isFirstChange()||!Object.is(k,R.currentValue)}function Ls(V,k){V._syncPendingControls(),k.forEach(R=>{const Y=R.control;"submit"===Y.updateOn&&Y._pendingChange&&(R.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}function rs(V,k){if(!k)return null;let R,Y,rt;return Array.isArray(k),k.forEach(en=>{en.constructor===_e?R=en:function Mi(V){return Object.getPrototypeOf(V.constructor)===dt}(en)?Y=en:rt=en}),rt||Y||R||null}const Hr={provide:tr,useExisting:(0,g.Gpc)(()=>Ur)},is=(()=>Promise.resolve())();let Ur=(()=>{class V extends tr{constructor(R,Y){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new oe({},jn(R),er(Y))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){is.then(()=>{const Y=this._findContainer(R.path);R.control=Y.registerControl(R.name,R.control),on(R.control,R),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){is.then(()=>{const Y=this._findContainer(R.path);Y&&Y.removeControl(R.name),this._directives.delete(R)})}addFormGroup(R){is.then(()=>{const Y=this._findContainer(R.path),rt=new oe({});ns(rt,R),Y.registerControl(R.name,rt),rt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){is.then(()=>{const Y=this._findContainer(R.path);Y&&Y.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,Y){is.then(()=>{this.form.get(R.path).setValue(Y)})}setValue(R){this.control.setValue(R)}onSubmit(R){return this.submitted=!0,Ls(this.form,this._directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}}return V.\u0275fac=function(R){return new(R||V)(g.Y36(at,10),g.Y36(me,10))},V.\u0275dir=g.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(R,Y){1&R&&g.NdJ("submit",function(en){return Y.onSubmit(en)})("reset",function(){return Y.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Hr]),g.qOj]}),V})();function Ei(V,k){const R=V.indexOf(k);R>-1&&V.splice(R,1)}function lo(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}const Ui=class extends ge{constructor(k=null,R,Y){super(lt(R),Pt(Y,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kn(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=lo(k)?k.value:k)}setValue(k,R={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(k,R={}){this.setValue(k,R)}reset(k=this.defaultValue,R={}){this._applyFormState(k),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){Ei(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){Ei(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){lo(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}},Re={provide:Sr,useExisting:(0,g.Gpc)(()=>ft)},He=(()=>Promise.resolve())();let ft=(()=>{class V extends Sr{constructor(R,Y,rt,en,rr){super(),this._changeDetectorRef=rr,this.control=new Ui,this._registered=!1,this.update=new g.vpe,this._parent=R,this._setValidators(Y),this._setAsyncValidators(rt),this.valueAccessor=rs(0,en)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const Y=R.name.previousValue;this.formDirective.removeControl({name:Y,path:this._getPath(Y)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),Ds(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){on(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){He.then(()=>{this.control.setValue(R,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(R){const Y=R.isDisabled.currentValue,rt=0!==Y&&(0,g.D6c)(Y);He.then(()=>{rt&&!this.control.disabled?this.control.disable():!rt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(R){return this._parent?Dn(R,this._parent):[R]}}return V.\u0275fac=function(R){return new(R||V)(g.Y36(tr,9),g.Y36(at,10),g.Y36(me,10),g.Y36(Xe,10),g.Y36(g.sBO,8))},V.\u0275dir=g.lG2({type:V,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Re]),g.qOj,g.TTD]}),V})(),xt=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275dir=g.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})();const Yt={provide:Xe,useExisting:(0,g.Gpc)(()=>xn),multi:!0};let xn=(()=>{class V extends dt{writeValue(R){this.setProperty("value",R??"")}registerOnChange(R){this.onChange=Y=>{R(""==Y?null:parseFloat(Y))}}}return V.\u0275fac=function(){let k;return function(Y){return(k||(k=g.n5z(V)))(Y||V)}}(),V.\u0275dir=g.lG2({type:V,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(R,Y){1&R&&g.NdJ("input",function(en){return Y.onChange(en.target.value)})("blur",function(){return Y.onTouched()})},features:[g._Bn([Yt]),g.qOj]}),V})(),ss=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=g.oAB({type:V}),V.\u0275inj=g.cJS({}),V})();const gs=new g.OlP("NgModelWithFormControlWarning"),qi={provide:tr,useExisting:(0,g.Gpc)(()=>Vi)};let Vi=(()=>{class V extends tr{constructor(R,Y){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(R),this._setAsyncValidators(Y)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(di(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const Y=this.form.get(R.path);return on(Y,R),Y.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),Y}getControl(R){return this.form.get(R.path)}removeControl(R){Fn(R.control||null,R,!1),function xi(V,k){const R=V.indexOf(k);R>-1&&V.splice(R,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,Y){this.form.get(R.path).setValue(Y)}onSubmit(R){return this.submitted=!0,Ls(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const Y=R.control,rt=this.form.get(R.path);Y!==rt&&(Fn(Y||null,R),(V=>V instanceof Ui)(rt)&&(on(rt,R),R.control=rt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const Y=this.form.get(R.path);ns(Y,R),Y.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const Y=this.form.get(R.path);Y&&function ii(V,k){return di(V,k)}(Y,R)&&Y.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mr(this.form,this),this._oldForm&&di(this._oldForm,this)}_checkFormPresent(){}}return V.\u0275fac=function(R){return new(R||V)(g.Y36(at,10),g.Y36(me,10))},V.\u0275dir=g.lG2({type:V,selectors:[["","formGroup",""]],hostBindings:function(R,Y){1&R&&g.NdJ("submit",function(en){return Y.onSubmit(en)})("reset",function(){return Y.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([qi]),g.qOj,g.TTD]}),V})();const Po={provide:Sr,useExisting:(0,g.Gpc)(()=>as)};let as=(()=>{class V extends Sr{constructor(R,Y,rt,en,rr){super(),this._ngModelWarningConfig=rr,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(Y),this._setAsyncValidators(rt),this.valueAccessor=rs(0,en)}set isDisabled(R){}ngOnChanges(R){this._added||this._setUpControl(),Ds(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return Dn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return V._ngModelWarningSentOnce=!1,V.\u0275fac=function(R){return new(R||V)(g.Y36(tr,13),g.Y36(at,10),g.Y36(me,10),g.Y36(Xe,10),g.Y36(gs,8))},V.\u0275dir=g.lG2({type:V,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([Po]),g.qOj,g.TTD]}),V})(),Ln=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=g.oAB({type:V}),V.\u0275inj=g.cJS({imports:[ss]}),V})(),eo=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=g.oAB({type:V}),V.\u0275inj=g.cJS({imports:[Ln]}),V})(),Io=(()=>{class V{static withConfig(R){return{ngModule:V,providers:[{provide:gs,useValue:R.warnOnNgModelWithFormControl}]}}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=g.oAB({type:V}),V.\u0275inj=g.cJS({imports:[Ln]}),V})()},1481:(Ot,Be,L)=>{L.d(Be,{Dx:()=>Pn,H7:()=>sn,b2:()=>tr,q6:()=>Or,se:()=>Fe});var g=L(6895),p=L(4650);class j extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends j{static makeCurrent(){(0,g.HT)(new ce)}onAndCancel(oe,re,Le){return oe.addEventListener(re,Le,!1),()=>{oe.removeEventListener(re,Le,!1)}}dispatchEvent(oe,re){oe.dispatchEvent(re)}remove(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}createElement(oe,re){return(re=re||this.getDefaultDocument()).createElement(oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(oe){return oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(oe){return oe instanceof DocumentFragment}getGlobalEventTarget(oe,re){return"window"===re?window:"document"===re?oe:"body"===re?oe.body:null}getBaseHref(oe){const re=function ue(){return pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null}();return null==re?null:function we(ge){ye=ye||document.createElement("a"),ye.setAttribute("href",ge);const oe=ye.pathname;return"/"===oe.charAt(0)?oe:`/${oe}`}(re)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(oe){return(0,g.Mx)(document.cookie,oe)}}let ye,pe=null;const Ne=new p.OlP("TRANSITION_ID"),le=[{provide:p.ip1,useFactory:function se(ge,oe,re){return()=>{re.get(p.CZH).donePromise.then(()=>{const Le=(0,g.q)(),ht=oe.querySelectorAll(`style[ng-transition="${ge}"]`);for(let Kt=0;Kt<ht.length;Kt++)Le.remove(ht[Kt])})}},deps:[Ne,g.K0,p.zs3],multi:!0}];let gt=(()=>{class ge{build(){return new XMLHttpRequest}}return ge.\u0275fac=function(re){return new(re||ge)},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const dt=new p.OlP("EventManagerPlugins");let Xe=(()=>{class ge{constructor(re,Le){this._zone=Le,this._eventNameToPlugin=new Map,re.forEach(ht=>ht.manager=this),this._plugins=re.slice().reverse()}addEventListener(re,Le,ht){return this._findPluginFor(Le).addEventListener(re,Le,ht)}addGlobalEventListener(re,Le,ht){return this._findPluginFor(Le).addGlobalEventListener(re,Le,ht)}getZone(){return this._zone}_findPluginFor(re){const Le=this._eventNameToPlugin.get(re);if(Le)return Le;const ht=this._plugins;for(let Kt=0;Kt<ht.length;Kt++){const Dn=ht[Kt];if(Dn.supports(re))return this._eventNameToPlugin.set(re,Dn),Dn}throw new Error(`No event manager plugin found for event ${re}`)}}return ge.\u0275fac=function(re){return new(re||ge)(p.LFG(dt),p.LFG(p.R0b))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})();class Rt{constructor(oe){this._doc=oe}addGlobalEventListener(oe,re,Le){const ht=(0,g.q)().getGlobalEventTarget(this._doc,oe);if(!ht)throw new Error(`Unsupported event target ${ht} for event ${re}`);return this.addEventListener(ht,re,Le)}}let nt=(()=>{class ge{constructor(){this._stylesSet=new Set}addStyles(re){const Le=new Set;re.forEach(ht=>{this._stylesSet.has(ht)||(this._stylesSet.add(ht),Le.add(ht))}),this.onStylesAdded(Le)}onStylesAdded(re){}getAllStyles(){return Array.from(this._stylesSet)}}return ge.\u0275fac=function(re){return new(re||ge)},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})(),Ye=(()=>{class ge extends nt{constructor(re){super(),this._doc=re,this._hostNodes=new Map,this._hostNodes.set(re.head,[])}_addStylesToHost(re,Le,ht){re.forEach(Kt=>{const Dn=this._doc.createElement("style");Dn.textContent=Kt,ht.push(Le.appendChild(Dn))})}addHost(re){const Le=[];this._addStylesToHost(this._stylesSet,re,Le),this._hostNodes.set(re,Le)}removeHost(re){const Le=this._hostNodes.get(re);Le&&Le.forEach(Ft),this._hostNodes.delete(re)}onStylesAdded(re){this._hostNodes.forEach((Le,ht)=>{this._addStylesToHost(re,ht,Le)})}ngOnDestroy(){this._hostNodes.forEach(re=>re.forEach(Ft))}}return ge.\u0275fac=function(re){return new(re||ge)(p.LFG(g.K0))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function Ft(ge){(0,g.q)().remove(ge)}const Gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_e=/%COMP%/g;function ae(ge,oe,re){for(let Le=0;Le<oe.length;Le++){let ht=oe[Le];Array.isArray(ht)?ae(ge,ht,re):(ht=ht.replace(_e,ge),re.push(ht))}return re}function Ae(ge){return oe=>{if("__ngUnwrap__"===oe)return ge;!1===ge(oe)&&(oe.preventDefault(),oe.returnValue=!1)}}let Fe=(()=>{class ge{constructor(re,Le,ht){this.eventManager=re,this.sharedStylesHost=Le,this.appId=ht,this.rendererByCompId=new Map,this.defaultRenderer=new $e(re)}createRenderer(re,Le){if(!re||!Le)return this.defaultRenderer;switch(Le.encapsulation){case p.ifc.Emulated:{let ht=this.rendererByCompId.get(Le.id);return ht||(ht=new ze(this.eventManager,this.sharedStylesHost,Le,this.appId),this.rendererByCompId.set(Le.id,ht)),ht.applyToHost(re),ht}case 1:case p.ifc.ShadowDom:return new Ve(this.eventManager,this.sharedStylesHost,re,Le);default:if(!this.rendererByCompId.has(Le.id)){const ht=ae(Le.id,Le.styles,[]);this.sharedStylesHost.addStyles(ht),this.rendererByCompId.set(Le.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ge.\u0275fac=function(re){return new(re||ge)(p.LFG(Xe),p.LFG(Ye),p.LFG(p.AFp))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})();class $e{constructor(oe){this.eventManager=oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(oe,re){return re?document.createElementNS(Gt[re]||re,oe):document.createElement(oe)}createComment(oe){return document.createComment(oe)}createText(oe){return document.createTextNode(oe)}appendChild(oe,re){(qe(oe)?oe.content:oe).appendChild(re)}insertBefore(oe,re,Le){oe&&(qe(oe)?oe.content:oe).insertBefore(re,Le)}removeChild(oe,re){oe&&oe.removeChild(re)}selectRootElement(oe,re){let Le="string"==typeof oe?document.querySelector(oe):oe;if(!Le)throw new Error(`The selector "${oe}" did not match any elements`);return re||(Le.textContent=""),Le}parentNode(oe){return oe.parentNode}nextSibling(oe){return oe.nextSibling}setAttribute(oe,re,Le,ht){if(ht){re=ht+":"+re;const Kt=Gt[ht];Kt?oe.setAttributeNS(Kt,re,Le):oe.setAttribute(re,Le)}else oe.setAttribute(re,Le)}removeAttribute(oe,re,Le){if(Le){const ht=Gt[Le];ht?oe.removeAttributeNS(ht,re):oe.removeAttribute(`${Le}:${re}`)}else oe.removeAttribute(re)}addClass(oe,re){oe.classList.add(re)}removeClass(oe,re){oe.classList.remove(re)}setStyle(oe,re,Le,ht){ht&(p.JOm.DashCase|p.JOm.Important)?oe.style.setProperty(re,Le,ht&p.JOm.Important?"important":""):oe.style[re]=Le}removeStyle(oe,re,Le){Le&p.JOm.DashCase?oe.style.removeProperty(re):oe.style[re]=""}setProperty(oe,re,Le){oe[re]=Le}setValue(oe,re){oe.nodeValue=re}listen(oe,re,Le){return"string"==typeof oe?this.eventManager.addGlobalEventListener(oe,re,Ae(Le)):this.eventManager.addEventListener(oe,re,Ae(Le))}}function qe(ge){return"TEMPLATE"===ge.tagName&&void 0!==ge.content}class ze extends $e{constructor(oe,re,Le,ht){super(oe),this.component=Le;const Kt=ae(ht+"-"+Le.id,Le.styles,[]);re.addStyles(Kt),this.contentAttr=function me(ge){return"_ngcontent-%COMP%".replace(_e,ge)}(ht+"-"+Le.id),this.hostAttr=function Je(ge){return"_nghost-%COMP%".replace(_e,ge)}(ht+"-"+Le.id)}applyToHost(oe){super.setAttribute(oe,this.hostAttr,"")}createElement(oe,re){const Le=super.createElement(oe,re);return super.setAttribute(Le,this.contentAttr,""),Le}}class Ve extends $e{constructor(oe,re,Le,ht){super(oe),this.sharedStylesHost=re,this.hostEl=Le,this.shadowRoot=Le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kt=ae(ht.id,ht.styles,[]);for(let Dn=0;Dn<Kt.length;Dn++){const on=document.createElement("style");on.textContent=Kt[Dn],this.shadowRoot.appendChild(on)}}nodeOrShadowRoot(oe){return oe===this.hostEl?this.shadowRoot:oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(oe,re){return super.appendChild(this.nodeOrShadowRoot(oe),re)}insertBefore(oe,re,Le){return super.insertBefore(this.nodeOrShadowRoot(oe),re,Le)}removeChild(oe,re){return super.removeChild(this.nodeOrShadowRoot(oe),re)}parentNode(oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(oe)))}}let Mt=(()=>{class ge extends Rt{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Le,ht){return re.addEventListener(Le,ht,!1),()=>this.removeEventListener(re,Le,ht)}removeEventListener(re,Le,ht){return re.removeEventListener(Le,ht)}}return ge.\u0275fac=function(re){return new(re||ge)(p.LFG(g.K0))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Tt=["alt","control","meta","shift"],Zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dt={alt:ge=>ge.altKey,control:ge=>ge.ctrlKey,meta:ge=>ge.metaKey,shift:ge=>ge.shiftKey};let En=(()=>{class ge extends Rt{constructor(re){super(re)}supports(re){return null!=ge.parseEventName(re)}addEventListener(re,Le,ht){const Kt=ge.parseEventName(Le),Dn=ge.eventCallback(Kt.fullKey,ht,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(re,Kt.domEventName,Dn))}static parseEventName(re){const Le=re.toLowerCase().split("."),ht=Le.shift();if(0===Le.length||"keydown"!==ht&&"keyup"!==ht)return null;const Kt=ge._normalizeKey(Le.pop());let Dn="",on=Le.indexOf("code");if(on>-1&&(Le.splice(on,1),Dn="code."),Tt.forEach(pi=>{const bn=Le.indexOf(pi);bn>-1&&(Le.splice(bn,1),Dn+=pi+".")}),Dn+=Kt,0!=Le.length||0===Kt.length)return null;const Fn={};return Fn.domEventName=ht,Fn.fullKey=Dn,Fn}static matchEventFullKeyCode(re,Le){let ht=Zt[re.key]||re.key,Kt="";return Le.indexOf("code.")>-1&&(ht=re.code,Kt="code."),!(null==ht||!ht)&&(ht=ht.toLowerCase()," "===ht?ht="space":"."===ht&&(ht="dot"),Tt.forEach(Dn=>{Dn!==ht&&(0,Dt[Dn])(re)&&(Kt+=Dn+".")}),Kt+=ht,Kt===Le)}static eventCallback(re,Le,ht){return Kt=>{ge.matchEventFullKeyCode(Kt,re)&&ht.runGuarded(()=>Le(Kt))}}static _normalizeKey(re){return"esc"===re?"escape":re}}return ge.\u0275fac=function(re){return new(re||ge)(p.LFG(g.K0))},ge.\u0275prov=p.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const Or=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:g.bD},{provide:p.g9A,useValue:function un(){ce.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function Wt(){return(0,p.RDi)(document),document},deps:[]}]),mn=new p.OlP(""),St=[{provide:p.rWj,useClass:class be{addToWindow(oe){p.dqk.getAngularTestability=(Le,ht=!0)=>{const Kt=oe.findTestabilityInTree(Le,ht);if(null==Kt)throw new Error("Could not find testability for element.");return Kt},p.dqk.getAllAngularTestabilities=()=>oe.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>oe.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(Le=>{const ht=p.dqk.getAllAngularTestabilities();let Kt=ht.length,Dn=!1;const on=function(Fn){Dn=Dn||Fn,Kt--,0==Kt&&Le(Dn)};ht.forEach(function(Fn){Fn.whenStable(on)})})}findTestabilityInTree(oe,re,Le){return null==re?null:oe.getTestability(re)??(Le?(0,g.q)().isShadowRoot(re)?this.findTestabilityInTree(oe,re.host,!0):this.findTestabilityInTree(oe,re.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],hr=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function br(){return new p.qLn},deps:[]},{provide:dt,useClass:Mt,multi:!0,deps:[g.K0,p.R0b,p.Lbi]},{provide:dt,useClass:En,multi:!0,deps:[g.K0]},{provide:Fe,useClass:Fe,deps:[Xe,Ye,p.AFp]},{provide:p.FYo,useExisting:Fe},{provide:nt,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[g.K0]},{provide:Xe,useClass:Xe,deps:[dt,p.R0b]},{provide:g.JF,useClass:gt,deps:[]},[]];let tr=(()=>{class ge{constructor(re){}static withServerTransition(re){return{ngModule:ge,providers:[{provide:p.AFp,useValue:re.appId},{provide:Ne,useExisting:p.AFp},le]}}}return ge.\u0275fac=function(re){return new(re||ge)(p.LFG(mn,12))},ge.\u0275mod=p.oAB({type:ge}),ge.\u0275inj=p.cJS({providers:[...hr,...St],imports:[g.ez,p.hGG]}),ge})(),Pn=(()=>{class ge{constructor(re){this._doc=re}getTitle(){return this._doc.title}setTitle(re){this._doc.title=re||""}}return ge.\u0275fac=function(re){return new(re||ge)(p.LFG(g.K0))},ge.\u0275prov=p.Yz7({token:ge,factory:function(re){let Le=null;return Le=re?new re:function yr(){return new Pn((0,p.LFG)(g.K0))}(),Le},providedIn:"root"}),ge})();typeof window<"u"&&window;let sn=(()=>{class ge{}return ge.\u0275fac=function(re){return new(re||ge)},ge.\u0275prov=p.Yz7({token:ge,factory:function(re){let Le=null;return Le=re?new(re||ge):p.LFG(lr),Le},providedIn:"root"}),ge})(),lr=(()=>{class ge extends sn{constructor(re){super(),this._doc=re}sanitize(re,Le){if(null==Le)return null;switch(re){case p.q3G.NONE:return Le;case p.q3G.HTML:return(0,p.qzn)(Le,"HTML")?(0,p.z3N)(Le):(0,p.EiD)(this._doc,String(Le)).toString();case p.q3G.STYLE:return(0,p.qzn)(Le,"Style")?(0,p.z3N)(Le):Le;case p.q3G.SCRIPT:if((0,p.qzn)(Le,"Script"))return(0,p.z3N)(Le);throw new Error("unsafe value used in a script context");case p.q3G.URL:return(0,p.qzn)(Le,"URL")?(0,p.z3N)(Le):(0,p.mCW)(String(Le));case p.q3G.RESOURCE_URL:if((0,p.qzn)(Le,"ResourceURL"))return(0,p.z3N)(Le);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${re} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(re){return(0,p.JVY)(re)}bypassSecurityTrustStyle(re){return(0,p.L6k)(re)}bypassSecurityTrustScript(re){return(0,p.eBb)(re)}bypassSecurityTrustUrl(re){return(0,p.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,p.pB0)(re)}}return ge.\u0275fac=function(re){return new(re||ge)(p.LFG(g.K0))},ge.\u0275prov=p.Yz7({token:ge,factory:function(re){let Le=null;return Le=re?new re:function kn(ge){return new lr(ge.get(g.K0))}(p.LFG(p.zs3)),Le},providedIn:"root"}),ge})()},9051:(Ot,Be,L)=>{L.d(Be,{gz:()=>Ci,y6:()=>Rr,m2:()=>bs,OD:()=>ui,F0:()=>ln,yS:()=>Cn,Bz:()=>ei,lC:()=>Ts});var g=L(4650),p=L(8996),j=L(9646),ce=L(7579);class pe extends ce.x{constructor(C){super(),this._value=C}get value(){return this.getValue()}_subscribe(C){const v=super._subscribe(C);return!v.closed&&C.next(this._value),v}getValue(){const{hasError:C,thrownError:v,_value:S}=this;if(C)throw v;return this._throwIfClosed(),S}next(C){super.next(this._value=C)}}var ue=L(6805),ye=L(9751),we=L(4742),Ne=L(4671),se=L(3268),le=L(7669),be=L(1810),gt=L(5403),dt=L(9672);function Xe(...I){const C=(0,le.yG)(I),v=(0,le.jO)(I),{args:S,keys:F}=(0,we.D)(I);if(0===S.length)return(0,p.D)([],C);const G=new ye.y(function Rt(I,C,v=Ne.y){return S=>{nt(C,()=>{const{length:F}=I,G=new Array(F);let ee=F,ne=F;for(let je=0;je<F;je++)nt(C,()=>{const Et=(0,p.D)(I[je],C);let $t=!1;Et.subscribe((0,gt.x)(S,Nt=>{G[je]=Nt,$t||($t=!0,ne--),ne||S.next(v(G.slice()))},()=>{--ee||S.complete()}))},S)},S)}}(S,C,F?ee=>(0,be.n)(F,ee):Ne.y));return v?G.pipe((0,se.Z)(v)):G}function nt(I,C,v){I?(0,dt.f)(v,I,C):C()}var Ye=L(7272),Ft=L(8421);function Gt(I){return new ye.y(C=>{(0,Ft.Xf)(I()).subscribe(C)})}var _e=L(9635),st=L(576);function it(I,C){const v=(0,st.m)(I)?I:()=>I,S=F=>F.error(v());return new ye.y(C?F=>C.schedule(S,0,F):S)}var yt=L(515),at=L(727),me=L(4482);function Je(){return(0,me.e)((I,C)=>{let v=null;I._refCount++;const S=(0,gt.x)(C,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(v=null);const F=I._connection,G=v;v=null,F&&(!G||F===G)&&F.unsubscribe(),C.unsubscribe()});I.subscribe(S),S.closed||(v=I.connect())})}class ae extends ye.y{constructor(C,v){super(),this.source=C,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,me.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new at.w0;const v=this.getSubject();C.add(this.source.subscribe((0,gt.x)(v,void 0,()=>{this._teardown(),v.complete()},S=>{this._teardown(),v.error(S)},()=>this._teardown()))),C.closed&&(this._connection=null,C=at.w0.EMPTY)}return C}refCount(){return Je()(this)}}var Ae=L(6895),fe=L(4004),Fe=L(3900),$e=L(5698),Qe=L(8675),Pe=L(9300),qe=L(5577),ze=L(590);function Ve(I,C){return(0,st.m)(C)?(0,qe.z)(I,C,1):(0,qe.z)(I,1)}var Mt=L(8505);function Tt(I){return(0,me.e)((C,v)=>{let G,S=null,F=!1;S=C.subscribe((0,gt.x)(v,void 0,void 0,ee=>{G=(0,Ft.Xf)(I(ee,Tt(I)(C))),S?(S.unsubscribe(),S=null,G.subscribe(v)):F=!0})),F&&(S.unsubscribe(),S=null,G.subscribe(v))})}var Zt=L(5026);function Dt(I){return I<=0?()=>yt.E:(0,me.e)((C,v)=>{let S=[];C.subscribe((0,gt.x)(v,F=>{S.push(F),I<S.length&&S.shift()},()=>{for(const F of S)v.next(F);v.complete()},void 0,()=>{S=null}))})}var En=L(8068),Ht=L(6590);function gn(I,C){const v=arguments.length>=2;return S=>S.pipe(I?(0,Pe.h)((F,G)=>I(F,G,S)):Ne.y,Dt(1),v?(0,Ht.d)(C):(0,En.T)(()=>new ue.K))}function er(I){return(0,me.e)((C,v)=>{try{C.subscribe(v)}finally{v.add(I)}})}var un=L(8189),br=L(1481);const Wt="primary",Tr=Symbol("RouteTitle");class Or{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const v=this.params[C];return Array.isArray(v)?v[0]:v}return null}getAll(C){if(this.has(C)){const v=this.params[C];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function mn(I){return new Or(I)}function St(I,C,v){const S=v.path.split("/");if(S.length>I.length||"full"===v.pathMatch&&(C.hasChildren()||S.length<I.length))return null;const F={};for(let G=0;G<S.length;G++){const ee=S[G],ne=I[G];if(ee.startsWith(":"))F[ee.substring(1)]=ne;else if(ee!==ne.path)return null}return{consumed:I.slice(0,S.length),posParams:F}}function tr(I,C){const v=I?Object.keys(I):void 0,S=C?Object.keys(C):void 0;if(!v||!S||v.length!=S.length)return!1;let F;for(let G=0;G<v.length;G++)if(F=v[G],!Sr(I[F],C[F]))return!1;return!0}function Sr(I,C){if(Array.isArray(I)&&Array.isArray(C)){if(I.length!==C.length)return!1;const v=[...I].sort(),S=[...C].sort();return v.every((F,G)=>S[G]===F)}return I===C}function Jr(I){return Array.prototype.concat.apply([],I)}function ts(I){return I.length>0?I[I.length-1]:null}function Pn(I,C){for(const v in I)I.hasOwnProperty(v)&&C(I[v],v)}function Hn(I){return(0,g.CqO)(I)?I:(0,g.QGY)(I)?(0,p.D)(Promise.resolve(I)):(0,j.of)(I)}const nr={exact:function wn(I,C,v){if(!Lt(I.segments,C.segments)||!$n(I.segments,C.segments,v)||I.numberOfChildren!==C.numberOfChildren)return!1;for(const S in C.children)if(!I.children[S]||!wn(I.children[S],C.children[S],v))return!1;return!0},subset:Qn},wr={exact:function fi(I,C){return tr(I,C)},subset:function Li(I,C){return Object.keys(C).length<=Object.keys(I).length&&Object.keys(C).every(v=>Sr(I[v],C[v]))},ignored:()=>!0};function fr(I,C,v){return nr[v.paths](I.root,C.root,v.matrixParams)&&wr[v.queryParams](I.queryParams,C.queryParams)&&!("exact"===v.fragment&&I.fragment!==C.fragment)}function Qn(I,C,v){return zi(I,C,C.segments,v)}function zi(I,C,v,S){if(I.segments.length>v.length){const F=I.segments.slice(0,v.length);return!(!Lt(F,v)||C.hasChildren()||!$n(F,v,S))}if(I.segments.length===v.length){if(!Lt(I.segments,v)||!$n(I.segments,v,S))return!1;for(const F in C.children)if(!I.children[F]||!Qn(I.children[F],C.children[F],S))return!1;return!0}{const F=v.slice(0,I.segments.length),G=v.slice(I.segments.length);return!!(Lt(I.segments,F)&&$n(I.segments,F,S)&&I.children[Wt])&&zi(I.children[Wt],C,G,S)}}function $n(I,C,v){return C.every((S,F)=>wr[v](I[F].parameters,S.parameters))}class Ar{constructor(C,v,S){this.root=C,this.queryParams=v,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return Ce.serialize(this)}}class dn{constructor(C,v){this.segments=C,this.children=v,this.parent=null,Pn(v,(S,F)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return he(this)}}class zt{constructor(C,v){this.path=C,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=mn(this.parameters)),this._parameterMap}toString(){return qn(this)}}function Lt(I,C){return I.length===C.length&&I.every((v,S)=>v.path===C[S].path)}let pn=(()=>{class I{}return I.\u0275fac=function(v){return new(v||I)},I.\u0275prov=g.Yz7({token:I,factory:function(){return new _n},providedIn:"root"}),I})();class _n{parse(C){const v=new Fn(C);return new Ar(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(C){const v=`/${Se(C.root,!0)}`,S=function oe(I){const C=Object.keys(I).map(v=>{const S=I[v];return Array.isArray(S)?S.map(F=>`${ke(v)}=${ke(F)}`).join("&"):`${ke(v)}=${ke(S)}`}).filter(v=>!!v);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${v}${S}${"string"==typeof C.fragment?`#${function Pt(I){return encodeURI(I)}(C.fragment)}`:""}`}}const Ce=new _n;function he(I){return I.segments.map(C=>qn(C)).join("/")}function Se(I,C){if(!I.hasChildren())return he(I);if(C){const v=I.children[Wt]?Se(I.children[Wt],!1):"",S=[];return Pn(I.children,(F,G)=>{G!==Wt&&S.push(`${G}:${Se(F,!1)}`)}),S.length>0?`${v}(${S.join("//")})`:v}{const v=function yn(I,C){let v=[];return Pn(I.children,(S,F)=>{F===Wt&&(v=v.concat(C(S,F)))}),Pn(I.children,(S,F)=>{F!==Wt&&(v=v.concat(C(S,F)))}),v}(I,(S,F)=>F===Wt?[Se(I.children[Wt],!1)]:[`${F}:${Se(S,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Wt]?`${he(I)}/${v[0]}`:`${he(I)}/(${v.join("//")})`}}function lt(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ke(I){return lt(I).replace(/%3B/gi,";")}function sn(I){return lt(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kn(I){return decodeURIComponent(I)}function lr(I){return kn(I.replace(/\+/g,"%20"))}function qn(I){return`${sn(I.path)}${function ge(I){return Object.keys(I).map(C=>`;${sn(C)}=${sn(I[C])}`).join("")}(I.parameters)}`}const re=/^[^\/()?;=#]+/;function Le(I){const C=I.match(re);return C?C[0]:""}const ht=/^[^=?&#]+/,Dn=/^[^&#]+/;class Fn{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(C.length>0||Object.keys(v).length>0)&&(S[Wt]=new dn(C,v)),S}parseSegment(){const C=Le(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(C),new zt(kn(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const v=Le(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const F=Le(this.remaining);F&&(S=F,this.capture(S))}C[kn(v)]=kn(S)}parseQueryParam(C){const v=function Kt(I){const C=I.match(ht);return C?C[0]:""}(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const ee=function on(I){const C=I.match(Dn);return C?C[0]:""}(this.remaining);ee&&(S=ee,this.capture(S))}const F=lr(v),G=lr(S);if(C.hasOwnProperty(F)){let ee=C[F];Array.isArray(ee)||(ee=[ee],C[F]=ee),ee.push(G)}else C[F]=G}parseParens(C){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Le(this.remaining),F=this.remaining[S.length];if("/"!==F&&")"!==F&&";"!==F)throw new g.vHH(4010,!1);let G;S.indexOf(":")>-1?(G=S.slice(0,S.indexOf(":")),this.capture(G),this.capture(":")):C&&(G=Wt);const ee=this.parseChildren();v[G]=1===Object.keys(ee).length?ee[Wt]:new dn([],ee),this.consumeOptional("//")}return v}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new g.vHH(4011,!1)}}function pi(I){return I.segments.length>0?new dn([],{[Wt]:I}):I}function bn(I){const C={};for(const S of Object.keys(I.children)){const G=bn(I.children[S]);(G.segments.length>0||G.hasChildren())&&(C[S]=G)}return function Mr(I){if(1===I.numberOfChildren&&I.children[Wt]){const C=I.children[Wt];return new dn(I.segments.concat(C.segments),C.children)}return I}(new dn(I.segments,C))}function di(I){return I instanceof Ar}function ns(I,C,v,S,F){if(0===v.length)return Wi(C.root,C.root,C.root,S,F);const G=function Ds(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new Ys(!0,0,I);let C=0,v=!1;const S=I.reduce((F,G,ee)=>{if("object"==typeof G&&null!=G){if(G.outlets){const ne={};return Pn(G.outlets,(je,Et)=>{ne[Et]="string"==typeof je?je.split("/"):je}),[...F,{outlets:ne}]}if(G.segmentPath)return[...F,G.segmentPath]}return"string"!=typeof G?[...F,G]:0===ee?(G.split("/").forEach((ne,je)=>{0==je&&"."===ne||(0==je&&""===ne?v=!0:".."===ne?C++:""!=ne&&F.push(ne))}),F):[...F,G]},[]);return new Ys(v,C,S)}(v);return G.toRoot()?Wi(C.root,C.root,new dn([],{}),S,F):function ee(je){const Et=function rs(I,C,v,S){if(I.isAbsolute)return new Mi(C.root,!0,0);if(-1===S)return new Mi(v,v===C.root,0);return function xi(I,C,v){let S=I,F=C,G=v;for(;G>F;){if(G-=F,S=S.parent,!S)throw new g.vHH(4005,!1);F=S.segments.length}return new Mi(S,!1,F-G)}(v,S+(ii(I.commands[0])?0:1),I.numberOfDoubleDots)}(G,C,I.snapshot?._urlSegment,je),$t=Et.processChildren?is(Et.segmentGroup,Et.index,G.commands):Hr(Et.segmentGroup,Et.index,G.commands);return Wi(C.root,Et.segmentGroup,$t,S,F)}(I.snapshot?._lastPathIndex)}function ii(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Lr(I){return"object"==typeof I&&null!=I&&I.outlets}function Wi(I,C,v,S,F){let ee,G={};S&&Pn(S,(je,Et)=>{G[Et]=Array.isArray(je)?je.map($t=>`${$t}`):`${je}`}),ee=I===C?v:_r(I,C,v);const ne=pi(bn(ee));return new Ar(ne,G,F)}function _r(I,C,v){const S={};return Pn(I.children,(F,G)=>{S[G]=F===C?v:_r(F,C,v)}),new dn(I.segments,S)}class Ys{constructor(C,v,S){if(this.isAbsolute=C,this.numberOfDoubleDots=v,this.commands=S,C&&S.length>0&&ii(S[0]))throw new g.vHH(4003,!1);const F=S.find(Lr);if(F&&F!==ts(S))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mi{constructor(C,v,S){this.segmentGroup=C,this.processChildren=v,this.index=S}}function Hr(I,C,v){if(I||(I=new dn([],{})),0===I.segments.length&&I.hasChildren())return is(I,C,v);const S=function Ur(I,C,v){let S=0,F=C;const G={match:!1,pathIndex:0,commandIndex:0};for(;F<I.segments.length;){if(S>=v.length)return G;const ee=I.segments[F],ne=v[S];if(Lr(ne))break;const je=`${ne}`,Et=S<v.length-1?v[S+1]:null;if(F>0&&void 0===je)break;if(je&&Et&&"object"==typeof Et&&void 0===Et.outlets){if(!Wo(je,Et,ee))return G;S+=2}else{if(!Wo(je,{},ee))return G;S++}F++}return{match:!0,pathIndex:F,commandIndex:S}}(I,C,v),F=v.slice(S.commandIndex);if(S.match&&S.pathIndex<I.segments.length){const G=new dn(I.segments.slice(0,S.pathIndex),{});return G.children[Wt]=new dn(I.segments.slice(S.pathIndex),I.children),is(G,0,F)}return S.match&&0===F.length?new dn(I.segments,{}):S.match&&!I.hasChildren()?Ei(I,C,v):S.match?is(I,0,F):Ei(I,C,v)}function is(I,C,v){if(0===v.length)return new dn(I.segments,{});{const S=function ps(I){return Lr(I[0])?I[0].outlets:{[Wt]:I}}(v),F={};return Pn(S,(G,ee)=>{"string"==typeof G&&(G=[G]),null!==G&&(F[ee]=Hr(I.children[ee],C,G))}),Pn(I.children,(G,ee)=>{void 0===S[ee]&&(F[ee]=G)}),new dn(I.segments,F)}}function Ei(I,C,v){const S=I.segments.slice(0,C);let F=0;for(;F<v.length;){const G=v[F];if(Lr(G)){const je=lo(G.outlets);return new dn(S,je)}if(0===F&&ii(v[0])){S.push(new zt(I.segments[C].path,Ui(v[0]))),F++;continue}const ee=Lr(G)?G.outlets[Wt]:`${G}`,ne=F<v.length-1?v[F+1]:null;ee&&ne&&ii(ne)?(S.push(new zt(ee,Ui(ne))),F+=2):(S.push(new zt(ee,{})),F++)}return new dn(S,{})}function lo(I){const C={};return Pn(I,(v,S)=>{"string"==typeof v&&(v=[v]),null!==v&&(C[S]=Ei(new dn([],{}),0,v))}),C}function Ui(I){const C={};return Pn(I,(v,S)=>C[S]=`${v}`),C}function Wo(I,C,v){return I==v.path&&tr(C,v.parameters)}class Pr{constructor(C,v){this.id=C,this.url=v}}class ui extends Pr{constructor(C,v,S="imperative",F=null){super(C,v),this.type=0,this.navigationTrigger=S,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bs extends Pr{constructor(C,v,S){super(C,v),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gs extends Pr{constructor(C,v,S,F){super(C,v),this.reason=S,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class co extends Pr{constructor(C,v,S,F){super(C,v),this.error=S,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zs extends Pr{constructor(C,v,S,F){super(C,v),this.urlAfterRedirects=S,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr extends Pr{constructor(C,v,S,F){super(C,v),this.urlAfterRedirects=S,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends Pr{constructor(C,v,S,F,G){super(C,v),this.urlAfterRedirects=S,this.state=F,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Re extends Pr{constructor(C,v,S,F){super(C,v),this.urlAfterRedirects=S,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class He extends Pr{constructor(C,v,S,F){super(C,v),this.urlAfterRedirects=S,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ft{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xt{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yt{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xn{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $r{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ss{constructor(C,v,S){this.routerEvent=C,this.position=v,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Js{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const v=this.pathFromRoot(C);return v.length>1?v[v.length-2]:null}children(C){const v=wi(C,this._root);return v?v.children.map(S=>S.value):[]}firstChild(C){const v=wi(C,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(C){const v=Ii(C,this._root);return v.length<2?[]:v[v.length-2].children.map(F=>F.value).filter(F=>F!==C)}pathFromRoot(C){return Ii(C,this._root).map(v=>v.value)}}function wi(I,C){if(I===C.value)return C;for(const v of C.children){const S=wi(I,v);if(S)return S}return null}function Ii(I,C){if(I===C.value)return[C];for(const v of C.children){const S=Ii(I,v);if(S.length)return S.unshift(C),S}return[]}class gs{constructor(C,v){this.value=C,this.children=v}toString(){return`TreeNode(${this.value})`}}function Us(I){const C={};return I&&I.children.forEach(v=>C[v.value.outlet]=v),C}class ho extends Js{constructor(C,v){super(C),this.snapshot=v,Po(this,C)}toString(){return this.snapshot.toString()}}function qi(I,C){const v=function Vi(I,C){const ee=new ms([],{},{},"",{},Wt,C,null,I.root,-1,{});return new ys("",new gs(ee,[]))}(I,C),S=new pe([new zt("",{})]),F=new pe({}),G=new pe({}),ee=new pe({}),ne=new pe(""),je=new Ci(S,F,ee,ne,G,Wt,C,v.root);return je.snapshot=v.root,new ho(new gs(je,[]),v)}class Ci{constructor(C,v,S,F,G,ee,ne,je){this.url=C,this.params=v,this.queryParams=S,this.fragment=F,this.data=G,this.outlet=ee,this.component=ne,this.title=this.data?.pipe((0,fe.U)(Et=>Et[Tr]))??(0,j.of)(void 0),this._futureSnapshot=je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,fe.U)(C=>mn(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,fe.U)(C=>mn(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function os(I,C="emptyOnly"){const v=I.pathFromRoot;let S=0;if("always"!==C)for(S=v.length-1;S>=1;){const F=v[S],G=v[S-1];if(F.routeConfig&&""===F.routeConfig.path)S--;else{if(G.component)break;S--}}return function Ws(I){return I.reduce((C,v)=>({params:{...C.params,...v.params},data:{...C.data,...v.data},resolve:{...v.data,...C.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(S))}class ms{constructor(C,v,S,F,G,ee,ne,je,Et,$t,Nt,Nn){this.url=C,this.params=v,this.queryParams=S,this.fragment=F,this.data=G,this.outlet=ee,this.component=ne,this.title=this.data?.[Tr],this.routeConfig=je,this._urlSegment=Et,this._lastPathIndex=$t,this._correctedLastPathIndex=Nn??$t,this._resolve=Nt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ys extends Js{constructor(C,v){super(v),this.url=C,Po(this,v)}toString(){return as(this._root)}}function Po(I,C){C.value._routerState=I,C.children.forEach(v=>Po(I,v))}function as(I){const C=I.children.length>0?` { ${I.children.map(as).join(", ")} } `:"";return`${I.value}${C}`}function Zr(I){if(I.snapshot){const C=I.snapshot,v=I._futureSnapshot;I.snapshot=v,tr(C.queryParams,v.queryParams)||I.queryParams.next(v.queryParams),C.fragment!==v.fragment&&I.fragment.next(v.fragment),tr(C.params,v.params)||I.params.next(v.params),function hr(I,C){if(I.length!==C.length)return!1;for(let v=0;v<I.length;++v)if(!tr(I[v],C[v]))return!1;return!0}(C.url,v.url)||I.url.next(v.url),tr(C.data,v.data)||I.data.next(v.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function Kr(I,C){const v=tr(I.params,C.params)&&function mt(I,C){return Lt(I,C)&&I.every((v,S)=>tr(v.parameters,C[S].parameters))}(I.url,C.url);return v&&!(!I.parent!=!C.parent)&&(!I.parent||Kr(I.parent,C.parent))}function _s(I,C,v){if(v&&I.shouldReuseRoute(C.value,v.value.snapshot)){const S=v.value;S._futureSnapshot=C.value;const F=function vo(I,C,v){return C.children.map(S=>{for(const F of v.children)if(I.shouldReuseRoute(S.value,F.value.snapshot))return _s(I,S,F);return _s(I,S)})}(I,C,v);return new gs(S,F)}{if(I.shouldAttach(C.value)){const G=I.retrieve(C.value);if(null!==G){const ee=G.route;return ee.value._futureSnapshot=C.value,ee.children=C.children.map(ne=>_s(I,ne)),ee}}const S=function Di(I){return new Ci(new pe(I.url),new pe(I.params),new pe(I.queryParams),new pe(I.fragment),new pe(I.data),I.outlet,I.component,I)}(C.value),F=C.children.map(G=>_s(I,G));return new gs(S,F)}}const ko="ngNavigationCancelingError";function la(I,C){const{redirectTo:v,navigationBehaviorOptions:S}=di(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,F=dr(!1,0,C);return F.url=v,F.navigationBehaviorOptions=S,F}function dr(I,C,v){const S=new Error("NavigationCancelingError: "+(I||""));return S[ko]=!0,S.cancellationCode=C,v&&(S.url=v),S}function Ri(I){return Eo(I)&&di(I.url)}function Eo(I){return I&&I[ko]}class Vr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Rr,this.attachRef=null}}let Rr=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(v,S){const F=this.getOrCreateContext(v);F.outlet=S,this.contexts.set(v,F)}onChildOutletDestroyed(v){const S=this.getContext(v);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let S=this.getContext(v);return S||(S=new Vr,this.contexts.set(v,S)),S}getContext(v){return this.contexts.get(v)||null}}return I.\u0275fac=function(v){return new(v||I)},I.\u0275prov=g.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Gn=!1;let Ts=(()=>{class I{constructor(v,S,F,G,ee){this.parentContexts=v,this.location=S,this.changeDetector=G,this.environmentInjector=ee,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=F||Wt,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,Gn);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,Gn);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,Gn);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,S){this.activated=v,this._activatedRoute=S,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,S){if(this.isActivated)throw new g.vHH(4013,Gn);this._activatedRoute=v;const F=this.location,ee=v._futureSnapshot.component,ne=this.parentContexts.getOrCreateContext(this.name).children,je=new Ni(v,ne,F.injector);if(S&&function Yn(I){return!!I.resolveComponentFactory}(S)){const Et=S.resolveComponentFactory(ee);this.activated=F.createComponent(Et,F.length,je)}else this.activated=F.createComponent(ee,{index:F.length,injector:je,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(v){return new(v||I)(g.Y36(Rr),g.Y36(g.s_b),g.$8M("name"),g.Y36(g.sBO),g.Y36(g.lqb))},I.\u0275dir=g.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),I})();class Ni{constructor(C,v,S){this.route=C,this.childContexts=v,this.parent=S}get(C,v){return C===Ci?this.route:C===Rr?this.childContexts:this.parent.get(C,v)}}let Ss=(()=>{class I{}return I.\u0275fac=function(v){return new(v||I)},I.\u0275cmp=g.Xpm({type:I,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(v,S){1&v&&g._UZ(0,"router-outlet")},dependencies:[Ts],encapsulation:2}),I})();function vs(I,C){return I.providers&&!I._injector&&(I._injector=(0,g.MMx)(I.providers,C,`Route: ${I.path}`)),I._injector??C}function As(I){const C=I.children&&I.children.map(As),v=C?{...I,children:C}:{...I};return!v.component&&!v.loadComponent&&(C||v.loadChildren)&&v.outlet&&v.outlet!==Wt&&(v.component=Ss),v}function hi(I){return I.outlet||Wt}function Ms(I,C){const v=I.filter(S=>hi(S)===C);return v.push(...I.filter(S=>hi(S)!==C)),v}function wo(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let C=I.parent;C;C=C.parent){const v=C.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class vt{constructor(C,v,S,F){this.routeReuseStrategy=C,this.futureState=v,this.currState=S,this.forwardEvent=F}activate(C){const v=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,S,C),Zr(this.futureState.root),this.activateChildRoutes(v,S,C)}deactivateChildRoutes(C,v,S){const F=Us(v);C.children.forEach(G=>{const ee=G.value.outlet;this.deactivateRoutes(G,F[ee],S),delete F[ee]}),Pn(F,(G,ee)=>{this.deactivateRouteAndItsChildren(G,S)})}deactivateRoutes(C,v,S){const F=C.value,G=v?v.value:null;if(F===G)if(F.component){const ee=S.getContext(F.outlet);ee&&this.deactivateChildRoutes(C,v,ee.children)}else this.deactivateChildRoutes(C,v,S);else G&&this.deactivateRouteAndItsChildren(v,S)}deactivateRouteAndItsChildren(C,v){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,v):this.deactivateRouteAndOutlet(C,v)}detachAndStoreRouteSubtree(C,v){const S=v.getContext(C.value.outlet),F=S&&C.value.component?S.children:v,G=Us(C);for(const ee of Object.keys(G))this.deactivateRouteAndItsChildren(G[ee],F);if(S&&S.outlet){const ee=S.outlet.detach(),ne=S.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:ee,route:C,contexts:ne})}}deactivateRouteAndOutlet(C,v){const S=v.getContext(C.value.outlet),F=S&&C.value.component?S.children:v,G=Us(C);for(const ee of Object.keys(G))this.deactivateRouteAndItsChildren(G[ee],F);S&&S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated(),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(C,v,S){const F=Us(v);C.children.forEach(G=>{this.activateRoutes(G,F[G.value.outlet],S),this.forwardEvent(new cr(G.value.snapshot))}),C.children.length&&this.forwardEvent(new xn(C.value.snapshot))}activateRoutes(C,v,S){const F=C.value,G=v?v.value:null;if(Zr(F),F===G)if(F.component){const ee=S.getOrCreateContext(F.outlet);this.activateChildRoutes(C,v,ee.children)}else this.activateChildRoutes(C,v,S);else if(F.component){const ee=S.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const ne=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),ee.children.onOutletReAttached(ne.contexts),ee.attachRef=ne.componentRef,ee.route=ne.route.value,ee.outlet&&ee.outlet.attach(ne.componentRef,ne.route.value),Zr(ne.route.value),this.activateChildRoutes(C,null,ee.children)}else{const ne=wo(F.snapshot),je=ne?.get(g._Vd)??null;ee.attachRef=null,ee.route=F,ee.resolver=je,ee.injector=ne,ee.outlet&&ee.outlet.activateWith(F,ee.injector),this.activateChildRoutes(C,null,ee.children)}}else this.activateChildRoutes(C,null,S)}}class Ln{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class eo{constructor(C,v){this.component=C,this.route=v}}function Io(I,C,v){const S=I._root;return us(S,C?C._root:null,v,[S.value])}function Es(I,C){const v=Symbol(),S=C.get(I,v);return S===v?"function"!=typeof I||(0,g.Z0I)(I)?C.get(I):I:S}function us(I,C,v,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const G=Us(C);return I.children.forEach(ee=>{(function Ki(I,C,v,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const G=I.value,ee=C?C.value:null,ne=v?v.getContext(I.value.outlet):null;if(ee&&G.routeConfig===ee.routeConfig){const je=function Fo(I,C,v){if("function"==typeof v)return v(I,C);switch(v){case"pathParamsChange":return!Lt(I.url,C.url);case"pathParamsOrQueryParamsChange":return!Lt(I.url,C.url)||!tr(I.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kr(I,C)||!tr(I.queryParams,C.queryParams);default:return!Kr(I,C)}}(ee,G,G.routeConfig.runGuardsAndResolvers);je?F.canActivateChecks.push(new Ln(S)):(G.data=ee.data,G._resolvedData=ee._resolvedData),us(I,C,G.component?ne?ne.children:null:v,S,F),je&&ne&&ne.outlet&&ne.outlet.isActivated&&F.canDeactivateChecks.push(new eo(ne.outlet.component,ee))}else ee&&to(C,ne,F),F.canActivateChecks.push(new Ln(S)),us(I,null,G.component?ne?ne.children:null:v,S,F)})(ee,G[ee.value.outlet],v,S.concat([ee.value]),F),delete G[ee.value.outlet]}),Pn(G,(ee,ne)=>to(ee,v.getContext(ne),F)),F}function to(I,C,v){const S=Us(I),F=I.value;Pn(S,(G,ee)=>{to(G,F.component?C?C.children.getContext(ee):null:C,v)}),v.canDeactivateChecks.push(new eo(F.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,F))}function no(I){return"function"==typeof I}function or(I){return I instanceof ue.K||"EmptyError"===I?.name}const bi=Symbol("INITIAL_VALUE");function ls(){return(0,Fe.w)(I=>Xe(I.map(C=>C.pipe((0,$e.q)(1),(0,Qe.O)(bi)))).pipe((0,fe.U)(C=>{for(const v of C)if(!0!==v){if(v===bi)return bi;if(!1===v||v instanceof Ar)return v}return!0}),(0,Pe.h)(C=>C!==bi),(0,$e.q)(1)))}function Ao(I){return(0,_e.z)((0,Mt.b)(C=>{if(di(C))throw la(0,C)}),(0,fe.U)(C=>!0===C))}const A={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function z(I,C,v,S,F){const G=O(I,C,v);return G.matched?function ha(I,C,v,S){const F=C.canMatch;if(!F||0===F.length)return(0,j.of)(!0);const G=F.map(ee=>{const ne=Es(ee,I);return Hn(function rt(I){return I&&no(I.canMatch)}(ne)?ne.canMatch(C,v):I.runInContext(()=>ne(C,v)))});return(0,j.of)(G).pipe(ls(),Ao())}(S=vs(C,S),C,v).pipe((0,fe.U)(ee=>!0===ee?G:{...A})):(0,j.of)(G)}function O(I,C,v){if(""===C.path)return"full"===C.pathMatch&&(I.hasChildren()||v.length>0)?{...A}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const F=(C.matcher||St)(v,I,C);if(!F)return{...A};const G={};Pn(F.posParams,(ne,je)=>{G[je]=ne.path});const ee=F.consumed.length>0?{...G,...F.consumed[F.consumed.length-1].parameters}:G;return{matched:!0,consumedSegments:F.consumed,remainingSegments:v.slice(F.consumed.length),parameters:ee,positionalParamSegments:F.posParams??{}}}function K(I,C,v,S,F="corrected"){if(v.length>0&&function ct(I,C,v){return v.some(S=>Zn(I,C,S)&&hi(S)!==Wt)}(I,v,S)){const ee=new dn(C,function Ze(I,C,v,S){const F={};F[Wt]=S,S._sourceSegment=I,S._segmentIndexShift=C.length;for(const G of v)if(""===G.path&&hi(G)!==Wt){const ee=new dn([],{});ee._sourceSegment=I,ee._segmentIndexShift=C.length,F[hi(G)]=ee}return F}(I,C,S,new dn(v,I.children)));return ee._sourceSegment=I,ee._segmentIndexShift=C.length,{segmentGroup:ee,slicedSegments:[]}}if(0===v.length&&function tn(I,C,v){return v.some(S=>Zn(I,C,S))}(I,v,S)){const ee=new dn(I.segments,function Ee(I,C,v,S,F,G){const ee={};for(const ne of S)if(Zn(I,v,ne)&&!F[hi(ne)]){const je=new dn([],{});je._sourceSegment=I,je._segmentIndexShift="legacy"===G?I.segments.length:C.length,ee[hi(ne)]=je}return{...F,...ee}}(I,C,v,S,I.children,F));return ee._sourceSegment=I,ee._segmentIndexShift=C.length,{segmentGroup:ee,slicedSegments:v}}const G=new dn(I.segments,I.children);return G._sourceSegment=I,G._segmentIndexShift=C.length,{segmentGroup:G,slicedSegments:v}}function Zn(I,C,v){return(!(I.hasChildren()||C.length>0)||"full"!==v.pathMatch)&&""===v.path}function vr(I,C,v,S){return!!(hi(I)===S||S!==Wt&&Zn(C,v,I))&&("**"===I.path||O(C,I,v).matched)}function Ir(I,C,v){return 0===C.length&&!I.children[v]}const Jn=!1;class li{constructor(C){this.segmentGroup=C||null}}class xr{constructor(C){this.urlTree=C}}function Nr(I){return it(new li(I))}function ro(I){return it(new xr(I))}class Zs{constructor(C,v,S,F,G){this.injector=C,this.configLoader=v,this.urlSerializer=S,this.urlTree=F,this.config=G,this.allowRedirects=!0}apply(){const C=K(this.urlTree.root,[],[],this.config).segmentGroup,v=new dn(C.segments,C.children);return this.expandSegmentGroup(this.injector,this.config,v,Wt).pipe((0,fe.U)(G=>this.createUrlTree(bn(G),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Tt(G=>{if(G instanceof xr)return this.allowRedirects=!1,this.match(G.urlTree);throw G instanceof li?this.noMatchError(G):G}))}match(C){return this.expandSegmentGroup(this.injector,this.config,C.root,Wt).pipe((0,fe.U)(F=>this.createUrlTree(bn(F),C.queryParams,C.fragment))).pipe(Tt(F=>{throw F instanceof li?this.noMatchError(F):F}))}noMatchError(C){return new g.vHH(4002,Jn)}createUrlTree(C,v,S){const F=pi(C);return new Ar(F,v,S)}expandSegmentGroup(C,v,S,F){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(C,v,S).pipe((0,fe.U)(G=>new dn([],G))):this.expandSegment(C,S,v,S.segments,F,!0)}expandChildren(C,v,S){const F=[];for(const G of Object.keys(S.children))"primary"===G?F.unshift(G):F.push(G);return(0,p.D)(F).pipe(Ve(G=>{const ee=S.children[G],ne=Ms(v,G);return this.expandSegmentGroup(C,ne,ee,G).pipe((0,fe.U)(je=>({segment:je,outlet:G})))}),(0,Zt.R)((G,ee)=>(G[ee.outlet]=ee.segment,G),{}),gn())}expandSegment(C,v,S,F,G,ee){return(0,p.D)(S).pipe(Ve(ne=>this.expandSegmentAgainstRoute(C,v,S,ne,F,G,ee).pipe(Tt(Et=>{if(Et instanceof li)return(0,j.of)(null);throw Et}))),(0,ze.P)(ne=>!!ne),Tt((ne,je)=>{if(or(ne))return Ir(v,F,G)?(0,j.of)(new dn([],{})):Nr(v);throw ne}))}expandSegmentAgainstRoute(C,v,S,F,G,ee,ne){return vr(F,v,G,ee)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(C,v,F,G,ee):ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,v,S,F,G,ee):Nr(v):Nr(v)}expandSegmentAgainstRouteUsingRedirect(C,v,S,F,G,ee){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,S,F,ee):this.expandRegularSegmentAgainstRouteUsingRedirect(C,v,S,F,G,ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,v,S,F){const G=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?ro(G):this.lineralizeSegments(S,G).pipe((0,qe.z)(ee=>{const ne=new dn(ee,{});return this.expandSegment(C,ne,v,ee,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,v,S,F,G,ee){const{matched:ne,consumedSegments:je,remainingSegments:Et,positionalParamSegments:$t}=O(v,F,G);if(!ne)return Nr(v);const Nt=this.applyRedirectCommands(je,F.redirectTo,$t);return F.redirectTo.startsWith("/")?ro(Nt):this.lineralizeSegments(F,Nt).pipe((0,qe.z)(Nn=>this.expandSegment(C,v,S,Nn.concat(Et),ee,!1)))}matchSegmentAgainstRoute(C,v,S,F,G){return"**"===S.path?(C=vs(S,C),S.loadChildren?(S._loadedRoutes?(0,j.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(C,S)).pipe((0,fe.U)(ne=>(S._loadedRoutes=ne.routes,S._loadedInjector=ne.injector,new dn(F,{})))):(0,j.of)(new dn(F,{}))):z(v,S,F,C).pipe((0,Fe.w)(({matched:ee,consumedSegments:ne,remainingSegments:je})=>ee?this.getChildConfig(C=S._injector??C,S,F).pipe((0,qe.z)($t=>{const Nt=$t.injector??C,Nn=$t.routes,{segmentGroup:ar,slicedSegments:ds}=K(v,ne,je,Nn),xs=new dn(ar.segments,ar.children);if(0===ds.length&&xs.hasChildren())return this.expandChildren(Nt,Nn,xs).pipe((0,fe.U)(No=>new dn(ne,No)));if(0===Nn.length&&0===ds.length)return(0,j.of)(new dn(ne,{}));const Er=hi(S)===G;return this.expandSegment(Nt,xs,Nn,ds,Er?Wt:G,!0).pipe((0,fe.U)(Fi=>new dn(ne.concat(Fi.segments),Fi.children)))})):Nr(v)))}getChildConfig(C,v,S){return v.children?(0,j.of)({routes:v.children,injector:C}):v.loadChildren?void 0!==v._loadedRoutes?(0,j.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function Yo(I,C,v,S){const F=C.canLoad;if(void 0===F||0===F.length)return(0,j.of)(!0);const G=F.map(ee=>{const ne=Es(ee,I);return Hn(function V(I){return I&&no(I.canLoad)}(ne)?ne.canLoad(C,v):I.runInContext(()=>ne(C,v)))});return(0,j.of)(G).pipe(ls(),Ao())}(C,v,S).pipe((0,qe.z)(F=>F?this.configLoader.loadChildren(C,v).pipe((0,Mt.b)(G=>{v._loadedRoutes=G.routes,v._loadedInjector=G.injector})):function Bi(I){return it(dr(Jn,3))}())):(0,j.of)({routes:[],injector:C})}lineralizeSegments(C,v){let S=[],F=v.root;for(;;){if(S=S.concat(F.segments),0===F.numberOfChildren)return(0,j.of)(S);if(F.numberOfChildren>1||!F.children[Wt])return it(new g.vHH(4e3,Jn));F=F.children[Wt]}}applyRedirectCommands(C,v,S){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),C,S)}applyRedirectCreateUrlTree(C,v,S,F){const G=this.createSegmentGroup(C,v.root,S,F);return new Ar(G,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(C,v){const S={};return Pn(C,(F,G)=>{if("string"==typeof F&&F.startsWith(":")){const ne=F.substring(1);S[G]=v[ne]}else S[G]=F}),S}createSegmentGroup(C,v,S,F){const G=this.createSegments(C,v.segments,S,F);let ee={};return Pn(v.children,(ne,je)=>{ee[je]=this.createSegmentGroup(C,ne,S,F)}),new dn(G,ee)}createSegments(C,v,S,F){return v.map(G=>G.path.startsWith(":")?this.findPosParam(C,G,F):this.findOrReturn(G,S))}findPosParam(C,v,S){const F=S[v.path.substring(1)];if(!F)throw new g.vHH(4001,Jn);return F}findOrReturn(C,v){let S=0;for(const F of v){if(F.path===C.path)return v.splice(S),F;S++}return C}}class Lo{}class hu{constructor(C,v,S,F,G,ee,ne,je){this.injector=C,this.rootComponentType=v,this.config=S,this.urlTree=F,this.url=G,this.paramsInheritanceStrategy=ee,this.relativeLinkResolution=ne,this.urlSerializer=je}recognize(){const C=K(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,Wt).pipe((0,fe.U)(v=>{if(null===v)return null;const S=new ms([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new gs(S,v),G=new ys(this.url,F);return this.inheritParamsAndData(G._root),G}))}inheritParamsAndData(C){const v=C.value,S=os(v,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),C.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(C,v,S,F){return 0===S.segments.length&&S.hasChildren()?this.processChildren(C,v,S):this.processSegment(C,v,S,S.segments,F)}processChildren(C,v,S){return(0,p.D)(Object.keys(S.children)).pipe(Ve(F=>{const G=S.children[F],ee=Ms(v,F);return this.processSegmentGroup(C,ee,G,F)}),(0,Zt.R)((F,G)=>F&&G?(F.push(...G),F):null),function jn(I,C=!1){return(0,me.e)((v,S)=>{let F=0;v.subscribe((0,gt.x)(S,G=>{const ee=I(G,F++);(ee||C)&&S.next(G),!ee&&S.complete()}))})}(F=>null!==F),(0,Ht.d)(null),gn(),(0,fe.U)(F=>{if(null===F)return null;const G=Qi(F);return function wa(I){I.sort((C,v)=>C.value.outlet===Wt?-1:v.value.outlet===Wt?1:C.value.outlet.localeCompare(v.value.outlet))}(G),G}))}processSegment(C,v,S,F,G){return(0,p.D)(v).pipe(Ve(ee=>this.processSegmentAgainstRoute(ee._injector??C,ee,S,F,G)),(0,ze.P)(ee=>!!ee),Tt(ee=>{if(or(ee))return Ir(S,F,G)?(0,j.of)([]):(0,j.of)(null);throw ee}))}processSegmentAgainstRoute(C,v,S,F,G){if(v.redirectTo||!vr(v,S,F,G))return(0,j.of)(null);let ee;if("**"===v.path){const ne=F.length>0?ts(F).parameters:{},je=Xo(S)+F.length,Et=new ms(F,ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ia(v),hi(v),v.component??v._loadedComponent??null,v,Jo(S),je,Oi(v),je);ee=(0,j.of)({snapshot:Et,consumedSegments:[],remainingSegments:[]})}else ee=z(S,v,F,C).pipe((0,fe.U)(({matched:ne,consumedSegments:je,remainingSegments:Et,parameters:$t})=>{if(!ne)return null;const Nt=Xo(S)+je.length;return{snapshot:new ms(je,$t,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ia(v),hi(v),v.component??v._loadedComponent??null,v,Jo(S),Nt,Oi(v),Nt),consumedSegments:je,remainingSegments:Et}}));return ee.pipe((0,Fe.w)(ne=>{if(null===ne)return(0,j.of)(null);const{snapshot:je,consumedSegments:Et,remainingSegments:$t}=ne;C=v._injector??C;const Nt=v._loadedInjector??C,Nn=function Ja(I){return I.children?I.children:I.loadChildren?I._loadedRoutes:[]}(v),{segmentGroup:ar,slicedSegments:ds}=K(S,Et,$t,Nn.filter(Er=>void 0===Er.redirectTo),this.relativeLinkResolution);if(0===ds.length&&ar.hasChildren())return this.processChildren(Nt,Nn,ar).pipe((0,fe.U)(Er=>null===Er?null:[new gs(je,Er)]));if(0===Nn.length&&0===ds.length)return(0,j.of)([new gs(je,[])]);const xs=hi(v)===G;return this.processSegment(Nt,Nn,ar,ds,xs?Wt:G).pipe((0,fe.U)(Er=>null===Er?null:[new gs(je,Er)]))}))}}function ja(I){const C=I.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function Qi(I){const C=[],v=new Set;for(const S of I){if(!ja(S)){C.push(S);continue}const F=C.find(G=>S.value.routeConfig===G.value.routeConfig);void 0!==F?(F.children.push(...S.children),v.add(F)):C.push(S)}for(const S of v){const F=Qi(S.children);C.push(new gs(S.value,F))}return C.filter(S=>!v.has(S))}function Jo(I){let C=I;for(;C._sourceSegment;)C=C._sourceSegment;return C}function Xo(I){let C=I,v=C._segmentIndexShift??0;for(;C._sourceSegment;)C=C._sourceSegment,v+=C._segmentIndexShift??0;return v-1}function Ia(I){return I.data||{}}function Oi(I){return I.resolve||{}}function bt(I){return"string"==typeof I.title||null===I.title}function An(I){return(0,Fe.w)(C=>{const v=I(C);return v?(0,p.D)(v).pipe((0,fe.U)(()=>C)):(0,j.of)(C)})}let ci=(()=>{class I{buildTitle(v){let S,F=v.root;for(;void 0!==F;)S=this.getResolvedTitleForRoute(F)??S,F=F.children.find(G=>G.outlet===Wt);return S}getResolvedTitleForRoute(v){return v.data[Tr]}}return I.\u0275fac=function(v){return new(v||I)},I.\u0275prov=g.Yz7({token:I,factory:function(){return(0,g.f3M)(pa)},providedIn:"root"}),I})(),pa=(()=>{class I extends ci{constructor(v){super(),this.title=v}updateTitle(v){const S=this.buildTitle(v);void 0!==S&&this.title.setTitle(S)}}return I.\u0275fac=function(v){return new(v||I)(g.LFG(br.Dx))},I.\u0275prov=g.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();class In{}class Bt extends class tu{shouldDetach(C){return!1}store(C,v){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,v){return C.routeConfig===v.routeConfig}}{}const wt=new g.OlP("",{providedIn:"root",factory:()=>({})}),ea=new g.OlP("ROUTES");let xo=(()=>{class I{constructor(v,S){this.injector=v,this.compiler=S,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,j.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const S=Hn(v.loadComponent()).pipe((0,Mt.b)(G=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=G}),er(()=>{this.componentLoaders.delete(v)})),F=new ae(S,()=>new ce.x).pipe(Je());return this.componentLoaders.set(v,F),F}loadChildren(v,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,j.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const G=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,fe.U)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(S);let je,Et,$t=!1;Array.isArray(ne)?Et=ne:(je=ne.create(v).injector,Et=Jr(je.get(ea,[],g.XFs.Self|g.XFs.Optional)));return{routes:Et.map(As),injector:je}}),er(()=>{this.childrenLoaders.delete(S)})),ee=new ae(G,()=>new ce.x).pipe(Je());return this.childrenLoaders.set(S,ee),ee}loadModuleFactoryOrRoutes(v){return Hn(v()).pipe((0,qe.z)(S=>S instanceof g.YKP||Array.isArray(S)?(0,j.of)(S):(0,p.D)(this.compiler.compileModuleAsync(S))))}}return I.\u0275fac=function(v){return new(v||I)(g.LFG(g.zs3),g.LFG(g.Sil))},I.\u0275prov=g.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();class Ca{}class nu{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,v){return C}}function ta(I){throw I}function Ha(I,C,v){return C.parse("/")}const Ra={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},na={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function $a(){const I=(0,g.f3M)(pn),C=(0,g.f3M)(Rr),v=(0,g.f3M)(Ae.Ye),S=(0,g.f3M)(g.zs3),F=(0,g.f3M)(g.Sil),G=(0,g.f3M)(ea,{optional:!0})??[],ee=(0,g.f3M)(wt,{optional:!0})??{},ne=(0,g.f3M)(pa),je=(0,g.f3M)(ci,{optional:!0}),Et=(0,g.f3M)(Ca,{optional:!0}),$t=(0,g.f3M)(In,{optional:!0}),Nt=new ln(null,I,C,v,S,F,Jr(G));return Et&&(Nt.urlHandlingStrategy=Et),$t&&(Nt.routeReuseStrategy=$t),Nt.titleStrategy=je??ne,function Bo(I,C){I.errorHandler&&(C.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(C.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(C.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(C.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(C.urlUpdateStrategy=I.urlUpdateStrategy),I.canceledNavigationResolution&&(C.canceledNavigationResolution=I.canceledNavigationResolution)}(ee,Nt),Nt}let ln=(()=>{class I{constructor(v,S,F,G,ee,ne,je){this.rootComponentType=v,this.urlSerializer=S,this.rootContexts=F,this.location=G,this.config=je,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ce.x,this.errorHandler=ta,this.malformedUriErrorHandler=Ha,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,j.of)(void 0),this.urlHandlingStrategy=new nu,this.routeReuseStrategy=new Bt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ee.get(xo),this.configLoader.onLoadEndListener=Nn=>this.triggerEvent(new xt(Nn)),this.configLoader.onLoadStartListener=Nn=>this.triggerEvent(new ft(Nn)),this.ngModule=ee.get(g.h0i),this.console=ee.get(g.c2e);const Nt=ee.get(g.R0b);this.isNgZoneEnabled=Nt instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(je),this.currentUrlTree=function qt(){return new Ar(new dn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qi(this.currentUrlTree,this.rootComponentType),this.transitions=new pe({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(v){const S=this.events;return v.pipe((0,Pe.h)(F=>0!==F.id),(0,fe.U)(F=>({...F,extractedUrl:this.urlHandlingStrategy.extract(F.rawUrl)})),(0,Fe.w)(F=>{let G=!1,ee=!1;return(0,j.of)(F).pipe((0,Mt.b)(ne=>{this.currentNavigation={id:ne.id,initialUrl:ne.rawUrl,extractedUrl:ne.extractedUrl,trigger:ne.source,extras:ne.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Fe.w)(ne=>{const je=this.browserUrlTree.toString(),Et=!this.navigated||ne.extractedUrl.toString()!==je||je!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Et)&&this.urlHandlingStrategy.shouldProcessUrl(ne.rawUrl))return ra(ne.source)&&(this.browserUrlTree=ne.extractedUrl),(0,j.of)(ne).pipe((0,Fe.w)(Nt=>{const Nn=this.transitions.getValue();return S.next(new ui(Nt.id,this.serializeUrl(Nt.extractedUrl),Nt.source,Nt.restoredState)),Nn!==this.transitions.getValue()?yt.E:Promise.resolve(Nt)}),function Ks(I,C,v,S){return(0,Fe.w)(F=>function Mo(I,C,v,S,F){return new Zs(I,C,v,S,F).apply()}(I,C,v,F.extractedUrl,S).pipe((0,fe.U)(G=>({...F,urlAfterRedirects:G}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mt.b)(Nt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Nt.urlAfterRedirects},F.urlAfterRedirects=Nt.urlAfterRedirects}),function xa(I,C,v,S,F,G){return(0,qe.z)(ee=>function Ma(I,C,v,S,F,G,ee="emptyOnly",ne="legacy"){return new hu(I,C,v,S,F,ee,ne,G).recognize().pipe((0,Fe.w)(je=>null===je?function Cr(I){return new ye.y(C=>C.error(I))}(new Lo):(0,j.of)(je)))}(I,C,v,ee.urlAfterRedirects,S.serialize(ee.urlAfterRedirects),S,F,G).pipe((0,fe.U)(ne=>({...ee,targetSnapshot:ne}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mt.b)(Nt=>{if(F.targetSnapshot=Nt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Nt.extras.skipLocationChange){const ar=this.urlHandlingStrategy.merge(Nt.urlAfterRedirects,Nt.rawUrl);this.setBrowserUrl(ar,Nt)}this.browserUrlTree=Nt.urlAfterRedirects}const Nn=new zs(Nt.id,this.serializeUrl(Nt.extractedUrl),this.serializeUrl(Nt.urlAfterRedirects),Nt.targetSnapshot);S.next(Nn)}));if(Et&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Nn,extractedUrl:ar,source:ds,restoredState:xs,extras:Er}=ne,ki=new ui(Nn,this.serializeUrl(ar),ds,xs);S.next(ki);const Fi=qi(ar,this.rootComponentType).snapshot;return F={...ne,targetSnapshot:Fi,urlAfterRedirects:ar,extras:{...Er,skipLocationChange:!1,replaceUrl:!1}},(0,j.of)(F)}return this.rawUrlTree=ne.rawUrl,ne.resolve(null),yt.E}),(0,Mt.b)(ne=>{const je=new mr(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot);this.triggerEvent(je)}),(0,fe.U)(ne=>F={...ne,guards:Io(ne.targetSnapshot,ne.currentSnapshot,this.rootContexts)}),function Do(I,C){return(0,qe.z)(v=>{const{targetSnapshot:S,currentSnapshot:F,guards:{canActivateChecks:G,canDeactivateChecks:ee}}=v;return 0===ee.length&&0===G.length?(0,j.of)({...v,guardsResult:!0}):function bo(I,C,v,S){return(0,p.D)(I).pipe((0,qe.z)(F=>function cs(I,C,v,S,F){const G=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,j.of)(!0);const ee=G.map(ne=>{const je=wo(C)??F,Et=Es(ne,je);return Hn(function Y(I){return I&&no(I.canDeactivate)}(Et)?Et.canDeactivate(I,C,v,S):je.runInContext(()=>Et(I,C,v,S))).pipe((0,ze.P)())});return(0,j.of)(ee).pipe(ls())}(F.component,F.route,v,C,S)),(0,ze.P)(F=>!0!==F,!0))}(ee,S,F,I).pipe((0,qe.z)(ne=>ne&&function Co(I){return"boolean"==typeof I}(ne)?function To(I,C,v,S){return(0,p.D)(C).pipe(Ve(F=>(0,Ye.z)(function Qo(I,C){return null!==I&&C&&C(new Yt(I)),(0,j.of)(!0)}(F.route.parent,S),function Ea(I,C){return null!==I&&C&&C(new $r(I)),(0,j.of)(!0)}(F.route,S),function da(I,C,v){const S=C[C.length-1],G=C.slice(0,C.length-1).reverse().map(ee=>function Yr(I){const C=I.routeConfig?I.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:I,guards:C}:null}(ee)).filter(ee=>null!==ee).map(ee=>Gt(()=>{const ne=ee.guards.map(je=>{const Et=wo(ee.node)??v,$t=Es(je,Et);return Hn(function R(I){return I&&no(I.canActivateChild)}($t)?$t.canActivateChild(S,I):Et.runInContext(()=>$t(S,I))).pipe((0,ze.P)())});return(0,j.of)(ne).pipe(ls())}));return(0,j.of)(G).pipe(ls())}(I,F.path,v),function So(I,C,v){const S=C.routeConfig?C.routeConfig.canActivate:null;if(!S||0===S.length)return(0,j.of)(!0);const F=S.map(G=>Gt(()=>{const ee=wo(C)??v,ne=Es(G,ee);return Hn(function k(I){return I&&no(I.canActivate)}(ne)?ne.canActivate(C,I):ee.runInContext(()=>ne(C,I))).pipe((0,ze.P)())}));return(0,j.of)(F).pipe(ls())}(I,F.route,v))),(0,ze.P)(F=>!0!==F,!0))}(S,G,I,C):(0,j.of)(ne)),(0,fe.U)(ne=>({...v,guardsResult:ne})))})}(this.ngModule.injector,ne=>this.triggerEvent(ne)),(0,Mt.b)(ne=>{if(F.guardsResult=ne.guardsResult,di(ne.guardsResult))throw la(0,ne.guardsResult);const je=new Me(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot,!!ne.guardsResult);this.triggerEvent(je)}),(0,Pe.h)(ne=>!!ne.guardsResult||(this.restoreHistory(ne),this.cancelNavigationTransition(ne,"",3),!1)),An(ne=>{if(ne.guards.canActivateChecks.length)return(0,j.of)(ne).pipe((0,Mt.b)(je=>{const Et=new Re(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(Et)}),(0,Fe.w)(je=>{let Et=!1;return(0,j.of)(je).pipe(function mi(I,C){return(0,qe.z)(v=>{const{targetSnapshot:S,guards:{canActivateChecks:F}}=v;if(!F.length)return(0,j.of)(v);let G=0;return(0,p.D)(F).pipe(Ve(ee=>function Yi(I,C,v,S){const F=I.routeConfig,G=I._resolve;return void 0!==F?.title&&!bt(F)&&(G[Tr]=F.title),function io(I,C,v,S){const F=function eu(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===F.length)return(0,j.of)({});const G={};return(0,p.D)(F).pipe((0,qe.z)(ee=>function fa(I,C,v,S){const F=wo(C)??S,G=Es(I,F);return Hn(G.resolve?G.resolve(C,v):F.runInContext(()=>G(C,v)))}(I[ee],C,v,S).pipe((0,ze.P)(),(0,Mt.b)(ne=>{G[ee]=ne}))),Dt(1),function Kn(I){return(0,fe.U)(()=>I)}(G),Tt(ee=>or(ee)?yt.E:it(ee)))}(G,I,C,S).pipe((0,fe.U)(ee=>(I._resolvedData=ee,I.data=os(I,v).resolve,F&&bt(F)&&(I.data[Tr]=F.title),null)))}(ee.route,S,I,C)),(0,Mt.b)(()=>G++),Dt(1),(0,qe.z)(ee=>G===F.length?(0,j.of)(v):yt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mt.b)({next:()=>Et=!0,complete:()=>{Et||(this.restoreHistory(je),this.cancelNavigationTransition(je,"",2))}}))}),(0,Mt.b)(je=>{const Et=new He(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(Et)}))}),An(ne=>{const je=Et=>{const $t=[];Et.routeConfig?.loadComponent&&!Et.routeConfig._loadedComponent&&$t.push(this.configLoader.loadComponent(Et.routeConfig).pipe((0,Mt.b)(Nt=>{Et.component=Nt}),(0,fe.U)(()=>{})));for(const Nt of Et.children)$t.push(...je(Nt));return $t};return Xe(je(ne.targetSnapshot.root)).pipe((0,Ht.d)(),(0,$e.q)(1))}),An(()=>this.afterPreactivation()),(0,fe.U)(ne=>{const je=function gi(I,C,v){const S=_s(I,C._root,v?v._root:void 0);return new ho(S,C)}(this.routeReuseStrategy,ne.targetSnapshot,ne.currentRouterState);return F={...ne,targetRouterState:je}}),(0,Mt.b)(ne=>{this.currentUrlTree=ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),this.routerState=ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ne),this.browserUrlTree=ne.urlAfterRedirects)}),((I,C,v)=>(0,fe.U)(S=>(new vt(C,S.targetRouterState,S.currentRouterState,v).activate(I),S)))(this.rootContexts,this.routeReuseStrategy,ne=>this.triggerEvent(ne)),(0,Mt.b)({next(){G=!0},complete(){G=!0}}),er(()=>{G||ee||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),Tt(ne=>{if(ee=!0,Eo(ne)){Ri(ne)||(this.navigated=!0,this.restoreHistory(F,!0));const je=new Gs(F.id,this.serializeUrl(F.extractedUrl),ne.message,ne.cancellationCode);if(S.next(je),Ri(ne)){const Et=this.urlHandlingStrategy.merge(ne.url,this.rawUrlTree),$t={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ra(F.source)};this.scheduleNavigation(Et,"imperative",null,$t,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{this.restoreHistory(F,!0);const je=new co(F.id,this.serializeUrl(F.extractedUrl),ne,F.targetSnapshot??void 0);S.next(je);try{F.resolve(this.errorHandler(ne))}catch(Et){F.reject(Et)}}return yt.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next({...this.transitions.value,...v})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const S="popstate"===v.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{const F={replaceUrl:!0},G=v.state?.navigationId?v.state:null;if(G){const ne={...G};delete ne.navigationId,delete ne.\u0275routerPageId,0!==Object.keys(ne).length&&(F.state=ne)}const ee=this.parseUrl(v.url);this.scheduleNavigation(ee,S,G,F)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(As),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,S={}){const{relativeTo:F,queryParams:G,fragment:ee,queryParamsHandling:ne,preserveFragment:je}=S,Et=F||this.routerState.root,$t=je?this.currentUrlTree.fragment:ee;let Nt=null;switch(ne){case"merge":Nt={...this.currentUrlTree.queryParams,...G};break;case"preserve":Nt=this.currentUrlTree.queryParams;break;default:Nt=G||null}return null!==Nt&&(Nt=this.removeEmptyProps(Nt)),ns(Et,this.currentUrlTree,v,Nt,$t??null)}navigateByUrl(v,S={skipLocationChange:!1}){const F=di(v)?v:this.parseUrl(v),G=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(G,"imperative",null,S)}navigate(v,S={skipLocationChange:!1}){return function jo(I){for(let C=0;C<I.length;C++){if(null==I[C])throw new g.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,S),S)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let S;try{S=this.urlSerializer.parse(v)}catch(F){S=this.malformedUriErrorHandler(F,this.urlSerializer,v)}return S}isActive(v,S){let F;if(F=!0===S?{...Ra}:!1===S?{...na}:S,di(v))return fr(this.currentUrlTree,v,F);const G=this.parseUrl(v);return fr(this.currentUrlTree,G,F)}removeEmptyProps(v){return Object.keys(v).reduce((S,F)=>{const G=v[F];return null!=G&&(S[F]=G),S},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new bs(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,S,F,G,ee){if(this.disposed)return Promise.resolve(!1);let ne,je,Et;ee?(ne=ee.resolve,je=ee.reject,Et=ee.promise):Et=new Promise((Nn,ar)=>{ne=Nn,je=ar});const $t=++this.navigationId;let Nt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(F=this.location.getState()),Nt=F&&F.\u0275routerPageId?F.\u0275routerPageId:G.replaceUrl||G.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Nt=0,this.setTransition({id:$t,targetPageId:Nt,source:S,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:G,resolve:ne,reject:je,promise:Et,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Et.catch(Nn=>Promise.reject(Nn))}setBrowserUrl(v,S){const F=this.urlSerializer.serialize(v),G={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.isCurrentPathEqualTo(F)||S.extras.replaceUrl?this.location.replaceState(F,"",G):this.location.go(F,"",G)}restoreHistory(v,S=!1){if("computed"===this.canceledNavigationResolution){const F=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===F?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===F&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(F)}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,S,F){const G=new Gs(v.id,this.serializeUrl(v.extractedUrl),S,F);this.triggerEvent(G),v.resolve(!1)}generateNgRouterState(v,S){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:S}:{navigationId:v}}}return I.\u0275fac=function(v){g.$Z()},I.\u0275prov=g.Yz7({token:I,factory:function(){return $a()},providedIn:"root"}),I})();function ra(I){return"imperative"!==I}let Cn=(()=>{class I{constructor(v,S,F){this.router=v,this.route=S,this.locationStrategy=F,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ce.x,this.subscription=v.events.subscribe(G=>{G instanceof bs&&this.updateTargetUrlAndHref()})}set preserveFragment(v){this._preserveFragment=(0,g.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,g.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,g.D6c)(v)}get replaceUrl(){return this._replaceUrl}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,S,F,G,ee){return!!(0!==v||S||F||G||ee||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return I.\u0275fac=function(v){return new(v||I)(g.Y36(ln),g.Y36(Ci),g.Y36(Ae.S$))},I.\u0275dir=g.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,S){1&v&&g.NdJ("click",function(G){return S.onClick(G.button,G.ctrlKey,G.shiftKey,G.altKey,G.metaKey)}),2&v&&g.uIk("target",S.target)("href",S.href,g.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[g.TTD]}),I})();class Ho{}let Ro=(()=>{class I{constructor(v,S,F,G,ee){this.router=v,this.injector=F,this.preloadingStrategy=G,this.loader=ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pe.h)(v=>v instanceof bs),Ve(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,S){const F=[];for(const G of S){G.providers&&!G._injector&&(G._injector=(0,g.MMx)(G.providers,v,`Route: ${G.path}`));const ee=G._injector??v,ne=G._loadedInjector??ee;G.loadChildren&&!G._loadedRoutes&&void 0===G.canLoad||G.loadComponent&&!G._loadedComponent?F.push(this.preloadConfig(ee,G)):(G.children||G._loadedRoutes)&&F.push(this.processRoutes(ne,G.children??G._loadedRoutes))}return(0,p.D)(F).pipe((0,un.J)())}preloadConfig(v,S){return this.preloadingStrategy.preload(S,()=>{let F;F=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(v,S):(0,j.of)(null);const G=F.pipe((0,qe.z)(ee=>null===ee?(0,j.of)(void 0):(S._loadedRoutes=ee.routes,S._loadedInjector=ee.injector,this.processRoutes(ee.injector??v,ee.routes))));if(S.loadComponent&&!S._loadedComponent){const ee=this.loader.loadComponent(S);return(0,p.D)([G,ee]).pipe((0,un.J)())}return G})}}return I.\u0275fac=function(v){return new(v||I)(g.LFG(ln),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Ho),g.LFG(xo))},I.\u0275prov=g.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const fo=new g.OlP("");let so=(()=>{class I{constructor(v,S,F={}){this.router=v,this.viewportScroller=S,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof bs&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof ss&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,S){this.router.triggerEvent(new ss(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(v){g.$Z()},I.\u0275prov=g.Yz7({token:I,factory:I.\u0275fac}),I})();function m(I,C){return{\u0275kind:I,\u0275providers:C}}function y(I){return[{provide:ea,multi:!0,useValue:I}]}function W(){const I=(0,g.f3M)(g.zs3);return C=>{const v=I.get(g.z2F);if(C!==v.components[0])return;const S=I.get(ln),F=I.get(X);1===I.get(ve)&&S.initialNavigation(),I.get(De,null,g.XFs.Optional)?.setUpPreloading(),I.get(fo,null,g.XFs.Optional)?.init(),S.resetRootComponentType(v.componentTypes[0]),F.next(),F.complete()}}const X=new g.OlP("",{factory:()=>new ce.x}),ve=new g.OlP("",{providedIn:"root",factory:()=>1});const De=new g.OlP("");function Qt(I){return m(0,[{provide:De,useExisting:Ro},{provide:Ho,useExisting:I}])}const hn=new g.OlP("ROUTER_FORROOT_GUARD"),kr=[Ae.Ye,{provide:pn,useClass:_n},{provide:ln,useFactory:$a},Rr,{provide:Ci,useFactory:function P(I){return I.routerState.root},deps:[ln]},xo];function pr(){return new g.PXZ("Router",ln)}let ei=(()=>{class I{constructor(v){}static forRoot(v,S){return{ngModule:I,providers:[kr,[],y(v),{provide:hn,useFactory:ti,deps:[[ln,new g.FiY,new g.tp0]]},{provide:wt,useValue:S||{}},S?.useHash?{provide:Ae.S$,useClass:Ae.Do}:{provide:Ae.S$,useClass:Ae.b0},{provide:fo,useFactory:()=>{const I=(0,g.f3M)(ln),C=(0,g.f3M)(Ae.EM),v=(0,g.f3M)(wt);return v.scrollOffset&&C.setOffset(v.scrollOffset),new so(I,C,v)}},S?.preloadingStrategy?Qt(S.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:pr},S?.initialNavigation?Ti(S):[],[{provide:ji,useFactory:W},{provide:g.tb,multi:!0,useExisting:ji}]]}}static forChild(v){return{ngModule:I,providers:[y(v)]}}}return I.\u0275fac=function(v){return new(v||I)(g.LFG(hn,8))},I.\u0275mod=g.oAB({type:I}),I.\u0275inj=g.cJS({imports:[Ss]}),I})();function ti(I){return"guarded"}function Ti(I){return["disabled"===I.initialNavigation?m(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const C=(0,g.f3M)(ln);return()=>{C.setUpLocationChangeListener()}}},{provide:ve,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?m(2,[{provide:ve,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:C=>{const v=C.get(Ae.V_,Promise.resolve());let S=!1;return()=>v.then(()=>new Promise(G=>{const ee=C.get(ln),ne=C.get(X);(function F(G){C.get(ln).events.pipe((0,Pe.h)(ne=>ne instanceof bs||ne instanceof Gs||ne instanceof co),(0,fe.U)(ne=>ne instanceof bs||ne instanceof Gs&&(0===ne.code||1===ne.code)&&null),(0,Pe.h)(ne=>null!==ne),(0,$e.q)(1)).subscribe(()=>{G()})})(()=>{G(!0),S=!0}),ee.afterPreactivation=()=>(G(!0),S||ne.closed?(0,j.of)(void 0):ne),ee.initialNavigation()}))}}]).\u0275providers:[]]}const ji=new g.OlP("")},3942:(Ot,Be,L)=>{L.d(Be,{Z:()=>Xe});var g=L(2090),p=L(4859),j=L(9681),ce=L(1877);class pe{constructor(nt,Ye){this._delegate=nt,this.firebase=Ye,(0,j._addComponent)(nt,new p.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(nt,Ye=j._DEFAULT_ENTRY_NAME){var Ft;this._delegate.checkDestroyed();const Gt=this._delegate.container.getProvider(nt);return!Gt.isInitialized()&&"EXPLICIT"===(null===(Ft=Gt.getComponent())||void 0===Ft?void 0:Ft.instantiationMode)&&Gt.initialize(),Gt.getImmediate({identifier:Ye})}_removeServiceInstance(nt,Ye=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(Ye)}_addComponent(nt){(0,j._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,j._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function Ne(){const Rt=function we(Rt){const nt={},Ye={__esModule:!0,initializeApp:function _e(at,me={}){const Je=j.initializeApp(at,me);if((0,g.r3)(nt,Je.name))return nt[Je.name];const ae=new Rt(Je,Ye);return nt[Je.name]=ae,ae},app:Gt,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function it(at){const me=at.name,Je=me.replace("-compat","");if(j._registerComponent(at)&&"PUBLIC"===at.type){const ae=(Ae=Gt())=>{if("function"!=typeof Ae[Je])throw ye.create("invalid-app-argument",{appName:me});return Ae[Je]()};void 0!==at.serviceProps&&(0,g.ZB)(ae,at.serviceProps),Ye[Je]=ae,Rt.prototype[Je]=function(...Ae){return this._getService.bind(this,me).apply(this,at.multipleInstances?Ae:[])}}return"PUBLIC"===at.type?Ye[Je]:null},removeApp:function Ft(at){delete nt[at]},useAsService:function yt(at,me){return"serverAuth"===me?null:me},modularAPIs:j}};function Gt(at){if(!(0,g.r3)(nt,at=at||j._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:at});return nt[at]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function st(){return Object.keys(nt).map(at=>nt[at])}}),Gt.App=Rt,Ye}(pe);return Rt.INTERNAL=Object.assign(Object.assign({},Rt.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function nt(Ye){(0,g.ZB)(Rt,Ye)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),Rt}(),le=new ce.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Rt=self.firebase.SDK_VERSION;Rt&&Rt.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=se;!function dt(Rt){(0,j.registerVersion)("@firebase/app-compat","0.1.37",Rt)}()},9681:(Ot,Be,L)=>{L.r(Be),L.d(Be,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>br,_DEFAULT_ENTRY_NAME:()=>ze,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>Dt,_apps:()=>Mt,_clearComponents:()=>jn,_components:()=>Tt,_getProvider:()=>Ht,_registerComponent:()=>En,_removeServiceInstance:()=>gn,deleteApp:()=>mn,getApp:()=>Tr,getApps:()=>Or,initializeApp:()=>Wt,onLog:()=>tr,registerVersion:()=>hr,setLogLevel:()=>Sr});var g=L(5861),p=L(4859),j=L(1877),ce=L(2090),pe=L(8766);class ue{constructor(mt){this.container=mt}getPlatformInfoString(){return this.container.getProviders().map(Lt=>{if(function ye(zt){return"VERSION"===zt.getComponent()?.type}(Lt)){const yn=Lt.getImmediate();return`${yn.library}/${yn.version}`}return null}).filter(Lt=>Lt).join(" ")}}const we="@firebase/app",se=new j.Yd("@firebase/app"),ze="[DEFAULT]",Ve={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mt=new Map,Tt=new Map;function Zt(zt,mt){try{zt.container.addComponent(mt)}catch(Lt){se.debug(`Component ${mt.name} failed to register with FirebaseApp ${zt.name}`,Lt)}}function Dt(zt,mt){zt.container.addOrOverwriteComponent(mt)}function En(zt){const mt=zt.name;if(Tt.has(mt))return se.debug(`There were multiple attempts to register component ${mt}.`),!1;Tt.set(mt,zt);for(const Lt of Mt.values())Zt(Lt,zt);return!0}function Ht(zt,mt){const Lt=zt.container.getProvider("heartbeat").getImmediate({optional:!0});return Lt&&Lt.triggerHeartbeat(),zt.container.getProvider(mt)}function gn(zt,mt,Lt=ze){Ht(zt,mt).clearInstance(Lt)}function jn(){Tt.clear()}const er=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class un{constructor(mt,Lt,yn){this._isDeleted=!1,this._options=Object.assign({},mt),this._config=Object.assign({},Lt),this._name=Lt.name,this._automaticDataCollectionEnabled=Lt.automaticDataCollectionEnabled,this._container=yn,this.container.addComponent(new p.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this.checkDestroyed(),this._automaticDataCollectionEnabled=mt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(mt){this._isDeleted=mt}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const br="9.12.1";function Wt(zt,mt={}){let Lt=zt;"object"!=typeof mt&&(mt={name:mt});const yn=Object.assign({name:ze,automaticDataCollectionEnabled:!1},mt),pn=yn.name;if("string"!=typeof pn||!pn)throw er.create("bad-app-name",{appName:String(pn)});if(Lt||(Lt=(0,ce.aH)()),!Lt)throw er.create("no-options");const _n=Mt.get(pn);if(_n){if((0,ce.vZ)(Lt,_n.options)&&(0,ce.vZ)(yn,_n.config))return _n;throw er.create("duplicate-app",{appName:pn})}const Ce=new p.H0(pn);for(const Se of Tt.values())Ce.addComponent(Se);const he=new un(Lt,yn,Ce);return Mt.set(pn,he),he}function Tr(zt=ze){const mt=Mt.get(zt);if(!mt&&zt===ze)return Wt();if(!mt)throw er.create("no-app",{appName:zt});return mt}function Or(){return Array.from(Mt.values())}function mn(zt){return St.apply(this,arguments)}function St(){return(St=(0,g.Z)(function*(zt){const mt=zt.name;Mt.has(mt)&&(Mt.delete(mt),yield Promise.all(zt.container.getProviders().map(Lt=>Lt.delete())),zt.isDeleted=!0)})).apply(this,arguments)}function hr(zt,mt,Lt){var yn;let pn=null!==(yn=Ve[zt])&&void 0!==yn?yn:zt;Lt&&(pn+=`-${Lt}`);const _n=pn.match(/\s|\//),Ce=mt.match(/\s|\//);if(_n||Ce){const he=[`Unable to register library "${pn}" with version "${mt}":`];return _n&&he.push(`library name "${pn}" contains illegal characters (whitespace or "/")`),_n&&Ce&&he.push("and"),Ce&&he.push(`version name "${mt}" contains illegal characters (whitespace or "/")`),void se.warn(he.join(" "))}En(new p.wA(`${pn}-version`,()=>({library:pn,version:mt}),"VERSION"))}function tr(zt,mt){if(null!==zt&&"function"!=typeof zt)throw er.create("invalid-log-argument");(0,j.Am)(zt,mt)}function Sr(zt){(0,j.Ub)(zt)}const yr="firebase-heartbeat-store";let Pn=null;function Hn(){return Pn||(Pn=(0,pe.X3)("firebase-heartbeat-database",1,{upgrade:(zt,mt)=>{0===mt&&zt.createObjectStore(yr)}}).catch(zt=>{throw er.create("idb-open",{originalErrorMessage:zt.message})})),Pn}function qt(){return(qt=(0,g.Z)(function*(zt){var mt;try{return(yield Hn()).transaction(yr).objectStore(yr).get(fr(zt))}catch(Lt){if(Lt instanceof ce.ZR)se.warn(Lt.message);else{const yn=er.create("idb-get",{originalErrorMessage:null===(mt=Lt)||void 0===mt?void 0:mt.message});se.warn(yn.message)}}})).apply(this,arguments)}function nr(zt,mt){return wr.apply(this,arguments)}function wr(){return(wr=(0,g.Z)(function*(zt,mt){var Lt;try{const pn=(yield Hn()).transaction(yr,"readwrite");return yield pn.objectStore(yr).put(mt,fr(zt)),pn.done}catch(yn){if(yn instanceof ce.ZR)se.warn(yn.message);else{const pn=er.create("idb-set",{originalErrorMessage:null===(Lt=yn)||void 0===Lt?void 0:Lt.message});se.warn(pn.message)}}})).apply(this,arguments)}function fr(zt){return`${zt.name}!${zt.options.appId}`}class Li{constructor(mt){this.container=mt,this._heartbeatsCache=null;const Lt=this.container.getProvider("app").getImmediate();this._storage=new $n(Lt),this._heartbeatsCachePromise=this._storage.read().then(yn=>(this._heartbeatsCache=yn,yn))}triggerHeartbeat(){var mt=this;return(0,g.Z)(function*(){const yn=mt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pn=Qn();if(null===mt._heartbeatsCache&&(mt._heartbeatsCache=yield mt._heartbeatsCachePromise),mt._heartbeatsCache.lastSentHeartbeatDate!==pn&&!mt._heartbeatsCache.heartbeats.some(_n=>_n.date===pn))return mt._heartbeatsCache.heartbeats.push({date:pn,agent:yn}),mt._heartbeatsCache.heartbeats=mt._heartbeatsCache.heartbeats.filter(_n=>{const Ce=new Date(_n.date).valueOf();return Date.now()-Ce<=2592e6}),mt._storage.overwrite(mt._heartbeatsCache)})()}getHeartbeatsHeader(){var mt=this;return(0,g.Z)(function*(){if(null===mt._heartbeatsCache&&(yield mt._heartbeatsCachePromise),null===mt._heartbeatsCache||0===mt._heartbeatsCache.heartbeats.length)return"";const Lt=Qn(),{heartbeatsToSend:yn,unsentEntries:pn}=function zi(zt,mt=1024){const Lt=[];let yn=zt.slice();for(const pn of zt){const _n=Lt.find(Ce=>Ce.agent===pn.agent);if(_n){if(_n.dates.push(pn.date),Ar(Lt)>mt){_n.dates.pop();break}}else if(Lt.push({agent:pn.agent,dates:[pn.date]}),Ar(Lt)>mt){Lt.pop();break}yn=yn.slice(1)}return{heartbeatsToSend:Lt,unsentEntries:yn}}(mt._heartbeatsCache.heartbeats),_n=(0,ce.L)(JSON.stringify({version:2,heartbeats:yn}));return mt._heartbeatsCache.lastSentHeartbeatDate=Lt,pn.length>0?(mt._heartbeatsCache.heartbeats=pn,yield mt._storage.overwrite(mt._heartbeatsCache)):(mt._heartbeatsCache.heartbeats=[],mt._storage.overwrite(mt._heartbeatsCache)),_n})()}}function Qn(){return(new Date).toISOString().substring(0,10)}class $n{constructor(mt){this.app=mt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var mt=this;return(0,g.Z)(function*(){return(yield mt._canUseIndexedDBPromise)&&(yield function Xt(zt){return qt.apply(this,arguments)}(mt.app))||{heartbeats:[]}})()}overwrite(mt){var Lt=this;return(0,g.Z)(function*(){var yn;if(yield Lt._canUseIndexedDBPromise){const _n=yield Lt.read();return nr(Lt.app,{lastSentHeartbeatDate:null!==(yn=mt.lastSentHeartbeatDate)&&void 0!==yn?yn:_n.lastSentHeartbeatDate,heartbeats:mt.heartbeats})}})()}add(mt){var Lt=this;return(0,g.Z)(function*(){var yn;if(yield Lt._canUseIndexedDBPromise){const _n=yield Lt.read();return nr(Lt.app,{lastSentHeartbeatDate:null!==(yn=mt.lastSentHeartbeatDate)&&void 0!==yn?yn:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...mt.heartbeats]})}})()}}function Ar(zt){return(0,ce.L)(JSON.stringify({version:2,heartbeats:zt})).length}!function dn(zt){En(new p.wA("platform-logger",mt=>new ue(mt),"PRIVATE")),En(new p.wA("heartbeat",mt=>new Li(mt),"PRIVATE")),hr(we,"0.8.2",zt),hr(we,"0.8.2","esm2017"),hr("fire-js","")}("")},4859:(Ot,Be,L)=>{L.d(Be,{H0:()=>we,wA:()=>j});var g=L(5861),p=L(2090);class j{constructor(se,le,be){this.name=se,this.instanceFactory=le,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const ce="[DEFAULT]";class pe{constructor(se,le){this.name=se,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const le=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(le)){const be=new p.BH;if(this.instancesDeferred.set(le,be),this.isInitialized(le)||this.shouldAutoInitialize())try{const gt=this.getOrInitializeService({instanceIdentifier:le});gt&&be.resolve(gt)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(se){var le;const be=this.normalizeInstanceIdentifier(se?.identifier),gt=null!==(le=se?.optional)&&void 0!==le&&le;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(gt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(dt){if(gt)return null;throw dt}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function ye(Ne){return"EAGER"===Ne.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[le,be]of this.instancesDeferred.entries()){const gt=this.normalizeInstanceIdentifier(le);try{const dt=this.getOrInitializeService({instanceIdentifier:gt});be.resolve(dt)}catch{}}}}clearInstance(se=ce){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,g.Z)(function*(){const le=Array.from(se.instances.values());yield Promise.all([...le.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...le.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=ce){return this.instances.has(se)}getOptions(se=ce){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:le={}}=se,be=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const gt=this.getOrInitializeService({instanceIdentifier:be,options:le});for(const[dt,Xe]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(dt)&&Xe.resolve(gt);return gt}onInit(se,le){var be;const gt=this.normalizeInstanceIdentifier(le),dt=null!==(be=this.onInitCallbacks.get(gt))&&void 0!==be?be:new Set;dt.add(se),this.onInitCallbacks.set(gt,dt);const Xe=this.instances.get(gt);return Xe&&se(Xe,gt),()=>{dt.delete(se)}}invokeOnInitCallbacks(se,le){const be=this.onInitCallbacks.get(le);if(be)for(const gt of be)try{gt(se,le)}catch{}}getOrInitializeService({instanceIdentifier:se,options:le={}}){let be=this.instances.get(se);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=se,Ne===ce?void 0:Ne),options:le}),this.instances.set(se,be),this.instancesOptions.set(se,le),this.invokeOnInitCallbacks(be,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,be)}catch{}var Ne;return be||null}normalizeInstanceIdentifier(se=ce){return this.component?this.component.multipleInstances?se:ce:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const le=this.getProvider(se.name);if(le.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);le.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const le=new pe(se,this);return this.providers.set(se,le),le}getProviders(){return Array.from(this.providers.values())}}},1877:(Ot,Be,L)=>{L.d(Be,{Am:()=>Ne,Ub:()=>we,Yd:()=>ye,in:()=>p});const g=[];var p=(()=>{return(se=p||(p={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",p;var se})();const j={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},ce=p.INFO,pe={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},ue=(se,le,...be)=>{if(le<se.logLevel)return;const gt=(new Date).toISOString(),dt=pe[le];if(!dt)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[dt](`[${gt}]  ${se.name}:`,...be)};class ye{constructor(le){this.name=le,this._logLevel=ce,this._logHandler=ue,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in p))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?j[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...le),this._logHandler(this,p.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...le),this._logHandler(this,p.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,p.INFO,...le),this._logHandler(this,p.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,p.WARN,...le),this._logHandler(this,p.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...le),this._logHandler(this,p.ERROR,...le)}}function we(se){g.forEach(le=>{le.setLogLevel(se)})}function Ne(se,le){for(const be of g){let gt=null;le&&le.level&&(gt=j[le.level]),be.userLogHandler=null===se?null:(dt,Xe,...Rt)=>{const nt=Rt.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch{return null}}).filter(Ye=>Ye).join(" ");Xe>=(gt??dt.logLevel)&&se({level:p[Xe].toLowerCase(),message:nt,args:Rt,type:dt.name})}}}},8766:(Ot,Be,L)=>{L.d(Be,{Lj:()=>_e,X3:()=>Gt});var g=L(5861);let j,ce;const ye=new WeakMap,we=new WeakMap,Ne=new WeakMap,se=new WeakMap,le=new WeakMap;let dt={get(me,Je,ae){if(me instanceof IDBTransaction){if("done"===Je)return we.get(me);if("objectStoreNames"===Je)return me.objectStoreNames||Ne.get(me);if("store"===Je)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Ye(me[Je])},set:(me,Je,ae)=>(me[Je]=ae,!0),has:(me,Je)=>me instanceof IDBTransaction&&("done"===Je||"store"===Je)||Je in me};function nt(me){return"function"==typeof me?function Rt(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...Je){return me.apply(Ft(this),Je),Ye(ye.get(this))}:function(...Je){return Ye(me.apply(Ft(this),Je))}:function(Je,...ae){const Ae=me.call(Ft(this),Je,...ae);return Ne.set(Ae,Je.sort?Je.sort():[Je]),Ye(Ae)}}(me):(me instanceof IDBTransaction&&function gt(me){if(we.has(me))return;const Je=new Promise((ae,Ae)=>{const fe=()=>{me.removeEventListener("complete",Fe),me.removeEventListener("error",$e),me.removeEventListener("abort",$e)},Fe=()=>{ae(),fe()},$e=()=>{Ae(me.error||new DOMException("AbortError","AbortError")),fe()};me.addEventListener("complete",Fe),me.addEventListener("error",$e),me.addEventListener("abort",$e)});we.set(me,Je)}(me),((me,Je)=>Je.some(ae=>me instanceof ae))(me,function pe(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,dt):me)}function Ye(me){if(me instanceof IDBRequest)return function be(me){const Je=new Promise((ae,Ae)=>{const fe=()=>{me.removeEventListener("success",Fe),me.removeEventListener("error",$e)},Fe=()=>{ae(Ye(me.result)),fe()},$e=()=>{Ae(me.error),fe()};me.addEventListener("success",Fe),me.addEventListener("error",$e)});return Je.then(ae=>{ae instanceof IDBCursor&&ye.set(ae,me)}).catch(()=>{}),le.set(Je,me),Je}(me);if(se.has(me))return se.get(me);const Je=nt(me);return Je!==me&&(se.set(me,Je),le.set(Je,me)),Je}const Ft=me=>le.get(me);function Gt(me,Je,{blocked:ae,upgrade:Ae,blocking:fe,terminated:Fe}={}){const $e=indexedDB.open(me,Je),Qe=Ye($e);return Ae&&$e.addEventListener("upgradeneeded",Pe=>{Ae(Ye($e.result),Pe.oldVersion,Pe.newVersion,Ye($e.transaction))}),ae&&$e.addEventListener("blocked",()=>ae()),Qe.then(Pe=>{Fe&&Pe.addEventListener("close",()=>Fe()),fe&&Pe.addEventListener("versionchange",()=>fe())}).catch(()=>{}),Qe}function _e(me,{blocked:Je}={}){const ae=indexedDB.deleteDatabase(me);return Je&&ae.addEventListener("blocked",()=>Je()),Ye(ae).then(()=>{})}const st=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],yt=new Map;function at(me,Je){if(!(me instanceof IDBDatabase)||Je in me||"string"!=typeof Je)return;if(yt.get(Je))return yt.get(Je);const ae=Je.replace(/FromIndex$/,""),Ae=Je!==ae,fe=it.includes(ae);if(!(ae in(Ae?IDBIndex:IDBObjectStore).prototype)||!fe&&!st.includes(ae))return;const Fe=function(){var $e=(0,g.Z)(function*(Qe,...Pe){const qe=this.transaction(Qe,fe?"readwrite":"readonly");let ze=qe.store;return Ae&&(ze=ze.index(Pe.shift())),(yield Promise.all([ze[ae](...Pe),fe&&qe.done]))[0]});return function(Pe){return $e.apply(this,arguments)}}();return yt.set(Je,Fe),Fe}!function Xe(me){dt=me(dt)}(me=>({...me,get:(Je,ae,Ae)=>at(Je,ae)||me.get(Je,ae,Ae),has:(Je,ae)=>!!at(Je,ae)||me.has(Je,ae)}))},5861:(Ot,Be,L)=>{function g(j,ce,pe,ue,ye,we,Ne){try{var se=j[we](Ne),le=se.value}catch(be){return void pe(be)}se.done?ce(le):Promise.resolve(le).then(ue,ye)}function p(j){return function(){var ce=this,pe=arguments;return new Promise(function(ue,ye){var we=j.apply(ce,pe);function Ne(le){g(we,ue,ye,Ne,se,"next",le)}function se(le){g(we,ue,ye,Ne,se,"throw",le)}Ne(void 0)})}}L.d(Be,{Z:()=>p})}},Ot=>{Ot(Ot.s=1782)}]);