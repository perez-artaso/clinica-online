"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[896],{2896:(S,d,a)=>{a.r(d),a.d(d,{AdminModule:()=>k});var l=a(6895),c=a(9051),e=a(4650),g=a(1980),f=a(1458),_=a(5861),o=a(433),v=a(4707),w=a(7101),Z=a(8495),A=a(4732),u=a(9181),C=a(8709);let h=(()=>{class n{constructor(t,i,s){this.register=t,this.profiles=i,this.profileImages=s,this.exitEmitter=new e.vpe,this.base64FirstImage="",this.newUserForm=new o.cw({name:new o.NI("",o.kI.compose([])),last_name:new o.NI("",o.kI.compose([])),age:new o.NI(0,o.kI.compose([])),id_number:new o.NI("",o.kI.compose([])),first_profile_image:new o.NI("",o.kI.compose([])),email:new o.NI("",o.kI.compose([])),password:new o.NI("",o.kI.compose([])),password_control:new o.NI("",o.kI.compose([]))})}ngOnInit(){}submit(){var t=this;this.register.NewUser(this.newUserForm.get("email")?.value,this.newUserForm.get("password")?.value).then((0,_.Z)(function*(){let i=yield t.register.GetNewUserID();t.profiles.addDocument(new w.N(i,t.newUserForm.get("name")?.value,t.newUserForm.get("last_name")?.value,t.newUserForm.get("age")?.value,t.newUserForm.get("id_number")?.value,t.newUserForm.get("email")?.value,2).getLiteralObjectRepresentation()),t.profileImages.addDocument(new Z.v(i,[t.base64FirstImage]).getLiteralObjectRepresentation()),t.register.VerifyUser(),t.exit()}))}firstImageSubmitted(t){this.convertFile(t.target.files[0]).subscribe(i=>{this.base64FirstImage=i})}convertFile(t){const i=new v.t(1),s=new FileReader;return s.readAsBinaryString(t),s.onload=p=>{p&&p.target&&p.target.result&&i.next(btoa(p.target.result.toString()))},i}exit(){this.exitEmitter.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.a),e.Y36(u.H),e.Y36(C.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-register"]],outputs:{exitEmitter:"onExit"},decls:57,vars:1,consts:[["id","new-patient-form",3,"formGroup"],[1,"row"],[1,"border","border-dark","rounded","form-section"],[1,"pl-3","pt-3","pb-0"],[1,"row","p-3","pt-0"],[1,"col-6"],[1,"form-group"],["for","first-name"],["formControlName","name","type","text","name","first-name","id","first-name",1,"form-control"],["for","last-name"],["formControlName","last_name","type","text","name","last-name","id","last-name",1,"form-control"],["for","age"],["formControlName","age","type","number","name","age","id","age",1,"form-control"],["for","id-number"],["formControlName","id_number","type","text","name","id-number","id","id-number",1,"form-control"],[1,"border","border-dark","rounded","mt-3","form-section"],[1,"col-12"],[1,"input-group"],["type","file","id","first-profile-image",1,"form-control",3,"change"],[1,"mt-3","mx-auto","border","border-dark","rounded","form-section"],["for","email"],["formControlName","email","type","text","name","email","id","email",1,"form-control"],[1,"col-12","my-2"],["for","password"],["formControlName","password","type","password","name","password","id","password",1,"form-control"],["for","password-control"],["formControlName","password_control","type","password","name","password-control","id","password-control",1,"form-control"],[1,"row","mt-3"],[1,"btn","lg-form-btn",3,"click"],[1,"btn","lg-form-btn","exit","mt-2",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4,"Informaci\xf3n General"),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",8),e.qZA()(),e.TgZ(11,"div",5)(12,"div",6)(13,"label",9),e._uU(14,"Apellido"),e.qZA(),e._UZ(15,"input",10),e.qZA()(),e.TgZ(16,"div",5)(17,"div",6)(18,"label",11),e._uU(19,"Edad"),e.qZA(),e._UZ(20,"input",12),e.qZA()(),e.TgZ(21,"div",5)(22,"div",6)(23,"label",13),e._uU(24,"DNI"),e.qZA(),e._UZ(25,"input",14),e.qZA()()()(),e.TgZ(26,"div",15)(27,"h3",3),e._uU(28,"Imagen de perfil"),e.qZA(),e.TgZ(29,"div",4)(30,"div",16)(31,"div",17)(32,"input",18),e.NdJ("change",function(p){return i.firstImageSubmitted(p)}),e.qZA()()()()(),e.TgZ(33,"div",19)(34,"h3",3),e._uU(35,"Credenciales"),e.qZA(),e.TgZ(36,"div",4)(37,"div",16)(38,"div",6)(39,"label",20),e._uU(40,"Email"),e.qZA(),e._UZ(41,"input",21),e.qZA()(),e.TgZ(42,"div",22)(43,"div",6)(44,"label",23),e._uU(45,"Contrase\xf1a"),e.qZA(),e._UZ(46,"input",24),e.qZA()(),e.TgZ(47,"div",22)(48,"div",6)(49,"label",25),e._uU(50,"Confirmaci\xf3n de contrase\xf1a"),e.qZA(),e._UZ(51,"input",26),e.qZA()()()()(),e.TgZ(52,"div",27)(53,"button",28),e.NdJ("click",function(){return i.submit()}),e._uU(54,"Enviar"),e.qZA(),e.TgZ(55,"button",29),e.NdJ("click",function(){return i.exit()}),e._uU(56,"Salir"),e.qZA()()()),2&t&&e.Q6J("formGroup",i.newUserForm)},dependencies:[o.Fj,o.wV,o.JJ,o.JL,o.sg,o.u],styles:[".form-section[_ngcontent-%COMP%]{background-color:var(--dark);color:#fff}.lg-form-btn[_ngcontent-%COMP%]{width:100%!important;background-color:var(--light);color:#fff;font-size:calc(1.275rem + .3vw)}.exit[_ngcontent-%COMP%]{background-color:#7e1d1d}.new-patient-form[_ngcontent-%COMP%]{max-height:100%}"]}),n})();function U(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-patient-register",7),e.NdJ("onExit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.exit())}),e.qZA()}}function N(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-specialist-register",7),e.NdJ("onExit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.exit())}),e.qZA()}}function T(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-admin-register",7),e.NdJ("onExit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.exit())}),e.qZA()}}let b=(()=>{class n{constructor(t){this.router=t,this.newSpecialist=!1,this.newPatient=!0,this.newAdmin=!1}ngOnInit(){}exit(){this.router.navigate(["/home"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-user"]],decls:16,vars:3,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-8"],[3,"onExit",4,"ngIf"],[1,"col-4"],["id","options-container"],[1,"alert","alert-info",3,"click"],[3,"onExit"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,U,1,0,"app-patient-register",3),e.YNc(4,N,1,0,"app-specialist-register",3),e.YNc(5,T,1,0,"app-admin-register",3),e.qZA(),e.TgZ(6,"div",4)(7,"h1"),e._uU(8,"Opciones"),e.qZA(),e.TgZ(9,"div",5)(10,"div",6),e.NdJ("click",function(){return i.newPatient=!0,i.newSpecialist=!1,i.newAdmin=!1}),e._uU(11," Nuevo Paciente "),e.qZA(),e.TgZ(12,"div",6),e.NdJ("click",function(){return i.newPatient=!1,i.newSpecialist=!0,i.newAdmin=!1}),e._uU(13," Nuevo Especialista "),e.qZA(),e.TgZ(14,"div",6),e.NdJ("click",function(){return i.newPatient=!1,i.newSpecialist=!1,i.newAdmin=!0}),e._uU(15," Nuevo Administrador "),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.newPatient),e.xp6(1),e.Q6J("ngIf",i.newSpecialist),e.xp6(1),e.Q6J("ngIf",i.newAdmin))},dependencies:[l.O5,g.e,f.c,h],styles:["#options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:3rem;border:solid var(--dark) 1px;border-radius:5px;padding:3rem}.alert[_ngcontent-%COMP%]:hover{cursor:pointer}.alert[_ngcontent-%COMP%]:active{transform:scale(.9)}"]}),n})();function x(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){const p=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.block_specialist(p))}),e.TgZ(1,"p",7),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.name+" "+t.last_name),e.xp6(2),e.hij(" ",t.speciality," ")}}function F(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){const p=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.approve_specialist(p))}),e.TgZ(1,"p",7),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.name+" "+t.last_name),e.xp6(2),e.hij(" ",t.speciality," ")}}const I=[{path:"",children:[{path:"specialists",component:(()=>{class n{constructor(t){this.profileService=t,this.approved_specialists=[],this.not_approved_specialists=[]}ngOnInit(){this.profileService.getSpecialistsProfiles().subscribe(t=>{t&&(this.approved_specialists=t.filter(i=>1==i.approved),this.not_approved_specialists=t.filter(i=>0==i.approved))})}approve_specialist(t){t.approved=1,this.profileService.updateDocument(t.id,t)}block_specialist(t){t.approved=0,this.profileService.updateDocument(t.id,t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.H))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-specialist-management"]],decls:10,vars:2,consts:[[1,"container"],[1,"row"],["id","approved",1,"col-6"],["class","alert alert-success",3,"click",4,"ngFor","ngForOf"],["id","not-approved",1,"col-6"],["class","alert alert-danger",3,"click",4,"ngFor","ngForOf"],[1,"alert","alert-success",3,"click"],[2,"font-weight","bold"],[1,"alert","alert-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e._uU(4,"Aprobados"),e.qZA(),e.YNc(5,x,5,2,"div",3),e.qZA(),e.TgZ(6,"div",4)(7,"h1"),e._uU(8,"Pendientes de aprobaci\xf3n"),e.qZA(),e.YNc(9,F,5,2,"div",5),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("ngForOf",i.approved_specialists),e.xp6(4),e.Q6J("ngForOf",i.not_approved_specialists))},dependencies:[l.sg],styles:[".alert[_ngcontent-%COMP%]:hover{cursor:pointer}.alert[_ngcontent-%COMP%]:active{transform:scale(.9)}"]}),n})()},{path:"new-user",component:b}]}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.Bz.forChild(I),c.Bz]}),n})();var y=a(7103);let k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,M,y.RegisterModule]}),n})()}}]);